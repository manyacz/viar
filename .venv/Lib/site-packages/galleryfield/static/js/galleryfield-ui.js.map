{"version":3,"file":"galleryfield-ui.js","sources":["../../../node_modules/blueimp-load-image/js/load-image.js","../../../node_modules/blueimp-load-image/js/load-image-scale.js","../../../node_modules/blueimp-load-image/js/load-image-meta.js","../../../node_modules/blueimp-load-image/js/load-image-fetch.js","../../../node_modules/blueimp-load-image/js/load-image-exif.js","../../../node_modules/blueimp-load-image/js/load-image-exif-map.js","../../../node_modules/blueimp-load-image/js/load-image-iptc.js","../../../node_modules/blueimp-load-image/js/load-image-iptc-map.js","../../../node_modules/blueimp-load-image/js/load-image-orientation.js","../../../node_modules/blueimp-load-image/js/index.js","../../../node_modules/sortablejs/modular/sortable.esm.js","../../../node_modules/cropperjs/dist/cropper.esm.js","module-importer.js","../../../node_modules/blueimp-gallery/js/jquery.blueimp-gallery.min.js","../../../node_modules/blueimp-tmpl/js/tmpl.js","../../../node_modules/blueimp-canvas-to-blob/js/canvas-to-blob.js","../../../node_modules/blueimp-file-upload/js/vendor/jquery.ui.widget.js","../../../node_modules/blueimp-file-upload/js/jquery.fileupload.js","../../../node_modules/blueimp-file-upload/js/jquery.fileupload-process.js","../../../node_modules/blueimp-file-upload/js/jquery.fileupload-image.js","../../../node_modules/blueimp-file-upload/js/jquery.fileupload-audio.js","../../../node_modules/blueimp-file-upload/js/jquery.fileupload-video.js","../../../node_modules/blueimp-file-upload/js/jquery.fileupload-validate.js","../../../node_modules/blueimp-file-upload/js/jquery.fileupload-ui.js","jquery.fileupload-ui-gallery-widget.js","../../../node_modules/rollup-plugin-styles/dist/runtime/inject-css.js"],"sourcesContent":["/*\n * JavaScript Load Image\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, Promise */\n\n;(function ($) {\n  'use strict'\n\n  var urlAPI = $.URL || $.webkitURL\n\n  /**\n   * Creates an object URL for a given File object.\n   *\n   * @param {Blob} blob Blob object\n   * @returns {string|boolean} Returns object URL if API exists, else false.\n   */\n  function createObjectURL(blob) {\n    return urlAPI ? urlAPI.createObjectURL(blob) : false\n  }\n\n  /**\n   * Revokes a given object URL.\n   *\n   * @param {string} url Blob object URL\n   * @returns {undefined|boolean} Returns undefined if API exists, else false.\n   */\n  function revokeObjectURL(url) {\n    return urlAPI ? urlAPI.revokeObjectURL(url) : false\n  }\n\n  /**\n   * Helper function to revoke an object URL\n   *\n   * @param {string} url Blob Object URL\n   * @param {object} [options] Options object\n   */\n  function revokeHelper(url, options) {\n    if (url && url.slice(0, 5) === 'blob:' && !(options && options.noRevoke)) {\n      revokeObjectURL(url)\n    }\n  }\n\n  /**\n   * Loads a given File object via FileReader interface.\n   *\n   * @param {Blob} file Blob object\n   * @param {Function} onload Load event callback\n   * @param {Function} [onerror] Error/Abort event callback\n   * @param {string} [method=readAsDataURL] FileReader method\n   * @returns {FileReader|boolean} Returns FileReader if API exists, else false.\n   */\n  function readFile(file, onload, onerror, method) {\n    if (!$.FileReader) return false\n    var reader = new FileReader()\n    reader.onload = function () {\n      onload.call(reader, this.result)\n    }\n    if (onerror) {\n      reader.onabort = reader.onerror = function () {\n        onerror.call(reader, this.error)\n      }\n    }\n    var readerMethod = reader[method || 'readAsDataURL']\n    if (readerMethod) {\n      readerMethod.call(reader, file)\n      return reader\n    }\n  }\n\n  /**\n   * Cross-frame instanceof check.\n   *\n   * @param {string} type Instance type\n   * @param {object} obj Object instance\n   * @returns {boolean} Returns true if the object is of the given instance.\n   */\n  function isInstanceOf(type, obj) {\n    // Cross-frame instanceof check\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']'\n  }\n\n  /**\n   * @typedef { HTMLImageElement|HTMLCanvasElement } Result\n   */\n\n  /**\n   * Loads an image for a given File object.\n   *\n   * @param {Blob|string} file Blob object or image URL\n   * @param {Function|object} [callback] Image load event callback or options\n   * @param {object} [options] Options object\n   * @returns {HTMLImageElement|FileReader|Promise<Result>} Object\n   */\n  function loadImage(file, callback, options) {\n    /**\n     * Promise executor\n     *\n     * @param {Function} resolve Resolution function\n     * @param {Function} reject Rejection function\n     * @returns {HTMLImageElement|FileReader} Object\n     */\n    function executor(resolve, reject) {\n      var img = document.createElement('img')\n      var url\n      /**\n       * Callback for the fetchBlob call.\n       *\n       * @param {HTMLImageElement|HTMLCanvasElement} img Error object\n       * @param {object} data Data object\n       * @returns {undefined} Undefined\n       */\n      function resolveWrapper(img, data) {\n        if (resolve === reject) {\n          // Not using Promises\n          if (resolve) resolve(img, data)\n          return\n        } else if (img instanceof Error) {\n          reject(img)\n          return\n        }\n        data = data || {} // eslint-disable-line no-param-reassign\n        data.image = img\n        resolve(data)\n      }\n      /**\n       * Callback for the fetchBlob call.\n       *\n       * @param {Blob} blob Blob object\n       * @param {Error} err Error object\n       */\n      function fetchBlobCallback(blob, err) {\n        if (err && $.console) console.log(err) // eslint-disable-line no-console\n        if (blob && isInstanceOf('Blob', blob)) {\n          file = blob // eslint-disable-line no-param-reassign\n          url = createObjectURL(file)\n        } else {\n          url = file\n          if (options && options.crossOrigin) {\n            img.crossOrigin = options.crossOrigin\n          }\n        }\n        img.src = url\n      }\n      img.onerror = function (event) {\n        revokeHelper(url, options)\n        if (reject) reject.call(img, event)\n      }\n      img.onload = function () {\n        revokeHelper(url, options)\n        var data = {\n          originalWidth: img.naturalWidth || img.width,\n          originalHeight: img.naturalHeight || img.height\n        }\n        try {\n          loadImage.transform(img, options, resolveWrapper, file, data)\n        } catch (error) {\n          if (reject) reject(error)\n        }\n      }\n      if (typeof file === 'string') {\n        if (loadImage.requiresMetaData(options)) {\n          loadImage.fetchBlob(file, fetchBlobCallback, options)\n        } else {\n          fetchBlobCallback()\n        }\n        return img\n      } else if (isInstanceOf('Blob', file) || isInstanceOf('File', file)) {\n        url = createObjectURL(file)\n        if (url) {\n          img.src = url\n          return img\n        }\n        return readFile(\n          file,\n          function (url) {\n            img.src = url\n          },\n          reject\n        )\n      }\n    }\n    if ($.Promise && typeof callback !== 'function') {\n      options = callback // eslint-disable-line no-param-reassign\n      return new Promise(executor)\n    }\n    return executor(callback, callback)\n  }\n\n  // Determines if metadata should be loaded automatically.\n  // Requires the load image meta extension to load metadata.\n  loadImage.requiresMetaData = function (options) {\n    return options && options.meta\n  }\n\n  // If the callback given to this function returns a blob, it is used as image\n  // source instead of the original url and overrides the file argument used in\n  // the onload and onerror event callbacks:\n  loadImage.fetchBlob = function (url, callback) {\n    callback()\n  }\n\n  loadImage.transform = function (img, options, callback, file, data) {\n    callback(img, data)\n  }\n\n  loadImage.global = $\n  loadImage.readFile = readFile\n  loadImage.isInstanceOf = isInstanceOf\n  loadImage.createObjectURL = createObjectURL\n  loadImage.revokeObjectURL = revokeObjectURL\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return loadImage\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = loadImage\n  } else {\n    $.loadImage = loadImage\n  }\n})((typeof window !== 'undefined' && window) || this)\n","/*\n * JavaScript Load Image Scaling\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var originalTransform = loadImage.transform\n\n  loadImage.createCanvas = function (width, height, offscreen) {\n    if (offscreen && loadImage.global.OffscreenCanvas) {\n      return new OffscreenCanvas(width, height)\n    }\n    var canvas = document.createElement('canvas')\n    canvas.width = width\n    canvas.height = height\n    return canvas\n  }\n\n  loadImage.transform = function (img, options, callback, file, data) {\n    originalTransform.call(\n      loadImage,\n      loadImage.scale(img, options, data),\n      options,\n      callback,\n      file,\n      data\n    )\n  }\n\n  // Transform image coordinates, allows to override e.g.\n  // the canvas orientation based on the orientation option,\n  // gets canvas, options and data passed as arguments:\n  loadImage.transformCoordinates = function () {}\n\n  // Returns transformed options, allows to override e.g.\n  // maxWidth, maxHeight and crop options based on the aspectRatio.\n  // gets img, options, data passed as arguments:\n  loadImage.getTransformedOptions = function (img, options) {\n    var aspectRatio = options.aspectRatio\n    var newOptions\n    var i\n    var width\n    var height\n    if (!aspectRatio) {\n      return options\n    }\n    newOptions = {}\n    for (i in options) {\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\n        newOptions[i] = options[i]\n      }\n    }\n    newOptions.crop = true\n    width = img.naturalWidth || img.width\n    height = img.naturalHeight || img.height\n    if (width / height > aspectRatio) {\n      newOptions.maxWidth = height * aspectRatio\n      newOptions.maxHeight = height\n    } else {\n      newOptions.maxWidth = width\n      newOptions.maxHeight = width / aspectRatio\n    }\n    return newOptions\n  }\n\n  // Canvas render method, allows to implement a different rendering algorithm:\n  loadImage.drawImage = function (\n    img,\n    canvas,\n    sourceX,\n    sourceY,\n    sourceWidth,\n    sourceHeight,\n    destWidth,\n    destHeight,\n    options\n  ) {\n    var ctx = canvas.getContext('2d')\n    if (options.imageSmoothingEnabled === false) {\n      ctx.msImageSmoothingEnabled = false\n      ctx.imageSmoothingEnabled = false\n    } else if (options.imageSmoothingQuality) {\n      ctx.imageSmoothingQuality = options.imageSmoothingQuality\n    }\n    ctx.drawImage(\n      img,\n      sourceX,\n      sourceY,\n      sourceWidth,\n      sourceHeight,\n      0,\n      0,\n      destWidth,\n      destHeight\n    )\n    return ctx\n  }\n\n  // Determines if the target image should be a canvas element:\n  loadImage.requiresCanvas = function (options) {\n    return options.canvas || options.crop || !!options.aspectRatio\n  }\n\n  // Scales and/or crops the given image (img or canvas HTML element)\n  // using the given options:\n  loadImage.scale = function (img, options, data) {\n    // eslint-disable-next-line no-param-reassign\n    options = options || {}\n    // eslint-disable-next-line no-param-reassign\n    data = data || {}\n    var useCanvas =\n      img.getContext ||\n      (loadImage.requiresCanvas(options) &&\n        !!loadImage.global.HTMLCanvasElement)\n    var width = img.naturalWidth || img.width\n    var height = img.naturalHeight || img.height\n    var destWidth = width\n    var destHeight = height\n    var maxWidth\n    var maxHeight\n    var minWidth\n    var minHeight\n    var sourceWidth\n    var sourceHeight\n    var sourceX\n    var sourceY\n    var pixelRatio\n    var downsamplingRatio\n    var tmp\n    var canvas\n    /**\n     * Scales up image dimensions\n     */\n    function scaleUp() {\n      var scale = Math.max(\n        (minWidth || destWidth) / destWidth,\n        (minHeight || destHeight) / destHeight\n      )\n      if (scale > 1) {\n        destWidth *= scale\n        destHeight *= scale\n      }\n    }\n    /**\n     * Scales down image dimensions\n     */\n    function scaleDown() {\n      var scale = Math.min(\n        (maxWidth || destWidth) / destWidth,\n        (maxHeight || destHeight) / destHeight\n      )\n      if (scale < 1) {\n        destWidth *= scale\n        destHeight *= scale\n      }\n    }\n    if (useCanvas) {\n      // eslint-disable-next-line no-param-reassign\n      options = loadImage.getTransformedOptions(img, options, data)\n      sourceX = options.left || 0\n      sourceY = options.top || 0\n      if (options.sourceWidth) {\n        sourceWidth = options.sourceWidth\n        if (options.right !== undefined && options.left === undefined) {\n          sourceX = width - sourceWidth - options.right\n        }\n      } else {\n        sourceWidth = width - sourceX - (options.right || 0)\n      }\n      if (options.sourceHeight) {\n        sourceHeight = options.sourceHeight\n        if (options.bottom !== undefined && options.top === undefined) {\n          sourceY = height - sourceHeight - options.bottom\n        }\n      } else {\n        sourceHeight = height - sourceY - (options.bottom || 0)\n      }\n      destWidth = sourceWidth\n      destHeight = sourceHeight\n    }\n    maxWidth = options.maxWidth\n    maxHeight = options.maxHeight\n    minWidth = options.minWidth\n    minHeight = options.minHeight\n    if (useCanvas && maxWidth && maxHeight && options.crop) {\n      destWidth = maxWidth\n      destHeight = maxHeight\n      tmp = sourceWidth / sourceHeight - maxWidth / maxHeight\n      if (tmp < 0) {\n        sourceHeight = (maxHeight * sourceWidth) / maxWidth\n        if (options.top === undefined && options.bottom === undefined) {\n          sourceY = (height - sourceHeight) / 2\n        }\n      } else if (tmp > 0) {\n        sourceWidth = (maxWidth * sourceHeight) / maxHeight\n        if (options.left === undefined && options.right === undefined) {\n          sourceX = (width - sourceWidth) / 2\n        }\n      }\n    } else {\n      if (options.contain || options.cover) {\n        minWidth = maxWidth = maxWidth || minWidth\n        minHeight = maxHeight = maxHeight || minHeight\n      }\n      if (options.cover) {\n        scaleDown()\n        scaleUp()\n      } else {\n        scaleUp()\n        scaleDown()\n      }\n    }\n    if (useCanvas) {\n      pixelRatio = options.pixelRatio\n      if (\n        pixelRatio > 1 &&\n        // Check if the image has not yet had the device pixel ratio applied:\n        !(\n          img.style.width &&\n          Math.floor(parseFloat(img.style.width, 10)) ===\n            Math.floor(width / pixelRatio)\n        )\n      ) {\n        destWidth *= pixelRatio\n        destHeight *= pixelRatio\n      }\n      // Check if workaround for Chromium orientation crop bug is required:\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=1074354\n      if (\n        loadImage.orientationCropBug &&\n        !img.getContext &&\n        (sourceX || sourceY || sourceWidth !== width || sourceHeight !== height)\n      ) {\n        // Write the complete source image to an intermediate canvas first:\n        tmp = img\n        // eslint-disable-next-line no-param-reassign\n        img = loadImage.createCanvas(width, height, true)\n        loadImage.drawImage(\n          tmp,\n          img,\n          0,\n          0,\n          width,\n          height,\n          width,\n          height,\n          options\n        )\n      }\n      downsamplingRatio = options.downsamplingRatio\n      if (\n        downsamplingRatio > 0 &&\n        downsamplingRatio < 1 &&\n        destWidth < sourceWidth &&\n        destHeight < sourceHeight\n      ) {\n        while (sourceWidth * downsamplingRatio > destWidth) {\n          canvas = loadImage.createCanvas(\n            sourceWidth * downsamplingRatio,\n            sourceHeight * downsamplingRatio,\n            true\n          )\n          loadImage.drawImage(\n            img,\n            canvas,\n            sourceX,\n            sourceY,\n            sourceWidth,\n            sourceHeight,\n            canvas.width,\n            canvas.height,\n            options\n          )\n          sourceX = 0\n          sourceY = 0\n          sourceWidth = canvas.width\n          sourceHeight = canvas.height\n          // eslint-disable-next-line no-param-reassign\n          img = canvas\n        }\n      }\n      canvas = loadImage.createCanvas(destWidth, destHeight)\n      loadImage.transformCoordinates(canvas, options, data)\n      if (pixelRatio > 1) {\n        canvas.style.width = canvas.width / pixelRatio + 'px'\n      }\n      loadImage\n        .drawImage(\n          img,\n          canvas,\n          sourceX,\n          sourceY,\n          sourceWidth,\n          sourceHeight,\n          destWidth,\n          destHeight,\n          options\n        )\n        .setTransform(1, 0, 0, 1, 0, 0) // reset to the identity matrix\n      return canvas\n    }\n    img.width = destWidth\n    img.height = destHeight\n    return img\n  }\n})\n","/*\n * JavaScript Load Image Meta\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Image metadata handling implementation\n * based on the help and contribution of\n * Achim Stöhr.\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, Promise, DataView, Uint8Array, ArrayBuffer */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var global = loadImage.global\n  var originalTransform = loadImage.transform\n\n  var blobSlice =\n    global.Blob &&\n    (Blob.prototype.slice ||\n      Blob.prototype.webkitSlice ||\n      Blob.prototype.mozSlice)\n\n  var bufferSlice =\n    (global.ArrayBuffer && ArrayBuffer.prototype.slice) ||\n    function (begin, end) {\n      // Polyfill for IE10, which does not support ArrayBuffer.slice\n      // eslint-disable-next-line no-param-reassign\n      end = end || this.byteLength - begin\n      var arr1 = new Uint8Array(this, begin, end)\n      var arr2 = new Uint8Array(end)\n      arr2.set(arr1)\n      return arr2.buffer\n    }\n\n  var metaDataParsers = {\n    jpeg: {\n      0xffe1: [], // APP1 marker\n      0xffed: [] // APP13 marker\n    }\n  }\n\n  /**\n   * Parses image metadata and calls the callback with an object argument\n   * with the following property:\n   * - imageHead: The complete image head as ArrayBuffer\n   * The options argument accepts an object and supports the following\n   * properties:\n   * - maxMetaDataSize: Defines the maximum number of bytes to parse.\n   * - disableImageHead: Disables creating the imageHead property.\n   *\n   * @param {Blob} file Blob object\n   * @param {Function} [callback] Callback function\n   * @param {object} [options] Parsing options\n   * @param {object} [data] Result data object\n   * @returns {Promise<object>|undefined} Returns Promise if no callback given.\n   */\n  function parseMetaData(file, callback, options, data) {\n    var that = this\n    /**\n     * Promise executor\n     *\n     * @param {Function} resolve Resolution function\n     * @param {Function} reject Rejection function\n     * @returns {undefined} Undefined\n     */\n    function executor(resolve, reject) {\n      if (\n        !(\n          global.DataView &&\n          blobSlice &&\n          file &&\n          file.size >= 12 &&\n          file.type === 'image/jpeg'\n        )\n      ) {\n        // Nothing to parse\n        return resolve(data)\n      }\n      // 256 KiB should contain all EXIF/ICC/IPTC segments:\n      var maxMetaDataSize = options.maxMetaDataSize || 262144\n      if (\n        !loadImage.readFile(\n          blobSlice.call(file, 0, maxMetaDataSize),\n          function (buffer) {\n            // Note on endianness:\n            // Since the marker and length bytes in JPEG files are always\n            // stored in big endian order, we can leave the endian parameter\n            // of the DataView methods undefined, defaulting to big endian.\n            var dataView = new DataView(buffer)\n            // Check for the JPEG marker (0xffd8):\n            if (dataView.getUint16(0) !== 0xffd8) {\n              return reject(\n                new Error('Invalid JPEG file: Missing JPEG marker.')\n              )\n            }\n            var offset = 2\n            var maxOffset = dataView.byteLength - 4\n            var headLength = offset\n            var markerBytes\n            var markerLength\n            var parsers\n            var i\n            while (offset < maxOffset) {\n              markerBytes = dataView.getUint16(offset)\n              // Search for APPn (0xffeN) and COM (0xfffe) markers,\n              // which contain application-specific metadata like\n              // Exif, ICC and IPTC data and text comments:\n              if (\n                (markerBytes >= 0xffe0 && markerBytes <= 0xffef) ||\n                markerBytes === 0xfffe\n              ) {\n                // The marker bytes (2) are always followed by\n                // the length bytes (2), indicating the length of the\n                // marker segment, which includes the length bytes,\n                // but not the marker bytes, so we add 2:\n                markerLength = dataView.getUint16(offset + 2) + 2\n                if (offset + markerLength > dataView.byteLength) {\n                  // eslint-disable-next-line no-console\n                  console.log('Invalid JPEG metadata: Invalid segment size.')\n                  break\n                }\n                parsers = metaDataParsers.jpeg[markerBytes]\n                if (parsers && !options.disableMetaDataParsers) {\n                  for (i = 0; i < parsers.length; i += 1) {\n                    parsers[i].call(\n                      that,\n                      dataView,\n                      offset,\n                      markerLength,\n                      data,\n                      options\n                    )\n                  }\n                }\n                offset += markerLength\n                headLength = offset\n              } else {\n                // Not an APPn or COM marker, probably safe to\n                // assume that this is the end of the metadata\n                break\n              }\n            }\n            // Meta length must be longer than JPEG marker (2)\n            // plus APPn marker (2), followed by length bytes (2):\n            if (!options.disableImageHead && headLength > 6) {\n              data.imageHead = bufferSlice.call(buffer, 0, headLength)\n            }\n            resolve(data)\n          },\n          reject,\n          'readAsArrayBuffer'\n        )\n      ) {\n        // No support for the FileReader interface, nothing to parse\n        resolve(data)\n      }\n    }\n    options = options || {} // eslint-disable-line no-param-reassign\n    if (global.Promise && typeof callback !== 'function') {\n      options = callback || {} // eslint-disable-line no-param-reassign\n      data = options // eslint-disable-line no-param-reassign\n      return new Promise(executor)\n    }\n    data = data || {} // eslint-disable-line no-param-reassign\n    return executor(callback, callback)\n  }\n\n  /**\n   * Replaces the head of a JPEG Blob\n   *\n   * @param {Blob} blob Blob object\n   * @param {ArrayBuffer} oldHead Old JPEG head\n   * @param {ArrayBuffer} newHead New JPEG head\n   * @returns {Blob} Combined Blob\n   */\n  function replaceJPEGHead(blob, oldHead, newHead) {\n    if (!blob || !oldHead || !newHead) return null\n    return new Blob([newHead, blobSlice.call(blob, oldHead.byteLength)], {\n      type: 'image/jpeg'\n    })\n  }\n\n  /**\n   * Replaces the image head of a JPEG blob with the given one.\n   * Returns a Promise or calls the callback with the new Blob.\n   *\n   * @param {Blob} blob Blob object\n   * @param {ArrayBuffer} head New JPEG head\n   * @param {Function} [callback] Callback function\n   * @returns {Promise<Blob|null>|undefined} Combined Blob\n   */\n  function replaceHead(blob, head, callback) {\n    var options = { maxMetaDataSize: 256, disableMetaDataParsers: true }\n    if (!callback && global.Promise) {\n      return parseMetaData(blob, options).then(function (data) {\n        return replaceJPEGHead(blob, data.imageHead, head)\n      })\n    }\n    parseMetaData(\n      blob,\n      function (data) {\n        callback(replaceJPEGHead(blob, data.imageHead, head))\n      },\n      options\n    )\n  }\n\n  loadImage.transform = function (img, options, callback, file, data) {\n    if (loadImage.requiresMetaData(options)) {\n      data = data || {} // eslint-disable-line no-param-reassign\n      parseMetaData(\n        file,\n        function (result) {\n          if (result !== data) {\n            // eslint-disable-next-line no-console\n            if (global.console) console.log(result)\n            result = data // eslint-disable-line no-param-reassign\n          }\n          originalTransform.call(\n            loadImage,\n            img,\n            options,\n            callback,\n            file,\n            result\n          )\n        },\n        options,\n        data\n      )\n    } else {\n      originalTransform.apply(loadImage, arguments)\n    }\n  }\n\n  loadImage.blobSlice = blobSlice\n  loadImage.bufferSlice = bufferSlice\n  loadImage.replaceHead = replaceHead\n  loadImage.parseMetaData = parseMetaData\n  loadImage.metaDataParsers = metaDataParsers\n})\n","/*\n * JavaScript Load Image Fetch\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2017, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, Promise */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var global = loadImage.global\n\n  if (\n    global.fetch &&\n    global.Request &&\n    global.Response &&\n    global.Response.prototype.blob\n  ) {\n    loadImage.fetchBlob = function (url, callback, options) {\n      /**\n       * Fetch response handler.\n       *\n       * @param {Response} response Fetch response\n       * @returns {Blob} Fetched Blob.\n       */\n      function responseHandler(response) {\n        return response.blob()\n      }\n      if (global.Promise && typeof callback !== 'function') {\n        return fetch(new Request(url, callback)).then(responseHandler)\n      }\n      fetch(new Request(url, options))\n        .then(responseHandler)\n        .then(callback)\n        [\n          // Avoid parsing error in IE<9, where catch is a reserved word.\n          // eslint-disable-next-line dot-notation\n          'catch'\n        ](function (err) {\n          callback(null, err)\n        })\n    }\n  } else if (\n    global.XMLHttpRequest &&\n    // https://xhr.spec.whatwg.org/#the-responsetype-attribute\n    new XMLHttpRequest().responseType === ''\n  ) {\n    loadImage.fetchBlob = function (url, callback, options) {\n      /**\n       * Promise executor\n       *\n       * @param {Function} resolve Resolution function\n       * @param {Function} reject Rejection function\n       */\n      function executor(resolve, reject) {\n        options = options || {} // eslint-disable-line no-param-reassign\n        var req = new XMLHttpRequest()\n        req.open(options.method || 'GET', url)\n        if (options.headers) {\n          Object.keys(options.headers).forEach(function (key) {\n            req.setRequestHeader(key, options.headers[key])\n          })\n        }\n        req.withCredentials = options.credentials === 'include'\n        req.responseType = 'blob'\n        req.onload = function () {\n          resolve(req.response)\n        }\n        req.onerror = req.onabort = req.ontimeout = function (err) {\n          if (resolve === reject) {\n            // Not using Promises\n            reject(null, err)\n          } else {\n            reject(err)\n          }\n        }\n        req.send(options.body)\n      }\n      if (global.Promise && typeof callback !== 'function') {\n        options = callback // eslint-disable-line no-param-reassign\n        return new Promise(executor)\n      }\n      return executor(callback, callback)\n    }\n  }\n})\n","/*\n * JavaScript Load Image Exif Parser\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, DataView */\n\n/* eslint-disable no-console */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-meta'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-meta'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  /**\n   * Exif tag map\n   *\n   * @name ExifMap\n   * @class\n   * @param {number|string} tagCode IFD tag code\n   */\n  function ExifMap(tagCode) {\n    if (tagCode) {\n      Object.defineProperty(this, 'map', {\n        value: this.ifds[tagCode].map\n      })\n      Object.defineProperty(this, 'tags', {\n        value: (this.tags && this.tags[tagCode]) || {}\n      })\n    }\n  }\n\n  ExifMap.prototype.map = {\n    Orientation: 0x0112,\n    Thumbnail: 'ifd1',\n    Blob: 0x0201, // Alias for JPEGInterchangeFormat\n    Exif: 0x8769,\n    GPSInfo: 0x8825,\n    Interoperability: 0xa005\n  }\n\n  ExifMap.prototype.ifds = {\n    ifd1: { name: 'Thumbnail', map: ExifMap.prototype.map },\n    0x8769: { name: 'Exif', map: {} },\n    0x8825: { name: 'GPSInfo', map: {} },\n    0xa005: { name: 'Interoperability', map: {} }\n  }\n\n  /**\n   * Retrieves exif tag value\n   *\n   * @param {number|string} id Exif tag code or name\n   * @returns {object} Exif tag value\n   */\n  ExifMap.prototype.get = function (id) {\n    return this[id] || this[this.map[id]]\n  }\n\n  /**\n   * Returns the Exif Thumbnail data as Blob.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Thumbnail data offset\n   * @param {number} length Thumbnail data length\n   * @returns {undefined|Blob} Returns the Thumbnail Blob or undefined\n   */\n  function getExifThumbnail(dataView, offset, length) {\n    if (!length) return\n    if (offset + length > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid thumbnail data.')\n      return\n    }\n    return new Blob(\n      [loadImage.bufferSlice.call(dataView.buffer, offset, offset + length)],\n      {\n        type: 'image/jpeg'\n      }\n    )\n  }\n\n  var ExifTagTypes = {\n    // byte, 8-bit unsigned int:\n    1: {\n      getValue: function (dataView, dataOffset) {\n        return dataView.getUint8(dataOffset)\n      },\n      size: 1\n    },\n    // ascii, 8-bit byte:\n    2: {\n      getValue: function (dataView, dataOffset) {\n        return String.fromCharCode(dataView.getUint8(dataOffset))\n      },\n      size: 1,\n      ascii: true\n    },\n    // short, 16 bit int:\n    3: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getUint16(dataOffset, littleEndian)\n      },\n      size: 2\n    },\n    // long, 32 bit int:\n    4: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getUint32(dataOffset, littleEndian)\n      },\n      size: 4\n    },\n    // rational = two long values, first is numerator, second is denominator:\n    5: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return (\n          dataView.getUint32(dataOffset, littleEndian) /\n          dataView.getUint32(dataOffset + 4, littleEndian)\n        )\n      },\n      size: 8\n    },\n    // slong, 32 bit signed int:\n    9: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getInt32(dataOffset, littleEndian)\n      },\n      size: 4\n    },\n    // srational, two slongs, first is numerator, second is denominator:\n    10: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return (\n          dataView.getInt32(dataOffset, littleEndian) /\n          dataView.getInt32(dataOffset + 4, littleEndian)\n        )\n      },\n      size: 8\n    }\n  }\n  // undefined, 8-bit byte, value depending on field:\n  ExifTagTypes[7] = ExifTagTypes[1]\n\n  /**\n   * Returns Exif tag value.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {number} offset Tag offset\n   * @param {number} type Tag type\n   * @param {number} length Tag length\n   * @param {boolean} littleEndian Little endian encoding\n   * @returns {object} Tag value\n   */\n  function getExifValue(\n    dataView,\n    tiffOffset,\n    offset,\n    type,\n    length,\n    littleEndian\n  ) {\n    var tagType = ExifTagTypes[type]\n    var tagSize\n    var dataOffset\n    var values\n    var i\n    var str\n    var c\n    if (!tagType) {\n      console.log('Invalid Exif data: Invalid tag type.')\n      return\n    }\n    tagSize = tagType.size * length\n    // Determine if the value is contained in the dataOffset bytes,\n    // or if the value at the dataOffset is a pointer to the actual data:\n    dataOffset =\n      tagSize > 4\n        ? tiffOffset + dataView.getUint32(offset + 8, littleEndian)\n        : offset + 8\n    if (dataOffset + tagSize > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid data offset.')\n      return\n    }\n    if (length === 1) {\n      return tagType.getValue(dataView, dataOffset, littleEndian)\n    }\n    values = []\n    for (i = 0; i < length; i += 1) {\n      values[i] = tagType.getValue(\n        dataView,\n        dataOffset + i * tagType.size,\n        littleEndian\n      )\n    }\n    if (tagType.ascii) {\n      str = ''\n      // Concatenate the chars:\n      for (i = 0; i < values.length; i += 1) {\n        c = values[i]\n        // Ignore the terminating NULL byte(s):\n        if (c === '\\u0000') {\n          break\n        }\n        str += c\n      }\n      return str\n    }\n    return values\n  }\n\n  /**\n   * Determines if the given tag should be included.\n   *\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   * @param {number|string} tagCode Tag code to check\n   * @returns {boolean} True if the tag should be included\n   */\n  function shouldIncludeTag(includeTags, excludeTags, tagCode) {\n    return (\n      (!includeTags || includeTags[tagCode]) &&\n      (!excludeTags || excludeTags[tagCode] !== true)\n    )\n  }\n\n  /**\n   * Parses Exif tags.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {number} dirOffset Directory offset\n   * @param {boolean} littleEndian Little endian encoding\n   * @param {ExifMap} tags Map to store parsed exif tags\n   * @param {ExifMap} tagOffsets Map to store parsed exif tag offsets\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   * @returns {number} Next directory offset\n   */\n  function parseExifTags(\n    dataView,\n    tiffOffset,\n    dirOffset,\n    littleEndian,\n    tags,\n    tagOffsets,\n    includeTags,\n    excludeTags\n  ) {\n    var tagsNumber, dirEndOffset, i, tagOffset, tagNumber, tagValue\n    if (dirOffset + 6 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid directory offset.')\n      return\n    }\n    tagsNumber = dataView.getUint16(dirOffset, littleEndian)\n    dirEndOffset = dirOffset + 2 + 12 * tagsNumber\n    if (dirEndOffset + 4 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid directory size.')\n      return\n    }\n    for (i = 0; i < tagsNumber; i += 1) {\n      tagOffset = dirOffset + 2 + 12 * i\n      tagNumber = dataView.getUint16(tagOffset, littleEndian)\n      if (!shouldIncludeTag(includeTags, excludeTags, tagNumber)) continue\n      tagValue = getExifValue(\n        dataView,\n        tiffOffset,\n        tagOffset,\n        dataView.getUint16(tagOffset + 2, littleEndian), // tag type\n        dataView.getUint32(tagOffset + 4, littleEndian), // tag length\n        littleEndian\n      )\n      tags[tagNumber] = tagValue\n      if (tagOffsets) {\n        tagOffsets[tagNumber] = tagOffset\n      }\n    }\n    // Return the offset to the next directory:\n    return dataView.getUint32(dirEndOffset, littleEndian)\n  }\n\n  /**\n   * Parses tags in a given IFD (Image File Directory).\n   *\n   * @param {object} data Data object to store exif tags and offsets\n   * @param {number|string} tagCode IFD tag code\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {boolean} littleEndian Little endian encoding\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   */\n  function parseExifIFD(\n    data,\n    tagCode,\n    dataView,\n    tiffOffset,\n    littleEndian,\n    includeTags,\n    excludeTags\n  ) {\n    var dirOffset = data.exif[tagCode]\n    if (dirOffset) {\n      data.exif[tagCode] = new ExifMap(tagCode)\n      if (data.exifOffsets) {\n        data.exifOffsets[tagCode] = new ExifMap(tagCode)\n      }\n      parseExifTags(\n        dataView,\n        tiffOffset,\n        tiffOffset + dirOffset,\n        littleEndian,\n        data.exif[tagCode],\n        data.exifOffsets && data.exifOffsets[tagCode],\n        includeTags && includeTags[tagCode],\n        excludeTags && excludeTags[tagCode]\n      )\n    }\n  }\n\n  loadImage.parseExifData = function (dataView, offset, length, data, options) {\n    if (options.disableExif) {\n      return\n    }\n    var includeTags = options.includeExifTags\n    var excludeTags = options.excludeExifTags || {\n      0x8769: {\n        // ExifIFDPointer\n        0x927c: true // MakerNote\n      }\n    }\n    var tiffOffset = offset + 10\n    var littleEndian\n    var dirOffset\n    var thumbnailIFD\n    // Check for the ASCII code for \"Exif\" (0x45786966):\n    if (dataView.getUint32(offset + 4) !== 0x45786966) {\n      // No Exif data, might be XMP data instead\n      return\n    }\n    if (tiffOffset + 8 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid segment size.')\n      return\n    }\n    // Check for the two null bytes:\n    if (dataView.getUint16(offset + 8) !== 0x0000) {\n      console.log('Invalid Exif data: Missing byte alignment offset.')\n      return\n    }\n    // Check the byte alignment:\n    switch (dataView.getUint16(tiffOffset)) {\n      case 0x4949:\n        littleEndian = true\n        break\n      case 0x4d4d:\n        littleEndian = false\n        break\n      default:\n        console.log('Invalid Exif data: Invalid byte alignment marker.')\n        return\n    }\n    // Check for the TIFF tag marker (0x002A):\n    if (dataView.getUint16(tiffOffset + 2, littleEndian) !== 0x002a) {\n      console.log('Invalid Exif data: Missing TIFF marker.')\n      return\n    }\n    // Retrieve the directory offset bytes, usually 0x00000008 or 8 decimal:\n    dirOffset = dataView.getUint32(tiffOffset + 4, littleEndian)\n    // Create the exif object to store the tags:\n    data.exif = new ExifMap()\n    if (!options.disableExifOffsets) {\n      data.exifOffsets = new ExifMap()\n      data.exifTiffOffset = tiffOffset\n      data.exifLittleEndian = littleEndian\n    }\n    // Parse the tags of the main image directory (IFD0) and retrieve the\n    // offset to the next directory (IFD1), usually the thumbnail directory:\n    dirOffset = parseExifTags(\n      dataView,\n      tiffOffset,\n      tiffOffset + dirOffset,\n      littleEndian,\n      data.exif,\n      data.exifOffsets,\n      includeTags,\n      excludeTags\n    )\n    if (dirOffset && shouldIncludeTag(includeTags, excludeTags, 'ifd1')) {\n      data.exif.ifd1 = dirOffset\n      if (data.exifOffsets) {\n        data.exifOffsets.ifd1 = tiffOffset + dirOffset\n      }\n    }\n    Object.keys(data.exif.ifds).forEach(function (tagCode) {\n      parseExifIFD(\n        data,\n        tagCode,\n        dataView,\n        tiffOffset,\n        littleEndian,\n        includeTags,\n        excludeTags\n      )\n    })\n    thumbnailIFD = data.exif.ifd1\n    // Check for JPEG Thumbnail offset and data length:\n    if (thumbnailIFD && thumbnailIFD[0x0201]) {\n      thumbnailIFD[0x0201] = getExifThumbnail(\n        dataView,\n        tiffOffset + thumbnailIFD[0x0201],\n        thumbnailIFD[0x0202] // Thumbnail data length\n      )\n    }\n  }\n\n  // Registers the Exif parser for the APP1 JPEG metadata segment:\n  loadImage.metaDataParsers.jpeg[0xffe1].push(loadImage.parseExifData)\n\n  loadImage.exifWriters = {\n    // Orientation writer:\n    0x0112: function (buffer, data, value) {\n      var orientationOffset = data.exifOffsets[0x0112]\n      if (!orientationOffset) return buffer\n      var view = new DataView(buffer, orientationOffset + 8, 2)\n      view.setUint16(0, value, data.exifLittleEndian)\n      return buffer\n    }\n  }\n\n  loadImage.writeExifData = function (buffer, data, id, value) {\n    return loadImage.exifWriters[data.exif.map[id]](buffer, data, value)\n  }\n\n  loadImage.ExifMap = ExifMap\n\n  // Adds the following properties to the parseMetaData callback data:\n  // - exif: The parsed Exif tags\n  // - exifOffsets: The parsed Exif tag offsets\n  // - exifTiffOffset: TIFF header offset (used for offset pointers)\n  // - exifLittleEndian: little endian order if true, big endian if false\n\n  // Adds the following options to the parseMetaData method:\n  // - disableExif: Disables Exif parsing when true.\n  // - disableExifOffsets: Disables storing Exif tag offsets when true.\n  // - includeExifTags: A map of Exif tags to include for parsing.\n  // - excludeExifTags: A map of Exif tags to exclude from parsing.\n})\n","/*\n * JavaScript Load Image Exif Map\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Exif tags mapping based on\n * https://github.com/jseidelin/exif-js\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-exif'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-exif'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var ExifMapProto = loadImage.ExifMap.prototype\n\n  ExifMapProto.tags = {\n    // =================\n    // TIFF tags (IFD0):\n    // =================\n    0x0100: 'ImageWidth',\n    0x0101: 'ImageHeight',\n    0x0102: 'BitsPerSample',\n    0x0103: 'Compression',\n    0x0106: 'PhotometricInterpretation',\n    0x0112: 'Orientation',\n    0x0115: 'SamplesPerPixel',\n    0x011c: 'PlanarConfiguration',\n    0x0212: 'YCbCrSubSampling',\n    0x0213: 'YCbCrPositioning',\n    0x011a: 'XResolution',\n    0x011b: 'YResolution',\n    0x0128: 'ResolutionUnit',\n    0x0111: 'StripOffsets',\n    0x0116: 'RowsPerStrip',\n    0x0117: 'StripByteCounts',\n    0x0201: 'JPEGInterchangeFormat',\n    0x0202: 'JPEGInterchangeFormatLength',\n    0x012d: 'TransferFunction',\n    0x013e: 'WhitePoint',\n    0x013f: 'PrimaryChromaticities',\n    0x0211: 'YCbCrCoefficients',\n    0x0214: 'ReferenceBlackWhite',\n    0x0132: 'DateTime',\n    0x010e: 'ImageDescription',\n    0x010f: 'Make',\n    0x0110: 'Model',\n    0x0131: 'Software',\n    0x013b: 'Artist',\n    0x8298: 'Copyright',\n    0x8769: {\n      // ExifIFDPointer\n      0x9000: 'ExifVersion', // EXIF version\n      0xa000: 'FlashpixVersion', // Flashpix format version\n      0xa001: 'ColorSpace', // Color space information tag\n      0xa002: 'PixelXDimension', // Valid width of meaningful image\n      0xa003: 'PixelYDimension', // Valid height of meaningful image\n      0xa500: 'Gamma',\n      0x9101: 'ComponentsConfiguration', // Information about channels\n      0x9102: 'CompressedBitsPerPixel', // Compressed bits per pixel\n      0x927c: 'MakerNote', // Any desired information written by the manufacturer\n      0x9286: 'UserComment', // Comments by user\n      0xa004: 'RelatedSoundFile', // Name of related sound file\n      0x9003: 'DateTimeOriginal', // Date and time when the original image was generated\n      0x9004: 'DateTimeDigitized', // Date and time when the image was stored digitally\n      0x9010: 'OffsetTime', // Time zone when the image file was last changed\n      0x9011: 'OffsetTimeOriginal', // Time zone when the image was stored digitally\n      0x9012: 'OffsetTimeDigitized', // Time zone when the image was stored digitally\n      0x9290: 'SubSecTime', // Fractions of seconds for DateTime\n      0x9291: 'SubSecTimeOriginal', // Fractions of seconds for DateTimeOriginal\n      0x9292: 'SubSecTimeDigitized', // Fractions of seconds for DateTimeDigitized\n      0x829a: 'ExposureTime', // Exposure time (in seconds)\n      0x829d: 'FNumber',\n      0x8822: 'ExposureProgram', // Exposure program\n      0x8824: 'SpectralSensitivity', // Spectral sensitivity\n      0x8827: 'PhotographicSensitivity', // EXIF 2.3, ISOSpeedRatings in EXIF 2.2\n      0x8828: 'OECF', // Optoelectric conversion factor\n      0x8830: 'SensitivityType',\n      0x8831: 'StandardOutputSensitivity',\n      0x8832: 'RecommendedExposureIndex',\n      0x8833: 'ISOSpeed',\n      0x8834: 'ISOSpeedLatitudeyyy',\n      0x8835: 'ISOSpeedLatitudezzz',\n      0x9201: 'ShutterSpeedValue', // Shutter speed\n      0x9202: 'ApertureValue', // Lens aperture\n      0x9203: 'BrightnessValue', // Value of brightness\n      0x9204: 'ExposureBias', // Exposure bias\n      0x9205: 'MaxApertureValue', // Smallest F number of lens\n      0x9206: 'SubjectDistance', // Distance to subject in meters\n      0x9207: 'MeteringMode', // Metering mode\n      0x9208: 'LightSource', // Kind of light source\n      0x9209: 'Flash', // Flash status\n      0x9214: 'SubjectArea', // Location and area of main subject\n      0x920a: 'FocalLength', // Focal length of the lens in mm\n      0xa20b: 'FlashEnergy', // Strobe energy in BCPS\n      0xa20c: 'SpatialFrequencyResponse',\n      0xa20e: 'FocalPlaneXResolution', // Number of pixels in width direction per FPRUnit\n      0xa20f: 'FocalPlaneYResolution', // Number of pixels in height direction per FPRUnit\n      0xa210: 'FocalPlaneResolutionUnit', // Unit for measuring the focal plane resolution\n      0xa214: 'SubjectLocation', // Location of subject in image\n      0xa215: 'ExposureIndex', // Exposure index selected on camera\n      0xa217: 'SensingMethod', // Image sensor type\n      0xa300: 'FileSource', // Image source (3 == DSC)\n      0xa301: 'SceneType', // Scene type (1 == directly photographed)\n      0xa302: 'CFAPattern', // Color filter array geometric pattern\n      0xa401: 'CustomRendered', // Special processing\n      0xa402: 'ExposureMode', // Exposure mode\n      0xa403: 'WhiteBalance', // 1 = auto white balance, 2 = manual\n      0xa404: 'DigitalZoomRatio', // Digital zoom ratio\n      0xa405: 'FocalLengthIn35mmFilm',\n      0xa406: 'SceneCaptureType', // Type of scene\n      0xa407: 'GainControl', // Degree of overall image gain adjustment\n      0xa408: 'Contrast', // Direction of contrast processing applied by camera\n      0xa409: 'Saturation', // Direction of saturation processing applied by camera\n      0xa40a: 'Sharpness', // Direction of sharpness processing applied by camera\n      0xa40b: 'DeviceSettingDescription',\n      0xa40c: 'SubjectDistanceRange', // Distance to subject\n      0xa420: 'ImageUniqueID', // Identifier assigned uniquely to each image\n      0xa430: 'CameraOwnerName',\n      0xa431: 'BodySerialNumber',\n      0xa432: 'LensSpecification',\n      0xa433: 'LensMake',\n      0xa434: 'LensModel',\n      0xa435: 'LensSerialNumber'\n    },\n    0x8825: {\n      // GPSInfoIFDPointer\n      0x0000: 'GPSVersionID',\n      0x0001: 'GPSLatitudeRef',\n      0x0002: 'GPSLatitude',\n      0x0003: 'GPSLongitudeRef',\n      0x0004: 'GPSLongitude',\n      0x0005: 'GPSAltitudeRef',\n      0x0006: 'GPSAltitude',\n      0x0007: 'GPSTimeStamp',\n      0x0008: 'GPSSatellites',\n      0x0009: 'GPSStatus',\n      0x000a: 'GPSMeasureMode',\n      0x000b: 'GPSDOP',\n      0x000c: 'GPSSpeedRef',\n      0x000d: 'GPSSpeed',\n      0x000e: 'GPSTrackRef',\n      0x000f: 'GPSTrack',\n      0x0010: 'GPSImgDirectionRef',\n      0x0011: 'GPSImgDirection',\n      0x0012: 'GPSMapDatum',\n      0x0013: 'GPSDestLatitudeRef',\n      0x0014: 'GPSDestLatitude',\n      0x0015: 'GPSDestLongitudeRef',\n      0x0016: 'GPSDestLongitude',\n      0x0017: 'GPSDestBearingRef',\n      0x0018: 'GPSDestBearing',\n      0x0019: 'GPSDestDistanceRef',\n      0x001a: 'GPSDestDistance',\n      0x001b: 'GPSProcessingMethod',\n      0x001c: 'GPSAreaInformation',\n      0x001d: 'GPSDateStamp',\n      0x001e: 'GPSDifferential',\n      0x001f: 'GPSHPositioningError'\n    },\n    0xa005: {\n      // InteroperabilityIFDPointer\n      0x0001: 'InteroperabilityIndex'\n    }\n  }\n\n  // IFD1 directory can contain any IFD0 tags:\n  ExifMapProto.tags.ifd1 = ExifMapProto.tags\n\n  ExifMapProto.stringValues = {\n    ExposureProgram: {\n      0: 'Undefined',\n      1: 'Manual',\n      2: 'Normal program',\n      3: 'Aperture priority',\n      4: 'Shutter priority',\n      5: 'Creative program',\n      6: 'Action program',\n      7: 'Portrait mode',\n      8: 'Landscape mode'\n    },\n    MeteringMode: {\n      0: 'Unknown',\n      1: 'Average',\n      2: 'CenterWeightedAverage',\n      3: 'Spot',\n      4: 'MultiSpot',\n      5: 'Pattern',\n      6: 'Partial',\n      255: 'Other'\n    },\n    LightSource: {\n      0: 'Unknown',\n      1: 'Daylight',\n      2: 'Fluorescent',\n      3: 'Tungsten (incandescent light)',\n      4: 'Flash',\n      9: 'Fine weather',\n      10: 'Cloudy weather',\n      11: 'Shade',\n      12: 'Daylight fluorescent (D 5700 - 7100K)',\n      13: 'Day white fluorescent (N 4600 - 5400K)',\n      14: 'Cool white fluorescent (W 3900 - 4500K)',\n      15: 'White fluorescent (WW 3200 - 3700K)',\n      17: 'Standard light A',\n      18: 'Standard light B',\n      19: 'Standard light C',\n      20: 'D55',\n      21: 'D65',\n      22: 'D75',\n      23: 'D50',\n      24: 'ISO studio tungsten',\n      255: 'Other'\n    },\n    Flash: {\n      0x0000: 'Flash did not fire',\n      0x0001: 'Flash fired',\n      0x0005: 'Strobe return light not detected',\n      0x0007: 'Strobe return light detected',\n      0x0009: 'Flash fired, compulsory flash mode',\n      0x000d: 'Flash fired, compulsory flash mode, return light not detected',\n      0x000f: 'Flash fired, compulsory flash mode, return light detected',\n      0x0010: 'Flash did not fire, compulsory flash mode',\n      0x0018: 'Flash did not fire, auto mode',\n      0x0019: 'Flash fired, auto mode',\n      0x001d: 'Flash fired, auto mode, return light not detected',\n      0x001f: 'Flash fired, auto mode, return light detected',\n      0x0020: 'No flash function',\n      0x0041: 'Flash fired, red-eye reduction mode',\n      0x0045: 'Flash fired, red-eye reduction mode, return light not detected',\n      0x0047: 'Flash fired, red-eye reduction mode, return light detected',\n      0x0049: 'Flash fired, compulsory flash mode, red-eye reduction mode',\n      0x004d: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected',\n      0x004f: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected',\n      0x0059: 'Flash fired, auto mode, red-eye reduction mode',\n      0x005d: 'Flash fired, auto mode, return light not detected, red-eye reduction mode',\n      0x005f: 'Flash fired, auto mode, return light detected, red-eye reduction mode'\n    },\n    SensingMethod: {\n      1: 'Undefined',\n      2: 'One-chip color area sensor',\n      3: 'Two-chip color area sensor',\n      4: 'Three-chip color area sensor',\n      5: 'Color sequential area sensor',\n      7: 'Trilinear sensor',\n      8: 'Color sequential linear sensor'\n    },\n    SceneCaptureType: {\n      0: 'Standard',\n      1: 'Landscape',\n      2: 'Portrait',\n      3: 'Night scene'\n    },\n    SceneType: {\n      1: 'Directly photographed'\n    },\n    CustomRendered: {\n      0: 'Normal process',\n      1: 'Custom process'\n    },\n    WhiteBalance: {\n      0: 'Auto white balance',\n      1: 'Manual white balance'\n    },\n    GainControl: {\n      0: 'None',\n      1: 'Low gain up',\n      2: 'High gain up',\n      3: 'Low gain down',\n      4: 'High gain down'\n    },\n    Contrast: {\n      0: 'Normal',\n      1: 'Soft',\n      2: 'Hard'\n    },\n    Saturation: {\n      0: 'Normal',\n      1: 'Low saturation',\n      2: 'High saturation'\n    },\n    Sharpness: {\n      0: 'Normal',\n      1: 'Soft',\n      2: 'Hard'\n    },\n    SubjectDistanceRange: {\n      0: 'Unknown',\n      1: 'Macro',\n      2: 'Close view',\n      3: 'Distant view'\n    },\n    FileSource: {\n      3: 'DSC'\n    },\n    ComponentsConfiguration: {\n      0: '',\n      1: 'Y',\n      2: 'Cb',\n      3: 'Cr',\n      4: 'R',\n      5: 'G',\n      6: 'B'\n    },\n    Orientation: {\n      1: 'Original',\n      2: 'Horizontal flip',\n      3: 'Rotate 180° CCW',\n      4: 'Vertical flip',\n      5: 'Vertical flip + Rotate 90° CW',\n      6: 'Rotate 90° CW',\n      7: 'Horizontal flip + Rotate 90° CW',\n      8: 'Rotate 90° CCW'\n    }\n  }\n\n  ExifMapProto.getText = function (name) {\n    var value = this.get(name)\n    switch (name) {\n      case 'LightSource':\n      case 'Flash':\n      case 'MeteringMode':\n      case 'ExposureProgram':\n      case 'SensingMethod':\n      case 'SceneCaptureType':\n      case 'SceneType':\n      case 'CustomRendered':\n      case 'WhiteBalance':\n      case 'GainControl':\n      case 'Contrast':\n      case 'Saturation':\n      case 'Sharpness':\n      case 'SubjectDistanceRange':\n      case 'FileSource':\n      case 'Orientation':\n        return this.stringValues[name][value]\n      case 'ExifVersion':\n      case 'FlashpixVersion':\n        if (!value) return\n        return String.fromCharCode(value[0], value[1], value[2], value[3])\n      case 'ComponentsConfiguration':\n        if (!value) return\n        return (\n          this.stringValues[name][value[0]] +\n          this.stringValues[name][value[1]] +\n          this.stringValues[name][value[2]] +\n          this.stringValues[name][value[3]]\n        )\n      case 'GPSVersionID':\n        if (!value) return\n        return value[0] + '.' + value[1] + '.' + value[2] + '.' + value[3]\n    }\n    return String(value)\n  }\n\n  ExifMapProto.getAll = function () {\n    var map = {}\n    var prop\n    var obj\n    var name\n    for (prop in this) {\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\n        obj = this[prop]\n        if (obj && obj.getAll) {\n          map[this.ifds[prop].name] = obj.getAll()\n        } else {\n          name = this.tags[prop]\n          if (name) map[name] = this.getText(name)\n        }\n      }\n    }\n    return map\n  }\n\n  ExifMapProto.getName = function (tagCode) {\n    var name = this.tags[tagCode]\n    if (typeof name === 'object') return this.ifds[tagCode].name\n    return name\n  }\n\n  // Extend the map of tag names to tag codes:\n  ;(function () {\n    var tags = ExifMapProto.tags\n    var prop\n    var ifd\n    var subTags\n    // Map the tag names to tags:\n    for (prop in tags) {\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\n        ifd = ExifMapProto.ifds[prop]\n        if (ifd) {\n          subTags = tags[prop]\n          for (prop in subTags) {\n            if (Object.prototype.hasOwnProperty.call(subTags, prop)) {\n              ifd.map[subTags[prop]] = Number(prop)\n            }\n          }\n        } else {\n          ExifMapProto.map[tags[prop]] = Number(prop)\n        }\n      }\n    }\n  })()\n})\n","/*\n * JavaScript Load Image IPTC Parser\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * Copyright 2018, Dave Bevan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, DataView */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-meta'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-meta'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  /**\n   * IPTC tag map\n   *\n   * @name IptcMap\n   * @class\n   */\n  function IptcMap() {}\n\n  IptcMap.prototype.map = {\n    ObjectName: 5\n  }\n\n  IptcMap.prototype.types = {\n    0: 'Uint16', // ApplicationRecordVersion\n    200: 'Uint16', // ObjectPreviewFileFormat\n    201: 'Uint16', // ObjectPreviewFileVersion\n    202: 'binary' // ObjectPreviewData\n  }\n\n  /**\n   * Retrieves IPTC tag value\n   *\n   * @param {number|string} id IPTC tag code or name\n   * @returns {object} IPTC tag value\n   */\n  IptcMap.prototype.get = function (id) {\n    return this[id] || this[this.map[id]]\n  }\n\n  /**\n   * Retrieves string for the given DataView and range\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Offset start\n   * @param {number} length Offset length\n   * @returns {string} String value\n   */\n  function getStringValue(dataView, offset, length) {\n    var outstr = ''\n    var end = offset + length\n    for (var n = offset; n < end; n += 1) {\n      outstr += String.fromCharCode(dataView.getUint8(n))\n    }\n    return outstr\n  }\n\n  /**\n   * Retrieves tag value for the given DataView and range\n   *\n   * @param {number} tagCode tag code\n   * @param {IptcMap} map IPTC tag map\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Range start\n   * @param {number} length Range length\n   * @returns {object} Tag value\n   */\n  function getTagValue(tagCode, map, dataView, offset, length) {\n    if (map.types[tagCode] === 'binary') {\n      return new Blob([dataView.buffer.slice(offset, offset + length)])\n    }\n    if (map.types[tagCode] === 'Uint16') {\n      return dataView.getUint16(offset)\n    }\n    return getStringValue(dataView, offset, length)\n  }\n\n  /**\n   * Combines IPTC value with existing ones.\n   *\n   * @param {object} value Existing IPTC field value\n   * @param {object} newValue New IPTC field value\n   * @returns {object} Resulting IPTC field value\n   */\n  function combineTagValues(value, newValue) {\n    if (value === undefined) return newValue\n    if (value instanceof Array) {\n      value.push(newValue)\n      return value\n    }\n    return [value, newValue]\n  }\n\n  /**\n   * Parses IPTC tags.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} segmentOffset Segment offset\n   * @param {number} segmentLength Segment length\n   * @param {object} data Data export object\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   */\n  function parseIptcTags(\n    dataView,\n    segmentOffset,\n    segmentLength,\n    data,\n    includeTags,\n    excludeTags\n  ) {\n    var value, tagSize, tagCode\n    var segmentEnd = segmentOffset + segmentLength\n    var offset = segmentOffset\n    while (offset < segmentEnd) {\n      if (\n        dataView.getUint8(offset) === 0x1c && // tag marker\n        dataView.getUint8(offset + 1) === 0x02 // record number, only handles v2\n      ) {\n        tagCode = dataView.getUint8(offset + 2)\n        if (\n          (!includeTags || includeTags[tagCode]) &&\n          (!excludeTags || !excludeTags[tagCode])\n        ) {\n          tagSize = dataView.getInt16(offset + 3)\n          value = getTagValue(tagCode, data.iptc, dataView, offset + 5, tagSize)\n          data.iptc[tagCode] = combineTagValues(data.iptc[tagCode], value)\n          if (data.iptcOffsets) {\n            data.iptcOffsets[tagCode] = offset\n          }\n        }\n      }\n      offset += 1\n    }\n  }\n\n  /**\n   * Tests if field segment starts at offset.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Segment offset\n   * @returns {boolean} True if '8BIM<EOT><EOT>' exists at offset\n   */\n  function isSegmentStart(dataView, offset) {\n    return (\n      dataView.getUint32(offset) === 0x3842494d && // Photoshop segment start\n      dataView.getUint16(offset + 4) === 0x0404 // IPTC segment start\n    )\n  }\n\n  /**\n   * Returns header length.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Segment offset\n   * @returns {number} Header length\n   */\n  function getHeaderLength(dataView, offset) {\n    var length = dataView.getUint8(offset + 7)\n    if (length % 2 !== 0) length += 1\n    // Check for pre photoshop 6 format\n    if (length === 0) {\n      // Always 4\n      length = 4\n    }\n    return length\n  }\n\n  loadImage.parseIptcData = function (dataView, offset, length, data, options) {\n    if (options.disableIptc) {\n      return\n    }\n    var markerLength = offset + length\n    while (offset + 8 < markerLength) {\n      if (isSegmentStart(dataView, offset)) {\n        var headerLength = getHeaderLength(dataView, offset)\n        var segmentOffset = offset + 8 + headerLength\n        if (segmentOffset > markerLength) {\n          // eslint-disable-next-line no-console\n          console.log('Invalid IPTC data: Invalid segment offset.')\n          break\n        }\n        var segmentLength = dataView.getUint16(offset + 6 + headerLength)\n        if (offset + segmentLength > markerLength) {\n          // eslint-disable-next-line no-console\n          console.log('Invalid IPTC data: Invalid segment size.')\n          break\n        }\n        // Create the iptc object to store the tags:\n        data.iptc = new IptcMap()\n        if (!options.disableIptcOffsets) {\n          data.iptcOffsets = new IptcMap()\n        }\n        parseIptcTags(\n          dataView,\n          segmentOffset,\n          segmentLength,\n          data,\n          options.includeIptcTags,\n          options.excludeIptcTags || { 202: true } // ObjectPreviewData\n        )\n        return\n      }\n      // eslint-disable-next-line no-param-reassign\n      offset += 1\n    }\n  }\n\n  // Registers this IPTC parser for the APP13 JPEG metadata segment:\n  loadImage.metaDataParsers.jpeg[0xffed].push(loadImage.parseIptcData)\n\n  loadImage.IptcMap = IptcMap\n\n  // Adds the following properties to the parseMetaData callback data:\n  // - iptc: The iptc tags, parsed by the parseIptcData method\n\n  // Adds the following options to the parseMetaData method:\n  // - disableIptc: Disables IPTC parsing when true.\n  // - disableIptcOffsets: Disables storing IPTC tag offsets when true.\n  // - includeIptcTags: A map of IPTC tags to include for parsing.\n  // - excludeIptcTags: A map of IPTC tags to exclude from parsing.\n})\n","/*\n * JavaScript Load Image IPTC Map\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * Copyright 2018, Dave Bevan\n *\n * IPTC tags mapping based on\n * https://iptc.org/standards/photo-metadata\n * https://exiftool.org/TagNames/IPTC.html\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-iptc'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-iptc'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var IptcMapProto = loadImage.IptcMap.prototype\n\n  IptcMapProto.tags = {\n    0: 'ApplicationRecordVersion',\n    3: 'ObjectTypeReference',\n    4: 'ObjectAttributeReference',\n    5: 'ObjectName',\n    7: 'EditStatus',\n    8: 'EditorialUpdate',\n    10: 'Urgency',\n    12: 'SubjectReference',\n    15: 'Category',\n    20: 'SupplementalCategories',\n    22: 'FixtureIdentifier',\n    25: 'Keywords',\n    26: 'ContentLocationCode',\n    27: 'ContentLocationName',\n    30: 'ReleaseDate',\n    35: 'ReleaseTime',\n    37: 'ExpirationDate',\n    38: 'ExpirationTime',\n    40: 'SpecialInstructions',\n    42: 'ActionAdvised',\n    45: 'ReferenceService',\n    47: 'ReferenceDate',\n    50: 'ReferenceNumber',\n    55: 'DateCreated',\n    60: 'TimeCreated',\n    62: 'DigitalCreationDate',\n    63: 'DigitalCreationTime',\n    65: 'OriginatingProgram',\n    70: 'ProgramVersion',\n    75: 'ObjectCycle',\n    80: 'Byline',\n    85: 'BylineTitle',\n    90: 'City',\n    92: 'Sublocation',\n    95: 'State',\n    100: 'CountryCode',\n    101: 'Country',\n    103: 'OriginalTransmissionReference',\n    105: 'Headline',\n    110: 'Credit',\n    115: 'Source',\n    116: 'CopyrightNotice',\n    118: 'Contact',\n    120: 'Caption',\n    121: 'LocalCaption',\n    122: 'Writer',\n    125: 'RasterizedCaption',\n    130: 'ImageType',\n    131: 'ImageOrientation',\n    135: 'LanguageIdentifier',\n    150: 'AudioType',\n    151: 'AudioSamplingRate',\n    152: 'AudioSamplingResolution',\n    153: 'AudioDuration',\n    154: 'AudioOutcue',\n    184: 'JobID',\n    185: 'MasterDocumentID',\n    186: 'ShortDocumentID',\n    187: 'UniqueDocumentID',\n    188: 'OwnerID',\n    200: 'ObjectPreviewFileFormat',\n    201: 'ObjectPreviewFileVersion',\n    202: 'ObjectPreviewData',\n    221: 'Prefs',\n    225: 'ClassifyState',\n    228: 'SimilarityIndex',\n    230: 'DocumentNotes',\n    231: 'DocumentHistory',\n    232: 'ExifCameraInfo',\n    255: 'CatalogSets'\n  }\n\n  IptcMapProto.stringValues = {\n    10: {\n      0: '0 (reserved)',\n      1: '1 (most urgent)',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5 (normal urgency)',\n      6: '6',\n      7: '7',\n      8: '8 (least urgent)',\n      9: '9 (user-defined priority)'\n    },\n    75: {\n      a: 'Morning',\n      b: 'Both Morning and Evening',\n      p: 'Evening'\n    },\n    131: {\n      L: 'Landscape',\n      P: 'Portrait',\n      S: 'Square'\n    }\n  }\n\n  IptcMapProto.getText = function (id) {\n    var value = this.get(id)\n    var tagCode = this.map[id]\n    var stringValue = this.stringValues[tagCode]\n    if (stringValue) return stringValue[value]\n    return String(value)\n  }\n\n  IptcMapProto.getAll = function () {\n    var map = {}\n    var prop\n    var name\n    for (prop in this) {\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\n        name = this.tags[prop]\n        if (name) map[name] = this.getText(name)\n      }\n    }\n    return map\n  }\n\n  IptcMapProto.getName = function (tagCode) {\n    return this.tags[tagCode]\n  }\n\n  // Extend the map of tag names to tag codes:\n  ;(function () {\n    var tags = IptcMapProto.tags\n    var map = IptcMapProto.map || {}\n    var prop\n    // Map the tag names to tags:\n    for (prop in tags) {\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\n        map[tags[prop]] = Number(prop)\n      }\n    }\n  })()\n})\n","/*\n * JavaScript Load Image Orientation\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/*\nExif orientation values to correctly display the letter F:\n\n    1             2\n  ██████        ██████\n  ██                ██\n  ████            ████\n  ██                ██\n  ██                ██\n\n    3             4\n      ██        ██\n      ██        ██\n    ████        ████\n      ██        ██\n  ██████        ██████\n\n    5             6\n██████████    ██\n██  ██        ██  ██\n██            ██████████\n\n    7             8\n        ██    ██████████\n    ██  ██        ██  ██\n██████████            ██\n\n*/\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-scale', './load-image-meta'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(\n      require('./load-image'),\n      require('./load-image-scale'),\n      require('./load-image-meta')\n    )\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var originalTransform = loadImage.transform\n  var originalRequiresCanvas = loadImage.requiresCanvas\n  var originalRequiresMetaData = loadImage.requiresMetaData\n  var originalTransformCoordinates = loadImage.transformCoordinates\n  var originalGetTransformedOptions = loadImage.getTransformedOptions\n\n  ;(function ($) {\n    // Guard for non-browser environments (e.g. server-side rendering):\n    if (!$.global.document) return\n    // black+white 3x2 JPEG, with the following meta information set:\n    // - EXIF Orientation: 6 (Rotated 90° CCW)\n    // Image data layout (B=black, F=white):\n    // BFF\n    // BBB\n    var testImageURL =\n      'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\n      'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\n      'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\n      'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/x' +\n      'ABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAA' +\n      'AAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQ' +\n      'voP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXw' +\n      'H/9k='\n    var img = document.createElement('img')\n    img.onload = function () {\n      // Check if the browser supports automatic image orientation:\n      $.orientation = img.width === 2 && img.height === 3\n      if ($.orientation) {\n        var canvas = $.createCanvas(1, 1, true)\n        var ctx = canvas.getContext('2d')\n        ctx.drawImage(img, 1, 1, 1, 1, 0, 0, 1, 1)\n        // Check if the source image coordinates (sX, sY, sWidth, sHeight) are\n        // correctly applied to the auto-orientated image, which should result\n        // in a white opaque pixel (e.g. in Safari).\n        // Browsers that show a transparent pixel (e.g. Chromium) fail to crop\n        // auto-oriented images correctly and require a workaround, e.g.\n        // drawing the complete source image to an intermediate canvas first.\n        // See https://bugs.chromium.org/p/chromium/issues/detail?id=1074354\n        $.orientationCropBug =\n          ctx.getImageData(0, 0, 1, 1).data.toString() !== '255,255,255,255'\n      }\n    }\n    img.src = testImageURL\n  })(loadImage)\n\n  /**\n   * Determines if the orientation requires a canvas element.\n   *\n   * @param {object} [options] Options object\n   * @param {boolean} [withMetaData] Is metadata required for orientation\n   * @returns {boolean} Returns true if orientation requires canvas/meta\n   */\n  function requiresCanvasOrientation(options, withMetaData) {\n    var orientation = options && options.orientation\n    return (\n      // Exif orientation for browsers without automatic image orientation:\n      (orientation === true && !loadImage.orientation) ||\n      // Orientation reset for browsers with automatic image orientation:\n      (orientation === 1 && loadImage.orientation) ||\n      // Orientation to defined value, requires meta for orientation reset only:\n      ((!withMetaData || loadImage.orientation) &&\n        orientation > 1 &&\n        orientation < 9)\n    )\n  }\n\n  /**\n   * Determines if the image requires an orientation change.\n   *\n   * @param {number} [orientation] Defined orientation value\n   * @param {number} [autoOrientation] Auto-orientation based on Exif data\n   * @returns {boolean} Returns true if an orientation change is required\n   */\n  function requiresOrientationChange(orientation, autoOrientation) {\n    return (\n      orientation !== autoOrientation &&\n      ((orientation === 1 && autoOrientation > 1 && autoOrientation < 9) ||\n        (orientation > 1 && orientation < 9))\n    )\n  }\n\n  /**\n   * Determines orientation combinations that require a rotation by 180°.\n   *\n   * The following is a list of combinations that return true:\n   *\n   * 2 (flip) => 5 (rot90,flip), 7 (rot90,flip), 6 (rot90), 8 (rot90)\n   * 4 (flip) => 5 (rot90,flip), 7 (rot90,flip), 6 (rot90), 8 (rot90)\n   *\n   * 5 (rot90,flip) => 2 (flip), 4 (flip), 6 (rot90), 8 (rot90)\n   * 7 (rot90,flip) => 2 (flip), 4 (flip), 6 (rot90), 8 (rot90)\n   *\n   * 6 (rot90) => 2 (flip), 4 (flip), 5 (rot90,flip), 7 (rot90,flip)\n   * 8 (rot90) => 2 (flip), 4 (flip), 5 (rot90,flip), 7 (rot90,flip)\n   *\n   * @param {number} [orientation] Defined orientation value\n   * @param {number} [autoOrientation] Auto-orientation based on Exif data\n   * @returns {boolean} Returns true if rotation by 180° is required\n   */\n  function requiresRot180(orientation, autoOrientation) {\n    if (autoOrientation > 1 && autoOrientation < 9) {\n      switch (orientation) {\n        case 2:\n        case 4:\n          return autoOrientation > 4\n        case 5:\n        case 7:\n          return autoOrientation % 2 === 0\n        case 6:\n        case 8:\n          return (\n            autoOrientation === 2 ||\n            autoOrientation === 4 ||\n            autoOrientation === 5 ||\n            autoOrientation === 7\n          )\n      }\n    }\n    return false\n  }\n\n  // Determines if the target image should be a canvas element:\n  loadImage.requiresCanvas = function (options) {\n    return (\n      requiresCanvasOrientation(options) ||\n      originalRequiresCanvas.call(loadImage, options)\n    )\n  }\n\n  // Determines if metadata should be loaded automatically:\n  loadImage.requiresMetaData = function (options) {\n    return (\n      requiresCanvasOrientation(options, true) ||\n      originalRequiresMetaData.call(loadImage, options)\n    )\n  }\n\n  loadImage.transform = function (img, options, callback, file, data) {\n    originalTransform.call(\n      loadImage,\n      img,\n      options,\n      function (img, data) {\n        if (data) {\n          var autoOrientation =\n            loadImage.orientation && data.exif && data.exif.get('Orientation')\n          if (autoOrientation > 4 && autoOrientation < 9) {\n            // Automatic image orientation switched image dimensions\n            var originalWidth = data.originalWidth\n            var originalHeight = data.originalHeight\n            data.originalWidth = originalHeight\n            data.originalHeight = originalWidth\n          }\n        }\n        callback(img, data)\n      },\n      file,\n      data\n    )\n  }\n\n  // Transforms coordinate and dimension options\n  // based on the given orientation option:\n  loadImage.getTransformedOptions = function (img, opts, data) {\n    var options = originalGetTransformedOptions.call(loadImage, img, opts)\n    var exifOrientation = data.exif && data.exif.get('Orientation')\n    var orientation = options.orientation\n    var autoOrientation = loadImage.orientation && exifOrientation\n    if (orientation === true) orientation = exifOrientation\n    if (!requiresOrientationChange(orientation, autoOrientation)) {\n      return options\n    }\n    var top = options.top\n    var right = options.right\n    var bottom = options.bottom\n    var left = options.left\n    var newOptions = {}\n    for (var i in options) {\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\n        newOptions[i] = options[i]\n      }\n    }\n    newOptions.orientation = orientation\n    if (\n      (orientation > 4 && !(autoOrientation > 4)) ||\n      (orientation < 5 && autoOrientation > 4)\n    ) {\n      // Image dimensions and target dimensions are switched\n      newOptions.maxWidth = options.maxHeight\n      newOptions.maxHeight = options.maxWidth\n      newOptions.minWidth = options.minHeight\n      newOptions.minHeight = options.minWidth\n      newOptions.sourceWidth = options.sourceHeight\n      newOptions.sourceHeight = options.sourceWidth\n    }\n    if (autoOrientation > 1) {\n      // Browsers which correctly apply source image coordinates to\n      // auto-oriented images\n      switch (autoOrientation) {\n        case 2:\n          // Horizontal flip\n          right = options.left\n          left = options.right\n          break\n        case 3:\n          // 180° Rotate CCW\n          top = options.bottom\n          right = options.left\n          bottom = options.top\n          left = options.right\n          break\n        case 4:\n          // Vertical flip\n          top = options.bottom\n          bottom = options.top\n          break\n        case 5:\n          // Horizontal flip + 90° Rotate CCW\n          top = options.left\n          right = options.bottom\n          bottom = options.right\n          left = options.top\n          break\n        case 6:\n          // 90° Rotate CCW\n          top = options.left\n          right = options.top\n          bottom = options.right\n          left = options.bottom\n          break\n        case 7:\n          // Vertical flip + 90° Rotate CCW\n          top = options.right\n          right = options.top\n          bottom = options.left\n          left = options.bottom\n          break\n        case 8:\n          // 90° Rotate CW\n          top = options.right\n          right = options.bottom\n          bottom = options.left\n          left = options.top\n          break\n      }\n      // Some orientation combinations require additional rotation by 180°:\n      if (requiresRot180(orientation, autoOrientation)) {\n        var tmpTop = top\n        var tmpRight = right\n        top = bottom\n        right = left\n        bottom = tmpTop\n        left = tmpRight\n      }\n    }\n    newOptions.top = top\n    newOptions.right = right\n    newOptions.bottom = bottom\n    newOptions.left = left\n    // Account for defined browser orientation:\n    switch (orientation) {\n      case 2:\n        // Horizontal flip\n        newOptions.right = left\n        newOptions.left = right\n        break\n      case 3:\n        // 180° Rotate CCW\n        newOptions.top = bottom\n        newOptions.right = left\n        newOptions.bottom = top\n        newOptions.left = right\n        break\n      case 4:\n        // Vertical flip\n        newOptions.top = bottom\n        newOptions.bottom = top\n        break\n      case 5:\n        // Vertical flip + 90° Rotate CW\n        newOptions.top = left\n        newOptions.right = bottom\n        newOptions.bottom = right\n        newOptions.left = top\n        break\n      case 6:\n        // 90° Rotate CW\n        newOptions.top = right\n        newOptions.right = bottom\n        newOptions.bottom = left\n        newOptions.left = top\n        break\n      case 7:\n        // Horizontal flip + 90° Rotate CW\n        newOptions.top = right\n        newOptions.right = top\n        newOptions.bottom = left\n        newOptions.left = bottom\n        break\n      case 8:\n        // 90° Rotate CCW\n        newOptions.top = left\n        newOptions.right = top\n        newOptions.bottom = right\n        newOptions.left = bottom\n        break\n    }\n    return newOptions\n  }\n\n  // Transform image orientation based on the given EXIF orientation option:\n  loadImage.transformCoordinates = function (canvas, options, data) {\n    originalTransformCoordinates.call(loadImage, canvas, options, data)\n    var orientation = options.orientation\n    var autoOrientation =\n      loadImage.orientation && data.exif && data.exif.get('Orientation')\n    if (!requiresOrientationChange(orientation, autoOrientation)) {\n      return\n    }\n    var ctx = canvas.getContext('2d')\n    var width = canvas.width\n    var height = canvas.height\n    var sourceWidth = width\n    var sourceHeight = height\n    if (\n      (orientation > 4 && !(autoOrientation > 4)) ||\n      (orientation < 5 && autoOrientation > 4)\n    ) {\n      // Image dimensions and target dimensions are switched\n      canvas.width = height\n      canvas.height = width\n    }\n    if (orientation > 4) {\n      // Destination and source dimensions are switched\n      sourceWidth = height\n      sourceHeight = width\n    }\n    // Reset automatic browser orientation:\n    switch (autoOrientation) {\n      case 2:\n        // Horizontal flip\n        ctx.translate(sourceWidth, 0)\n        ctx.scale(-1, 1)\n        break\n      case 3:\n        // 180° Rotate CCW\n        ctx.translate(sourceWidth, sourceHeight)\n        ctx.rotate(Math.PI)\n        break\n      case 4:\n        // Vertical flip\n        ctx.translate(0, sourceHeight)\n        ctx.scale(1, -1)\n        break\n      case 5:\n        // Horizontal flip + 90° Rotate CCW\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.scale(-1, 1)\n        break\n      case 6:\n        // 90° Rotate CCW\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.translate(-sourceWidth, 0)\n        break\n      case 7:\n        // Vertical flip + 90° Rotate CCW\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.translate(-sourceWidth, sourceHeight)\n        ctx.scale(1, -1)\n        break\n      case 8:\n        // 90° Rotate CW\n        ctx.rotate(0.5 * Math.PI)\n        ctx.translate(0, -sourceHeight)\n        break\n    }\n    // Some orientation combinations require additional rotation by 180°:\n    if (requiresRot180(orientation, autoOrientation)) {\n      ctx.translate(sourceWidth, sourceHeight)\n      ctx.rotate(Math.PI)\n    }\n    switch (orientation) {\n      case 2:\n        // Horizontal flip\n        ctx.translate(width, 0)\n        ctx.scale(-1, 1)\n        break\n      case 3:\n        // 180° Rotate CCW\n        ctx.translate(width, height)\n        ctx.rotate(Math.PI)\n        break\n      case 4:\n        // Vertical flip\n        ctx.translate(0, height)\n        ctx.scale(1, -1)\n        break\n      case 5:\n        // Vertical flip + 90° Rotate CW\n        ctx.rotate(0.5 * Math.PI)\n        ctx.scale(1, -1)\n        break\n      case 6:\n        // 90° Rotate CW\n        ctx.rotate(0.5 * Math.PI)\n        ctx.translate(0, -height)\n        break\n      case 7:\n        // Horizontal flip + 90° Rotate CW\n        ctx.rotate(0.5 * Math.PI)\n        ctx.translate(width, -height)\n        ctx.scale(-1, 1)\n        break\n      case 8:\n        // 90° Rotate CCW\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.translate(-width, 0)\n        break\n    }\n  }\n})\n","/* global module, require */\n\nmodule.exports = require('./load-image')\n\nrequire('./load-image-scale')\nrequire('./load-image-meta')\nrequire('./load-image-fetch')\nrequire('./load-image-exif')\nrequire('./load-image-exif-map')\nrequire('./load-image-iptc')\nrequire('./load-image-iptc-map')\nrequire('./load-image-orientation')\n","/**!\n * Sortable 1.15.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.15.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, _excluded);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\r\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\r\n * @param  {Number} x      X position\r\n * @param  {Number} y      Y position\r\n * @return {HTMLElement}   Element of the first found nearest Sortable\r\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    var threshold = sortable[expando].options.emptyInsertThreshold;\n    if (!threshold || lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists && !ChromeForAndroid) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\r\n * @class  Sortable\r\n * @param  {HTMLElement}  el\r\n * @param  {Object}       [options]\r\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.removeAttribute(\"id\");\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // if there is a last element, it is the target\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n\n          if (elLastChild && elLastChild.nextSibling) {\n            // the last draggable element is not the last node\n            el.insertBefore(dragEl, elLastChild.nextSibling);\n          } else {\n            el.appendChild(dragEl);\n          }\n\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n\n        target = firstChild;\n        targetRect = getRect(target);\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\r\n   * Serializes the item into an array of string.\r\n   * @returns {String[]}\r\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\r\n   * Sorts the elements according to the array.\r\n   * @param  {String[]}  order  order of the items\r\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\r\n   * Save the current sorting\r\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\r\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\r\n   * @param   {HTMLElement}  el\r\n   * @param   {String}       [selector]  default: `options.draggable`\r\n   * @returns {HTMLElement|null}\r\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\r\n   * Set/get option\r\n   * @param   {string} name\r\n   * @param   {*}      [value]\r\n   * @returns {*}\r\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\r\n   * Destroy\r\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var spacer = 10;\n  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\r\n * Gets the direction dragEl must be swapped relative to target in order to make it\r\n * seem that dragEl has been \"inserted\" into that element's position\r\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\r\n * @return {Number}                   Direction dragEl must be swapped\r\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\r\n * Generate id\r\n * @param   {HTMLElement} el\r\n * @returns {String}\r\n * @private\r\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\r\n * Get the Sortable instance of an element\r\n * @param  {HTMLElement} element The element\r\n * @return {Sortable|undefined}         The instance of Sortable\r\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\r\n * Mount a plugin to Sortable\r\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\r\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\r\n * Create sortable instance\r\n * @param {HTMLElement}  el\r\n * @param {Object}      [options]\r\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (!sortable.options.avoidImplicitDeselect) {\n      if (sortable.options.supportPointer) {\n        on(document, 'pointerup', this._deselectMultiDrag);\n      } else {\n        on(document, 'mouseup', this._deselectMultiDrag);\n        on(document, 'touchend', this._deselectMultiDrag);\n      }\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      avoidImplicitDeselect: false,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvent: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        folding = false; // Do not \"unfold\" after around dragEl if reverted\n\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvent: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","/*!\n * Cropper.js v1.5.12\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2021-06-12T08:00:17.411Z\n */\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nvar WINDOW = IS_BROWSER ? window : {};\nvar IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\nvar HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\nvar NAMESPACE = 'cropper'; // Actions\n\nvar ACTION_ALL = 'all';\nvar ACTION_CROP = 'crop';\nvar ACTION_MOVE = 'move';\nvar ACTION_ZOOM = 'zoom';\nvar ACTION_EAST = 'e';\nvar ACTION_WEST = 'w';\nvar ACTION_SOUTH = 's';\nvar ACTION_NORTH = 'n';\nvar ACTION_NORTH_EAST = 'ne';\nvar ACTION_NORTH_WEST = 'nw';\nvar ACTION_SOUTH_EAST = 'se';\nvar ACTION_SOUTH_WEST = 'sw'; // Classes\n\nvar CLASS_CROP = \"\".concat(NAMESPACE, \"-crop\");\nvar CLASS_DISABLED = \"\".concat(NAMESPACE, \"-disabled\");\nvar CLASS_HIDDEN = \"\".concat(NAMESPACE, \"-hidden\");\nvar CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\nvar CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\nvar CLASS_MODAL = \"\".concat(NAMESPACE, \"-modal\");\nvar CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\"); // Data keys\n\nvar DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\nvar DATA_PREVIEW = \"\".concat(NAMESPACE, \"Preview\"); // Drag modes\n\nvar DRAG_MODE_CROP = 'crop';\nvar DRAG_MODE_MOVE = 'move';\nvar DRAG_MODE_NONE = 'none'; // Events\n\nvar EVENT_CROP = 'crop';\nvar EVENT_CROP_END = 'cropend';\nvar EVENT_CROP_MOVE = 'cropmove';\nvar EVENT_CROP_START = 'cropstart';\nvar EVENT_DBLCLICK = 'dblclick';\nvar EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\nvar EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\nvar EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\nvar EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\nvar EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\nvar EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\nvar EVENT_READY = 'ready';\nvar EVENT_RESIZE = 'resize';\nvar EVENT_WHEEL = 'wheel';\nvar EVENT_ZOOM = 'zoom'; // Mime types\n\nvar MIME_TYPE_JPEG = 'image/jpeg'; // RegExps\n\nvar REGEXP_ACTIONS = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/;\nvar REGEXP_DATA_URL = /^data:/;\nvar REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\nvar REGEXP_TAG_NAME = /^img|canvas$/i; // Misc\n// Inspired by the default width and height of a canvas element.\n\nvar MIN_CONTAINER_WIDTH = 200;\nvar MIN_CONTAINER_HEIGHT = 100;\n\nvar DEFAULTS = {\n  // Define the view mode of the cropper\n  viewMode: 0,\n  // 0, 1, 2, 3\n  // Define the dragging mode of the cropper\n  dragMode: DRAG_MODE_CROP,\n  // 'crop', 'move' or 'none'\n  // Define the initial aspect ratio of the crop box\n  initialAspectRatio: NaN,\n  // Define the aspect ratio of the crop box\n  aspectRatio: NaN,\n  // An object with the previous cropping result data\n  data: null,\n  // A selector for adding extra containers to preview\n  preview: '',\n  // Re-render the cropper when resize the window\n  responsive: true,\n  // Restore the cropped area after resize the window\n  restore: true,\n  // Check if the current image is a cross-origin image\n  checkCrossOrigin: true,\n  // Check the current image's Exif Orientation information\n  checkOrientation: true,\n  // Show the black modal\n  modal: true,\n  // Show the dashed lines for guiding\n  guides: true,\n  // Show the center indicator for guiding\n  center: true,\n  // Show the white modal to highlight the crop box\n  highlight: true,\n  // Show the grid background\n  background: true,\n  // Enable to crop the image automatically when initialize\n  autoCrop: true,\n  // Define the percentage of automatic cropping area when initializes\n  autoCropArea: 0.8,\n  // Enable to move the image\n  movable: true,\n  // Enable to rotate the image\n  rotatable: true,\n  // Enable to scale the image\n  scalable: true,\n  // Enable to zoom the image\n  zoomable: true,\n  // Enable to zoom the image by dragging touch\n  zoomOnTouch: true,\n  // Enable to zoom the image by wheeling mouse\n  zoomOnWheel: true,\n  // Define zoom ratio when zoom the image by wheeling mouse\n  wheelZoomRatio: 0.1,\n  // Enable to move the crop box\n  cropBoxMovable: true,\n  // Enable to resize the crop box\n  cropBoxResizable: true,\n  // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n  toggleDragModeOnDblclick: true,\n  // Size limitation\n  minCanvasWidth: 0,\n  minCanvasHeight: 0,\n  minCropBoxWidth: 0,\n  minCropBoxHeight: 0,\n  minContainerWidth: MIN_CONTAINER_WIDTH,\n  minContainerHeight: MIN_CONTAINER_HEIGHT,\n  // Shortcuts of events\n  ready: null,\n  cropstart: null,\n  cropmove: null,\n  cropend: null,\n  crop: null,\n  zoom: null\n};\n\nvar TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-cropper-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-cropper-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-cropper-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-cropper-action=\"se\"></span>' + '</div>' + '</div>';\n\n/**\n * Check if the given value is not a number.\n */\n\nvar isNaN = Number.isNaN || WINDOW.isNaN;\n/**\n * Check if the given value is a number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n */\n\nfunction isNumber(value) {\n  return typeof value === 'number' && !isNaN(value);\n}\n/**\n * Check if the given value is a positive number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n */\n\nvar isPositiveNumber = function isPositiveNumber(value) {\n  return value > 0 && value < Infinity;\n};\n/**\n * Check if the given value is undefined.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n */\n\nfunction isUndefined(value) {\n  return typeof value === 'undefined';\n}\n/**\n * Check if the given value is an object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n */\n\nfunction isObject(value) {\n  return _typeof(value) === 'object' && value !== null;\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * Check if the given value is a plain object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n */\n\nfunction isPlainObject(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n\n  try {\n    var _constructor = value.constructor;\n    var prototype = _constructor.prototype;\n    return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n  } catch (error) {\n    return false;\n  }\n}\n/**\n * Check if the given value is a function.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n */\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\nvar slice = Array.prototype.slice;\n/**\n * Convert array-like or iterable object to an array.\n * @param {*} value - The value to convert.\n * @returns {Array} Returns a new array.\n */\n\nfunction toArray(value) {\n  return Array.from ? Array.from(value) : slice.call(value);\n}\n/**\n * Iterate the given data.\n * @param {*} data - The data to iterate.\n * @param {Function} callback - The process function for each element.\n * @returns {*} The original data.\n */\n\nfunction forEach(data, callback) {\n  if (data && isFunction(callback)) {\n    if (Array.isArray(data) || isNumber(data.length)\n    /* array-like */\n    ) {\n        toArray(data).forEach(function (value, key) {\n          callback.call(data, value, key, data);\n        });\n      } else if (isObject(data)) {\n      Object.keys(data).forEach(function (key) {\n        callback.call(data, data[key], key, data);\n      });\n    }\n  }\n\n  return data;\n}\n/**\n * Extend the given object.\n * @param {*} target - The target object to extend.\n * @param {*} args - The rest objects for merging to the target object.\n * @returns {Object} The extended object.\n */\n\nvar assign = Object.assign || function assign(target) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (isObject(target) && args.length > 0) {\n    args.forEach(function (arg) {\n      if (isObject(arg)) {\n        Object.keys(arg).forEach(function (key) {\n          target[key] = arg[key];\n        });\n      }\n    });\n  }\n\n  return target;\n};\nvar REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n/**\n * Normalize decimal number.\n * Check out {@link https://0.30000000000000004.com/}\n * @param {number} value - The value to normalize.\n * @param {number} [times=100000000000] - The times for normalizing.\n * @returns {number} Returns the normalized number.\n */\n\nfunction normalizeDecimalNumber(value) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n  return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n}\nvar REGEXP_SUFFIX = /^width|height|left|top|marginLeft|marginTop$/;\n/**\n * Apply styles to the given element.\n * @param {Element} element - The target element.\n * @param {Object} styles - The styles for applying.\n */\n\nfunction setStyle(element, styles) {\n  var style = element.style;\n  forEach(styles, function (value, property) {\n    if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n      value = \"\".concat(value, \"px\");\n    }\n\n    style[property] = value;\n  });\n}\n/**\n * Check if the given element has a special class.\n * @param {Element} element - The element to check.\n * @param {string} value - The class to search.\n * @returns {boolean} Returns `true` if the special class was found.\n */\n\nfunction hasClass(element, value) {\n  return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n}\n/**\n * Add classes to the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be added.\n */\n\nfunction addClass(element, value) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      addClass(elem, value);\n    });\n    return;\n  }\n\n  if (element.classList) {\n    element.classList.add(value);\n    return;\n  }\n\n  var className = element.className.trim();\n\n  if (!className) {\n    element.className = value;\n  } else if (className.indexOf(value) < 0) {\n    element.className = \"\".concat(className, \" \").concat(value);\n  }\n}\n/**\n * Remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be removed.\n */\n\nfunction removeClass(element, value) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      removeClass(elem, value);\n    });\n    return;\n  }\n\n  if (element.classList) {\n    element.classList.remove(value);\n    return;\n  }\n\n  if (element.className.indexOf(value) >= 0) {\n    element.className = element.className.replace(value, '');\n  }\n}\n/**\n * Add or remove classes from the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be toggled.\n * @param {boolean} added - Add only.\n */\n\nfunction toggleClass(element, value, added) {\n  if (!value) {\n    return;\n  }\n\n  if (isNumber(element.length)) {\n    forEach(element, function (elem) {\n      toggleClass(elem, value, added);\n    });\n    return;\n  } // IE10-11 doesn't support the second parameter of `classList.toggle`\n\n\n  if (added) {\n    addClass(element, value);\n  } else {\n    removeClass(element, value);\n  }\n}\nvar REGEXP_CAMEL_CASE = /([a-z\\d])([A-Z])/g;\n/**\n * Transform the given string from camelCase to kebab-case\n * @param {string} value - The value to transform.\n * @returns {string} The transformed value.\n */\n\nfunction toParamCase(value) {\n  return value.replace(REGEXP_CAMEL_CASE, '$1-$2').toLowerCase();\n}\n/**\n * Get data from the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to get.\n * @returns {string} The data value.\n */\n\nfunction getData(element, name) {\n  if (isObject(element[name])) {\n    return element[name];\n  }\n\n  if (element.dataset) {\n    return element.dataset[name];\n  }\n\n  return element.getAttribute(\"data-\".concat(toParamCase(name)));\n}\n/**\n * Set data to the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to set.\n * @param {string} data - The data value.\n */\n\nfunction setData(element, name, data) {\n  if (isObject(data)) {\n    element[name] = data;\n  } else if (element.dataset) {\n    element.dataset[name] = data;\n  } else {\n    element.setAttribute(\"data-\".concat(toParamCase(name)), data);\n  }\n}\n/**\n * Remove data from the given element.\n * @param {Element} element - The target element.\n * @param {string} name - The data key to remove.\n */\n\nfunction removeData(element, name) {\n  if (isObject(element[name])) {\n    try {\n      delete element[name];\n    } catch (error) {\n      element[name] = undefined;\n    }\n  } else if (element.dataset) {\n    // #128 Safari not allows to delete dataset property\n    try {\n      delete element.dataset[name];\n    } catch (error) {\n      element.dataset[name] = undefined;\n    }\n  } else {\n    element.removeAttribute(\"data-\".concat(toParamCase(name)));\n  }\n}\nvar REGEXP_SPACES = /\\s\\s*/;\n\nvar onceSupported = function () {\n  var supported = false;\n\n  if (IS_BROWSER) {\n    var once = false;\n\n    var listener = function listener() {};\n\n    var options = Object.defineProperty({}, 'once', {\n      get: function get() {\n        supported = true;\n        return once;\n      },\n\n      /**\n       * This setter can fix a `TypeError` in strict mode\n       * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n       * @param {boolean} value - The value to set\n       */\n      set: function set(value) {\n        once = value;\n      }\n    });\n    WINDOW.addEventListener('test', listener, options);\n    WINDOW.removeEventListener('test', listener, options);\n  }\n\n  return supported;\n}();\n/**\n * Remove event listener from the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\n\n\nfunction removeListener(element, type, listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var handler = listener;\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\n    if (!onceSupported) {\n      var listeners = element.listeners;\n\n      if (listeners && listeners[event] && listeners[event][listener]) {\n        handler = listeners[event][listener];\n        delete listeners[event][listener];\n\n        if (Object.keys(listeners[event]).length === 0) {\n          delete listeners[event];\n        }\n\n        if (Object.keys(listeners).length === 0) {\n          delete element.listeners;\n        }\n      }\n    }\n\n    element.removeEventListener(event, handler, options);\n  });\n}\n/**\n * Add event listener to the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Function} listener - The event listener.\n * @param {Object} options - The event options.\n */\n\nfunction addListener(element, type, listener) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var _handler = listener;\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\n    if (options.once && !onceSupported) {\n      var _element$listeners = element.listeners,\n          listeners = _element$listeners === void 0 ? {} : _element$listeners;\n\n      _handler = function handler() {\n        delete listeners[event][listener];\n        element.removeEventListener(event, _handler, options);\n\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        listener.apply(element, args);\n      };\n\n      if (!listeners[event]) {\n        listeners[event] = {};\n      }\n\n      if (listeners[event][listener]) {\n        element.removeEventListener(event, listeners[event][listener], options);\n      }\n\n      listeners[event][listener] = _handler;\n      element.listeners = listeners;\n    }\n\n    element.addEventListener(event, _handler, options);\n  });\n}\n/**\n * Dispatch event on the target element.\n * @param {Element} element - The event target.\n * @param {string} type - The event type(s).\n * @param {Object} data - The additional event data.\n * @returns {boolean} Indicate if the event is default prevented or not.\n */\n\nfunction dispatchEvent(element, type, data) {\n  var event; // Event and CustomEvent on IE9-11 are global objects, not constructors\n\n  if (isFunction(Event) && isFunction(CustomEvent)) {\n    event = new CustomEvent(type, {\n      detail: data,\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent(type, true, true, data);\n  }\n\n  return element.dispatchEvent(event);\n}\n/**\n * Get the offset base on the document.\n * @param {Element} element - The target element.\n * @returns {Object} The offset data.\n */\n\nfunction getOffset(element) {\n  var box = element.getBoundingClientRect();\n  return {\n    left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n    top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n  };\n}\nvar location = WINDOW.location;\nvar REGEXP_ORIGINS = /^(\\w+:)\\/\\/([^:/?#]*):?(\\d*)/i;\n/**\n * Check if the given URL is a cross origin URL.\n * @param {string} url - The target URL.\n * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n */\n\nfunction isCrossOriginURL(url) {\n  var parts = url.match(REGEXP_ORIGINS);\n  return parts !== null && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n}\n/**\n * Add timestamp to the given URL.\n * @param {string} url - The target URL.\n * @returns {string} The result URL.\n */\n\nfunction addTimestamp(url) {\n  var timestamp = \"timestamp=\".concat(new Date().getTime());\n  return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n}\n/**\n * Get transforms base on the given object.\n * @param {Object} obj - The target object.\n * @returns {string} A string contains transform values.\n */\n\nfunction getTransforms(_ref) {\n  var rotate = _ref.rotate,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      translateX = _ref.translateX,\n      translateY = _ref.translateY;\n  var values = [];\n\n  if (isNumber(translateX) && translateX !== 0) {\n    values.push(\"translateX(\".concat(translateX, \"px)\"));\n  }\n\n  if (isNumber(translateY) && translateY !== 0) {\n    values.push(\"translateY(\".concat(translateY, \"px)\"));\n  } // Rotate should come first before scale to match orientation transform\n\n\n  if (isNumber(rotate) && rotate !== 0) {\n    values.push(\"rotate(\".concat(rotate, \"deg)\"));\n  }\n\n  if (isNumber(scaleX) && scaleX !== 1) {\n    values.push(\"scaleX(\".concat(scaleX, \")\"));\n  }\n\n  if (isNumber(scaleY) && scaleY !== 1) {\n    values.push(\"scaleY(\".concat(scaleY, \")\"));\n  }\n\n  var transform = values.length ? values.join(' ') : 'none';\n  return {\n    WebkitTransform: transform,\n    msTransform: transform,\n    transform: transform\n  };\n}\n/**\n * Get the max ratio of a group of pointers.\n * @param {string} pointers - The target pointers.\n * @returns {number} The result ratio.\n */\n\nfunction getMaxZoomRatio(pointers) {\n  var pointers2 = _objectSpread2({}, pointers);\n\n  var maxRatio = 0;\n  forEach(pointers, function (pointer, pointerId) {\n    delete pointers2[pointerId];\n    forEach(pointers2, function (pointer2) {\n      var x1 = Math.abs(pointer.startX - pointer2.startX);\n      var y1 = Math.abs(pointer.startY - pointer2.startY);\n      var x2 = Math.abs(pointer.endX - pointer2.endX);\n      var y2 = Math.abs(pointer.endY - pointer2.endY);\n      var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n      var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n      var ratio = (z2 - z1) / z1;\n\n      if (Math.abs(ratio) > Math.abs(maxRatio)) {\n        maxRatio = ratio;\n      }\n    });\n  });\n  return maxRatio;\n}\n/**\n * Get a pointer from an event object.\n * @param {Object} event - The target event object.\n * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n * @returns {Object} The result pointer contains start and/or end point coordinates.\n */\n\nfunction getPointer(_ref2, endOnly) {\n  var pageX = _ref2.pageX,\n      pageY = _ref2.pageY;\n  var end = {\n    endX: pageX,\n    endY: pageY\n  };\n  return endOnly ? end : _objectSpread2({\n    startX: pageX,\n    startY: pageY\n  }, end);\n}\n/**\n * Get the center point coordinate of a group of pointers.\n * @param {Object} pointers - The target pointers.\n * @returns {Object} The center point coordinate.\n */\n\nfunction getPointersCenter(pointers) {\n  var pageX = 0;\n  var pageY = 0;\n  var count = 0;\n  forEach(pointers, function (_ref3) {\n    var startX = _ref3.startX,\n        startY = _ref3.startY;\n    pageX += startX;\n    pageY += startY;\n    count += 1;\n  });\n  pageX /= count;\n  pageY /= count;\n  return {\n    pageX: pageX,\n    pageY: pageY\n  };\n}\n/**\n * Get the max sizes in a rectangle under the given aspect ratio.\n * @param {Object} data - The original sizes.\n * @param {string} [type='contain'] - The adjust type.\n * @returns {Object} The result sizes.\n */\n\nfunction getAdjustedSizes(_ref4) // or 'cover'\n{\n  var aspectRatio = _ref4.aspectRatio,\n      height = _ref4.height,\n      width = _ref4.width;\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n  var isValidWidth = isPositiveNumber(width);\n  var isValidHeight = isPositiveNumber(height);\n\n  if (isValidWidth && isValidHeight) {\n    var adjustedWidth = height * aspectRatio;\n\n    if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n      height = width / aspectRatio;\n    } else {\n      width = height * aspectRatio;\n    }\n  } else if (isValidWidth) {\n    height = width / aspectRatio;\n  } else if (isValidHeight) {\n    width = height * aspectRatio;\n  }\n\n  return {\n    width: width,\n    height: height\n  };\n}\n/**\n * Get the new sizes of a rectangle after rotated.\n * @param {Object} data - The original sizes.\n * @returns {Object} The result sizes.\n */\n\nfunction getRotatedSizes(_ref5) {\n  var width = _ref5.width,\n      height = _ref5.height,\n      degree = _ref5.degree;\n  degree = Math.abs(degree) % 180;\n\n  if (degree === 90) {\n    return {\n      width: height,\n      height: width\n    };\n  }\n\n  var arc = degree % 90 * Math.PI / 180;\n  var sinArc = Math.sin(arc);\n  var cosArc = Math.cos(arc);\n  var newWidth = width * cosArc + height * sinArc;\n  var newHeight = width * sinArc + height * cosArc;\n  return degree > 90 ? {\n    width: newHeight,\n    height: newWidth\n  } : {\n    width: newWidth,\n    height: newHeight\n  };\n}\n/**\n * Get a canvas which drew the given image.\n * @param {HTMLImageElement} image - The image for drawing.\n * @param {Object} imageData - The image data.\n * @param {Object} canvasData - The canvas data.\n * @param {Object} options - The options.\n * @returns {HTMLCanvasElement} The result canvas.\n */\n\nfunction getSourceCanvas(image, _ref6, _ref7, _ref8) {\n  var imageAspectRatio = _ref6.aspectRatio,\n      imageNaturalWidth = _ref6.naturalWidth,\n      imageNaturalHeight = _ref6.naturalHeight,\n      _ref6$rotate = _ref6.rotate,\n      rotate = _ref6$rotate === void 0 ? 0 : _ref6$rotate,\n      _ref6$scaleX = _ref6.scaleX,\n      scaleX = _ref6$scaleX === void 0 ? 1 : _ref6$scaleX,\n      _ref6$scaleY = _ref6.scaleY,\n      scaleY = _ref6$scaleY === void 0 ? 1 : _ref6$scaleY;\n  var aspectRatio = _ref7.aspectRatio,\n      naturalWidth = _ref7.naturalWidth,\n      naturalHeight = _ref7.naturalHeight;\n  var _ref8$fillColor = _ref8.fillColor,\n      fillColor = _ref8$fillColor === void 0 ? 'transparent' : _ref8$fillColor,\n      _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n      imageSmoothingEnabled = _ref8$imageSmoothingE === void 0 ? true : _ref8$imageSmoothingE,\n      _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n      imageSmoothingQuality = _ref8$imageSmoothingQ === void 0 ? 'low' : _ref8$imageSmoothingQ,\n      _ref8$maxWidth = _ref8.maxWidth,\n      maxWidth = _ref8$maxWidth === void 0 ? Infinity : _ref8$maxWidth,\n      _ref8$maxHeight = _ref8.maxHeight,\n      maxHeight = _ref8$maxHeight === void 0 ? Infinity : _ref8$maxHeight,\n      _ref8$minWidth = _ref8.minWidth,\n      minWidth = _ref8$minWidth === void 0 ? 0 : _ref8$minWidth,\n      _ref8$minHeight = _ref8.minHeight,\n      minHeight = _ref8$minHeight === void 0 ? 0 : _ref8$minHeight;\n  var canvas = document.createElement('canvas');\n  var context = canvas.getContext('2d');\n  var maxSizes = getAdjustedSizes({\n    aspectRatio: aspectRatio,\n    width: maxWidth,\n    height: maxHeight\n  });\n  var minSizes = getAdjustedSizes({\n    aspectRatio: aspectRatio,\n    width: minWidth,\n    height: minHeight\n  }, 'cover');\n  var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n  var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight)); // Note: should always use image's natural sizes for drawing as\n  // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n\n  var destMaxSizes = getAdjustedSizes({\n    aspectRatio: imageAspectRatio,\n    width: maxWidth,\n    height: maxHeight\n  });\n  var destMinSizes = getAdjustedSizes({\n    aspectRatio: imageAspectRatio,\n    width: minWidth,\n    height: minHeight\n  }, 'cover');\n  var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n  var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n  var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n  canvas.width = normalizeDecimalNumber(width);\n  canvas.height = normalizeDecimalNumber(height);\n  context.fillStyle = fillColor;\n  context.fillRect(0, 0, width, height);\n  context.save();\n  context.translate(width / 2, height / 2);\n  context.rotate(rotate * Math.PI / 180);\n  context.scale(scaleX, scaleY);\n  context.imageSmoothingEnabled = imageSmoothingEnabled;\n  context.imageSmoothingQuality = imageSmoothingQuality;\n  context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function (param) {\n    return Math.floor(normalizeDecimalNumber(param));\n  }))));\n  context.restore();\n  return canvas;\n}\nvar fromCharCode = String.fromCharCode;\n/**\n * Get string from char code in data view.\n * @param {DataView} dataView - The data view for read.\n * @param {number} start - The start index.\n * @param {number} length - The read length.\n * @returns {string} The read result.\n */\n\nfunction getStringFromCharCode(dataView, start, length) {\n  var str = '';\n  length += start;\n\n  for (var i = start; i < length; i += 1) {\n    str += fromCharCode(dataView.getUint8(i));\n  }\n\n  return str;\n}\nvar REGEXP_DATA_URL_HEAD = /^data:.*,/;\n/**\n * Transform Data URL to array buffer.\n * @param {string} dataURL - The Data URL to transform.\n * @returns {ArrayBuffer} The result array buffer.\n */\n\nfunction dataURLToArrayBuffer(dataURL) {\n  var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n  var binary = atob(base64);\n  var arrayBuffer = new ArrayBuffer(binary.length);\n  var uint8 = new Uint8Array(arrayBuffer);\n  forEach(uint8, function (value, i) {\n    uint8[i] = binary.charCodeAt(i);\n  });\n  return arrayBuffer;\n}\n/**\n * Transform array buffer to Data URL.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {string} mimeType - The mime type of the Data URL.\n * @returns {string} The result Data URL.\n */\n\nfunction arrayBufferToDataURL(arrayBuffer, mimeType) {\n  var chunks = []; // Chunk Typed Array for better performance (#435)\n\n  var chunkSize = 8192;\n  var uint8 = new Uint8Array(arrayBuffer);\n\n  while (uint8.length > 0) {\n    // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n    // eslint-disable-next-line prefer-spread\n    chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n    uint8 = uint8.subarray(chunkSize);\n  }\n\n  return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n}\n/**\n * Get orientation value from given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {number} The read orientation value.\n */\n\nfunction resetAndGetOrientation(arrayBuffer) {\n  var dataView = new DataView(arrayBuffer);\n  var orientation; // Ignores range error when the image does not have correct Exif information\n\n  try {\n    var littleEndian;\n    var app1Start;\n    var ifdStart; // Only handle JPEG image (start by 0xFFD8)\n\n    if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n      var length = dataView.byteLength;\n      var offset = 2;\n\n      while (offset + 1 < length) {\n        if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n          app1Start = offset;\n          break;\n        }\n\n        offset += 1;\n      }\n    }\n\n    if (app1Start) {\n      var exifIDCode = app1Start + 4;\n      var tiffOffset = app1Start + 10;\n\n      if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n        var endianness = dataView.getUint16(tiffOffset);\n        littleEndian = endianness === 0x4949;\n\n        if (littleEndian || endianness === 0x4D4D\n        /* bigEndian */\n        ) {\n            if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n              var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n              if (firstIFDOffset >= 0x00000008) {\n                ifdStart = tiffOffset + firstIFDOffset;\n              }\n            }\n          }\n      }\n    }\n\n    if (ifdStart) {\n      var _length = dataView.getUint16(ifdStart, littleEndian);\n\n      var _offset;\n\n      var i;\n\n      for (i = 0; i < _length; i += 1) {\n        _offset = ifdStart + i * 12 + 2;\n\n        if (dataView.getUint16(_offset, littleEndian) === 0x0112\n        /* Orientation */\n        ) {\n            // 8 is the offset of the current tag's value\n            _offset += 8; // Get the original orientation value\n\n            orientation = dataView.getUint16(_offset, littleEndian); // Override the orientation with its default value\n\n            dataView.setUint16(_offset, 1, littleEndian);\n            break;\n          }\n      }\n    }\n  } catch (error) {\n    orientation = 1;\n  }\n\n  return orientation;\n}\n/**\n * Parse Exif Orientation value.\n * @param {number} orientation - The orientation to parse.\n * @returns {Object} The parsed result.\n */\n\nfunction parseOrientation(orientation) {\n  var rotate = 0;\n  var scaleX = 1;\n  var scaleY = 1;\n\n  switch (orientation) {\n    // Flip horizontal\n    case 2:\n      scaleX = -1;\n      break;\n    // Rotate left 180°\n\n    case 3:\n      rotate = -180;\n      break;\n    // Flip vertical\n\n    case 4:\n      scaleY = -1;\n      break;\n    // Flip vertical and rotate right 90°\n\n    case 5:\n      rotate = 90;\n      scaleY = -1;\n      break;\n    // Rotate right 90°\n\n    case 6:\n      rotate = 90;\n      break;\n    // Flip horizontal and rotate right 90°\n\n    case 7:\n      rotate = 90;\n      scaleX = -1;\n      break;\n    // Rotate left 90°\n\n    case 8:\n      rotate = -90;\n      break;\n  }\n\n  return {\n    rotate: rotate,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n\nvar render = {\n  render: function render() {\n    this.initContainer();\n    this.initCanvas();\n    this.initCropBox();\n    this.renderCanvas();\n\n    if (this.cropped) {\n      this.renderCropBox();\n    }\n  },\n  initContainer: function initContainer() {\n    var element = this.element,\n        options = this.options,\n        container = this.container,\n        cropper = this.cropper;\n    var minWidth = Number(options.minContainerWidth);\n    var minHeight = Number(options.minContainerHeight);\n    addClass(cropper, CLASS_HIDDEN);\n    removeClass(element, CLASS_HIDDEN);\n    var containerData = {\n      width: Math.max(container.offsetWidth, minWidth >= 0 ? minWidth : MIN_CONTAINER_WIDTH),\n      height: Math.max(container.offsetHeight, minHeight >= 0 ? minHeight : MIN_CONTAINER_HEIGHT)\n    };\n    this.containerData = containerData;\n    setStyle(cropper, {\n      width: containerData.width,\n      height: containerData.height\n    });\n    addClass(element, CLASS_HIDDEN);\n    removeClass(cropper, CLASS_HIDDEN);\n  },\n  // Canvas (image wrapper)\n  initCanvas: function initCanvas() {\n    var containerData = this.containerData,\n        imageData = this.imageData;\n    var viewMode = this.options.viewMode;\n    var rotated = Math.abs(imageData.rotate) % 180 === 90;\n    var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n    var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n    var aspectRatio = naturalWidth / naturalHeight;\n    var canvasWidth = containerData.width;\n    var canvasHeight = containerData.height;\n\n    if (containerData.height * aspectRatio > containerData.width) {\n      if (viewMode === 3) {\n        canvasWidth = containerData.height * aspectRatio;\n      } else {\n        canvasHeight = containerData.width / aspectRatio;\n      }\n    } else if (viewMode === 3) {\n      canvasHeight = containerData.width / aspectRatio;\n    } else {\n      canvasWidth = containerData.height * aspectRatio;\n    }\n\n    var canvasData = {\n      aspectRatio: aspectRatio,\n      naturalWidth: naturalWidth,\n      naturalHeight: naturalHeight,\n      width: canvasWidth,\n      height: canvasHeight\n    };\n    this.canvasData = canvasData;\n    this.limited = viewMode === 1 || viewMode === 2;\n    this.limitCanvas(true, true);\n    canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n    canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n    canvasData.left = (containerData.width - canvasData.width) / 2;\n    canvasData.top = (containerData.height - canvasData.height) / 2;\n    canvasData.oldLeft = canvasData.left;\n    canvasData.oldTop = canvasData.top;\n    this.initialCanvasData = assign({}, canvasData);\n  },\n  limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n    var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n    var viewMode = options.viewMode;\n    var aspectRatio = canvasData.aspectRatio;\n    var cropped = this.cropped && cropBoxData;\n\n    if (sizeLimited) {\n      var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n      var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n\n      if (viewMode > 1) {\n        minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n        minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n\n        if (viewMode === 3) {\n          if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n            minCanvasWidth = minCanvasHeight * aspectRatio;\n          } else {\n            minCanvasHeight = minCanvasWidth / aspectRatio;\n          }\n        }\n      } else if (viewMode > 0) {\n        if (minCanvasWidth) {\n          minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n        } else if (minCanvasHeight) {\n          minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n        } else if (cropped) {\n          minCanvasWidth = cropBoxData.width;\n          minCanvasHeight = cropBoxData.height;\n\n          if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n            minCanvasWidth = minCanvasHeight * aspectRatio;\n          } else {\n            minCanvasHeight = minCanvasWidth / aspectRatio;\n          }\n        }\n      }\n\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: minCanvasWidth,\n        height: minCanvasHeight\n      });\n\n      minCanvasWidth = _getAdjustedSizes.width;\n      minCanvasHeight = _getAdjustedSizes.height;\n      canvasData.minWidth = minCanvasWidth;\n      canvasData.minHeight = minCanvasHeight;\n      canvasData.maxWidth = Infinity;\n      canvasData.maxHeight = Infinity;\n    }\n\n    if (positionLimited) {\n      if (viewMode > (cropped ? 0 : 1)) {\n        var newCanvasLeft = containerData.width - canvasData.width;\n        var newCanvasTop = containerData.height - canvasData.height;\n        canvasData.minLeft = Math.min(0, newCanvasLeft);\n        canvasData.minTop = Math.min(0, newCanvasTop);\n        canvasData.maxLeft = Math.max(0, newCanvasLeft);\n        canvasData.maxTop = Math.max(0, newCanvasTop);\n\n        if (cropped && this.limited) {\n          canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n          canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n          canvasData.maxLeft = cropBoxData.left;\n          canvasData.maxTop = cropBoxData.top;\n\n          if (viewMode === 2) {\n            if (canvasData.width >= containerData.width) {\n              canvasData.minLeft = Math.min(0, newCanvasLeft);\n              canvasData.maxLeft = Math.max(0, newCanvasLeft);\n            }\n\n            if (canvasData.height >= containerData.height) {\n              canvasData.minTop = Math.min(0, newCanvasTop);\n              canvasData.maxTop = Math.max(0, newCanvasTop);\n            }\n          }\n        }\n      } else {\n        canvasData.minLeft = -canvasData.width;\n        canvasData.minTop = -canvasData.height;\n        canvasData.maxLeft = containerData.width;\n        canvasData.maxTop = containerData.height;\n      }\n    }\n  },\n  renderCanvas: function renderCanvas(changed, transformed) {\n    var canvasData = this.canvasData,\n        imageData = this.imageData;\n\n    if (transformed) {\n      var _getRotatedSizes = getRotatedSizes({\n        width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n        height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n        degree: imageData.rotate || 0\n      }),\n          naturalWidth = _getRotatedSizes.width,\n          naturalHeight = _getRotatedSizes.height;\n\n      var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n      var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n      canvasData.left -= (width - canvasData.width) / 2;\n      canvasData.top -= (height - canvasData.height) / 2;\n      canvasData.width = width;\n      canvasData.height = height;\n      canvasData.aspectRatio = naturalWidth / naturalHeight;\n      canvasData.naturalWidth = naturalWidth;\n      canvasData.naturalHeight = naturalHeight;\n      this.limitCanvas(true, false);\n    }\n\n    if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n      canvasData.left = canvasData.oldLeft;\n    }\n\n    if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n      canvasData.top = canvasData.oldTop;\n    }\n\n    canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n    canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n    this.limitCanvas(false, true);\n    canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n    canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n    canvasData.oldLeft = canvasData.left;\n    canvasData.oldTop = canvasData.top;\n    setStyle(this.canvas, assign({\n      width: canvasData.width,\n      height: canvasData.height\n    }, getTransforms({\n      translateX: canvasData.left,\n      translateY: canvasData.top\n    })));\n    this.renderImage(changed);\n\n    if (this.cropped && this.limited) {\n      this.limitCropBox(true, true);\n    }\n  },\n  renderImage: function renderImage(changed) {\n    var canvasData = this.canvasData,\n        imageData = this.imageData;\n    var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n    var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n    assign(imageData, {\n      width: width,\n      height: height,\n      left: (canvasData.width - width) / 2,\n      top: (canvasData.height - height) / 2\n    });\n    setStyle(this.image, assign({\n      width: imageData.width,\n      height: imageData.height\n    }, getTransforms(assign({\n      translateX: imageData.left,\n      translateY: imageData.top\n    }, imageData))));\n\n    if (changed) {\n      this.output();\n    }\n  },\n  initCropBox: function initCropBox() {\n    var options = this.options,\n        canvasData = this.canvasData;\n    var aspectRatio = options.aspectRatio || options.initialAspectRatio;\n    var autoCropArea = Number(options.autoCropArea) || 0.8;\n    var cropBoxData = {\n      width: canvasData.width,\n      height: canvasData.height\n    };\n\n    if (aspectRatio) {\n      if (canvasData.height * aspectRatio > canvasData.width) {\n        cropBoxData.height = cropBoxData.width / aspectRatio;\n      } else {\n        cropBoxData.width = cropBoxData.height * aspectRatio;\n      }\n    }\n\n    this.cropBoxData = cropBoxData;\n    this.limitCropBox(true, true); // Initialize auto crop area\n\n    cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n    cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight); // The width/height of auto crop area must large than \"minWidth/Height\"\n\n    cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n    cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n    cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n    cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n    cropBoxData.oldLeft = cropBoxData.left;\n    cropBoxData.oldTop = cropBoxData.top;\n    this.initialCropBoxData = assign({}, cropBoxData);\n  },\n  limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n    var options = this.options,\n        containerData = this.containerData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData,\n        limited = this.limited;\n    var aspectRatio = options.aspectRatio;\n\n    if (sizeLimited) {\n      var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n      var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n      var maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width;\n      var maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height; // The min/maxCropBoxWidth/Height must be less than container's width/height\n\n      minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n      minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n\n      if (aspectRatio) {\n        if (minCropBoxWidth && minCropBoxHeight) {\n          if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n        } else if (minCropBoxWidth) {\n          minCropBoxHeight = minCropBoxWidth / aspectRatio;\n        } else if (minCropBoxHeight) {\n          minCropBoxWidth = minCropBoxHeight * aspectRatio;\n        }\n\n        if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n          maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n        } else {\n          maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n        }\n      } // The minWidth/Height must be less than maxWidth/Height\n\n\n      cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n      cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n      cropBoxData.maxWidth = maxCropBoxWidth;\n      cropBoxData.maxHeight = maxCropBoxHeight;\n    }\n\n    if (positionLimited) {\n      if (limited) {\n        cropBoxData.minLeft = Math.max(0, canvasData.left);\n        cropBoxData.minTop = Math.max(0, canvasData.top);\n        cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n        cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n      } else {\n        cropBoxData.minLeft = 0;\n        cropBoxData.minTop = 0;\n        cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n        cropBoxData.maxTop = containerData.height - cropBoxData.height;\n      }\n    }\n  },\n  renderCropBox: function renderCropBox() {\n    var options = this.options,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData;\n\n    if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n      cropBoxData.left = cropBoxData.oldLeft;\n    }\n\n    if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n      cropBoxData.top = cropBoxData.oldTop;\n    }\n\n    cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n    cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n    this.limitCropBox(false, true);\n    cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n    cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n    cropBoxData.oldLeft = cropBoxData.left;\n    cropBoxData.oldTop = cropBoxData.top;\n\n    if (options.movable && options.cropBoxMovable) {\n      // Turn to move the canvas when the crop box is equal to the container\n      setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n    }\n\n    setStyle(this.cropBox, assign({\n      width: cropBoxData.width,\n      height: cropBoxData.height\n    }, getTransforms({\n      translateX: cropBoxData.left,\n      translateY: cropBoxData.top\n    })));\n\n    if (this.cropped && this.limited) {\n      this.limitCanvas(true, true);\n    }\n\n    if (!this.disabled) {\n      this.output();\n    }\n  },\n  output: function output() {\n    this.preview();\n    dispatchEvent(this.element, EVENT_CROP, this.getData());\n  }\n};\n\nvar preview = {\n  initPreview: function initPreview() {\n    var element = this.element,\n        crossOrigin = this.crossOrigin;\n    var preview = this.options.preview;\n    var url = crossOrigin ? this.crossOriginUrl : this.url;\n    var alt = element.alt || 'The image to preview';\n    var image = document.createElement('img');\n\n    if (crossOrigin) {\n      image.crossOrigin = crossOrigin;\n    }\n\n    image.src = url;\n    image.alt = alt;\n    this.viewBox.appendChild(image);\n    this.viewBoxImage = image;\n\n    if (!preview) {\n      return;\n    }\n\n    var previews = preview;\n\n    if (typeof preview === 'string') {\n      previews = element.ownerDocument.querySelectorAll(preview);\n    } else if (preview.querySelector) {\n      previews = [preview];\n    }\n\n    this.previews = previews;\n    forEach(previews, function (el) {\n      var img = document.createElement('img'); // Save the original size for recover\n\n      setData(el, DATA_PREVIEW, {\n        width: el.offsetWidth,\n        height: el.offsetHeight,\n        html: el.innerHTML\n      });\n\n      if (crossOrigin) {\n        img.crossOrigin = crossOrigin;\n      }\n\n      img.src = url;\n      img.alt = alt;\n      /**\n       * Override img element styles\n       * Add `display:block` to avoid margin top issue\n       * Add `height:auto` to override `height` attribute on IE8\n       * (Occur only when margin-top <= -height)\n       */\n\n      img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n      el.innerHTML = '';\n      el.appendChild(img);\n    });\n  },\n  resetPreview: function resetPreview() {\n    forEach(this.previews, function (element) {\n      var data = getData(element, DATA_PREVIEW);\n      setStyle(element, {\n        width: data.width,\n        height: data.height\n      });\n      element.innerHTML = data.html;\n      removeData(element, DATA_PREVIEW);\n    });\n  },\n  preview: function preview() {\n    var imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n    var cropBoxWidth = cropBoxData.width,\n        cropBoxHeight = cropBoxData.height;\n    var width = imageData.width,\n        height = imageData.height;\n    var left = cropBoxData.left - canvasData.left - imageData.left;\n    var top = cropBoxData.top - canvasData.top - imageData.top;\n\n    if (!this.cropped || this.disabled) {\n      return;\n    }\n\n    setStyle(this.viewBoxImage, assign({\n      width: width,\n      height: height\n    }, getTransforms(assign({\n      translateX: -left,\n      translateY: -top\n    }, imageData))));\n    forEach(this.previews, function (element) {\n      var data = getData(element, DATA_PREVIEW);\n      var originalWidth = data.width;\n      var originalHeight = data.height;\n      var newWidth = originalWidth;\n      var newHeight = originalHeight;\n      var ratio = 1;\n\n      if (cropBoxWidth) {\n        ratio = originalWidth / cropBoxWidth;\n        newHeight = cropBoxHeight * ratio;\n      }\n\n      if (cropBoxHeight && newHeight > originalHeight) {\n        ratio = originalHeight / cropBoxHeight;\n        newWidth = cropBoxWidth * ratio;\n        newHeight = originalHeight;\n      }\n\n      setStyle(element, {\n        width: newWidth,\n        height: newHeight\n      });\n      setStyle(element.getElementsByTagName('img')[0], assign({\n        width: width * ratio,\n        height: height * ratio\n      }, getTransforms(assign({\n        translateX: -left * ratio,\n        translateY: -top * ratio\n      }, imageData))));\n    });\n  }\n};\n\nvar events = {\n  bind: function bind() {\n    var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n\n    if (isFunction(options.cropstart)) {\n      addListener(element, EVENT_CROP_START, options.cropstart);\n    }\n\n    if (isFunction(options.cropmove)) {\n      addListener(element, EVENT_CROP_MOVE, options.cropmove);\n    }\n\n    if (isFunction(options.cropend)) {\n      addListener(element, EVENT_CROP_END, options.cropend);\n    }\n\n    if (isFunction(options.crop)) {\n      addListener(element, EVENT_CROP, options.crop);\n    }\n\n    if (isFunction(options.zoom)) {\n      addListener(element, EVENT_ZOOM, options.zoom);\n    }\n\n    addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n\n    if (options.zoomable && options.zoomOnWheel) {\n      addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n        passive: false,\n        capture: true\n      });\n    }\n\n    if (options.toggleDragModeOnDblclick) {\n      addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n    }\n\n    addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n    addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n\n    if (options.responsive) {\n      addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n    }\n  },\n  unbind: function unbind() {\n    var element = this.element,\n        options = this.options,\n        cropper = this.cropper;\n\n    if (isFunction(options.cropstart)) {\n      removeListener(element, EVENT_CROP_START, options.cropstart);\n    }\n\n    if (isFunction(options.cropmove)) {\n      removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n    }\n\n    if (isFunction(options.cropend)) {\n      removeListener(element, EVENT_CROP_END, options.cropend);\n    }\n\n    if (isFunction(options.crop)) {\n      removeListener(element, EVENT_CROP, options.crop);\n    }\n\n    if (isFunction(options.zoom)) {\n      removeListener(element, EVENT_ZOOM, options.zoom);\n    }\n\n    removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n\n    if (options.zoomable && options.zoomOnWheel) {\n      removeListener(cropper, EVENT_WHEEL, this.onWheel, {\n        passive: false,\n        capture: true\n      });\n    }\n\n    if (options.toggleDragModeOnDblclick) {\n      removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n    }\n\n    removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n    removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n\n    if (options.responsive) {\n      removeListener(window, EVENT_RESIZE, this.onResize);\n    }\n  }\n};\n\nvar handlers = {\n  resize: function resize() {\n    if (this.disabled) {\n      return;\n    }\n\n    var options = this.options,\n        container = this.container,\n        containerData = this.containerData;\n    var ratioX = container.offsetWidth / containerData.width;\n    var ratioY = container.offsetHeight / containerData.height;\n    var ratio = Math.abs(ratioX - 1) > Math.abs(ratioY - 1) ? ratioX : ratioY; // Resize when width changed or height changed\n\n    if (ratio !== 1) {\n      var canvasData;\n      var cropBoxData;\n\n      if (options.restore) {\n        canvasData = this.getCanvasData();\n        cropBoxData = this.getCropBoxData();\n      }\n\n      this.render();\n\n      if (options.restore) {\n        this.setCanvasData(forEach(canvasData, function (n, i) {\n          canvasData[i] = n * ratio;\n        }));\n        this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n          cropBoxData[i] = n * ratio;\n        }));\n      }\n    }\n  },\n  dblclick: function dblclick() {\n    if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n      return;\n    }\n\n    this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n  },\n  wheel: function wheel(event) {\n    var _this = this;\n\n    var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n    var delta = 1;\n\n    if (this.disabled) {\n      return;\n    }\n\n    event.preventDefault(); // Limit wheel speed to prevent zoom too fast (#21)\n\n    if (this.wheeling) {\n      return;\n    }\n\n    this.wheeling = true;\n    setTimeout(function () {\n      _this.wheeling = false;\n    }, 50);\n\n    if (event.deltaY) {\n      delta = event.deltaY > 0 ? 1 : -1;\n    } else if (event.wheelDelta) {\n      delta = -event.wheelDelta / 120;\n    } else if (event.detail) {\n      delta = event.detail > 0 ? 1 : -1;\n    }\n\n    this.zoom(-delta * ratio, event);\n  },\n  cropStart: function cropStart(event) {\n    var buttons = event.buttons,\n        button = event.button;\n\n    if (this.disabled // Handle mouse event and pointer event and ignore touch event\n    || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && ( // No primary button (Usually the left button)\n    isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0 // Open context menu\n    || event.ctrlKey)) {\n      return;\n    }\n\n    var options = this.options,\n        pointers = this.pointers;\n    var action;\n\n    if (event.changedTouches) {\n      // Handle touch event\n      forEach(event.changedTouches, function (touch) {\n        pointers[touch.identifier] = getPointer(touch);\n      });\n    } else {\n      // Handle mouse event and pointer event\n      pointers[event.pointerId || 0] = getPointer(event);\n    }\n\n    if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n      action = ACTION_ZOOM;\n    } else {\n      action = getData(event.target, DATA_ACTION);\n    }\n\n    if (!REGEXP_ACTIONS.test(action)) {\n      return;\n    }\n\n    if (dispatchEvent(this.element, EVENT_CROP_START, {\n      originalEvent: event,\n      action: action\n    }) === false) {\n      return;\n    } // This line is required for preventing page zooming in iOS browsers\n\n\n    event.preventDefault();\n    this.action = action;\n    this.cropping = false;\n\n    if (action === ACTION_CROP) {\n      this.cropping = true;\n      addClass(this.dragBox, CLASS_MODAL);\n    }\n  },\n  cropMove: function cropMove(event) {\n    var action = this.action;\n\n    if (this.disabled || !action) {\n      return;\n    }\n\n    var pointers = this.pointers;\n    event.preventDefault();\n\n    if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n      originalEvent: event,\n      action: action\n    }) === false) {\n      return;\n    }\n\n    if (event.changedTouches) {\n      forEach(event.changedTouches, function (touch) {\n        // The first parameter should not be undefined (#432)\n        assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n      });\n    } else {\n      assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n    }\n\n    this.change(event);\n  },\n  cropEnd: function cropEnd(event) {\n    if (this.disabled) {\n      return;\n    }\n\n    var action = this.action,\n        pointers = this.pointers;\n\n    if (event.changedTouches) {\n      forEach(event.changedTouches, function (touch) {\n        delete pointers[touch.identifier];\n      });\n    } else {\n      delete pointers[event.pointerId || 0];\n    }\n\n    if (!action) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (!Object.keys(pointers).length) {\n      this.action = '';\n    }\n\n    if (this.cropping) {\n      this.cropping = false;\n      toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n    }\n\n    dispatchEvent(this.element, EVENT_CROP_END, {\n      originalEvent: event,\n      action: action\n    });\n  }\n};\n\nvar change = {\n  change: function change(event) {\n    var options = this.options,\n        canvasData = this.canvasData,\n        containerData = this.containerData,\n        cropBoxData = this.cropBoxData,\n        pointers = this.pointers;\n    var action = this.action;\n    var aspectRatio = options.aspectRatio;\n    var left = cropBoxData.left,\n        top = cropBoxData.top,\n        width = cropBoxData.width,\n        height = cropBoxData.height;\n    var right = left + width;\n    var bottom = top + height;\n    var minLeft = 0;\n    var minTop = 0;\n    var maxWidth = containerData.width;\n    var maxHeight = containerData.height;\n    var renderable = true;\n    var offset; // Locking aspect ratio in \"free mode\" by holding shift key\n\n    if (!aspectRatio && event.shiftKey) {\n      aspectRatio = width && height ? width / height : 1;\n    }\n\n    if (this.limited) {\n      minLeft = cropBoxData.minLeft;\n      minTop = cropBoxData.minTop;\n      maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n      maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n    }\n\n    var pointer = pointers[Object.keys(pointers)[0]];\n    var range = {\n      x: pointer.endX - pointer.startX,\n      y: pointer.endY - pointer.startY\n    };\n\n    var check = function check(side) {\n      switch (side) {\n        case ACTION_EAST:\n          if (right + range.x > maxWidth) {\n            range.x = maxWidth - right;\n          }\n\n          break;\n\n        case ACTION_WEST:\n          if (left + range.x < minLeft) {\n            range.x = minLeft - left;\n          }\n\n          break;\n\n        case ACTION_NORTH:\n          if (top + range.y < minTop) {\n            range.y = minTop - top;\n          }\n\n          break;\n\n        case ACTION_SOUTH:\n          if (bottom + range.y > maxHeight) {\n            range.y = maxHeight - bottom;\n          }\n\n          break;\n      }\n    };\n\n    switch (action) {\n      // Move crop box\n      case ACTION_ALL:\n        left += range.x;\n        top += range.y;\n        break;\n      // Resize crop box\n\n      case ACTION_EAST:\n        if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_EAST);\n        width += range.x;\n\n        if (width < 0) {\n          action = ACTION_WEST;\n          width = -width;\n          left -= width;\n        }\n\n        if (aspectRatio) {\n          height = width / aspectRatio;\n          top += (cropBoxData.height - height) / 2;\n        }\n\n        break;\n\n      case ACTION_NORTH:\n        if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_NORTH);\n        height -= range.y;\n        top += range.y;\n\n        if (height < 0) {\n          action = ACTION_SOUTH;\n          height = -height;\n          top -= height;\n        }\n\n        if (aspectRatio) {\n          width = height * aspectRatio;\n          left += (cropBoxData.width - width) / 2;\n        }\n\n        break;\n\n      case ACTION_WEST:\n        if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_WEST);\n        width -= range.x;\n        left += range.x;\n\n        if (width < 0) {\n          action = ACTION_EAST;\n          width = -width;\n          left -= width;\n        }\n\n        if (aspectRatio) {\n          height = width / aspectRatio;\n          top += (cropBoxData.height - height) / 2;\n        }\n\n        break;\n\n      case ACTION_SOUTH:\n        if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n          renderable = false;\n          break;\n        }\n\n        check(ACTION_SOUTH);\n        height += range.y;\n\n        if (height < 0) {\n          action = ACTION_NORTH;\n          height = -height;\n          top -= height;\n        }\n\n        if (aspectRatio) {\n          width = height * aspectRatio;\n          left += (cropBoxData.width - width) / 2;\n        }\n\n        break;\n\n      case ACTION_NORTH_EAST:\n        if (aspectRatio) {\n          if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n          width = height * aspectRatio;\n        } else {\n          check(ACTION_NORTH);\n          check(ACTION_EAST);\n\n          if (range.x >= 0) {\n            if (right < maxWidth) {\n              width += range.x;\n            } else if (range.y <= 0 && top <= minTop) {\n              renderable = false;\n            }\n          } else {\n            width += range.x;\n          }\n\n          if (range.y <= 0) {\n            if (top > minTop) {\n              height -= range.y;\n              top += range.y;\n            }\n          } else {\n            height -= range.y;\n            top += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_SOUTH_WEST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_NORTH_WEST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_SOUTH_EAST;\n          height = -height;\n          top -= height;\n        }\n\n        break;\n\n      case ACTION_NORTH_WEST:\n        if (aspectRatio) {\n          if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n          width = height * aspectRatio;\n          left += cropBoxData.width - width;\n        } else {\n          check(ACTION_NORTH);\n          check(ACTION_WEST);\n\n          if (range.x <= 0) {\n            if (left > minLeft) {\n              width -= range.x;\n              left += range.x;\n            } else if (range.y <= 0 && top <= minTop) {\n              renderable = false;\n            }\n          } else {\n            width -= range.x;\n            left += range.x;\n          }\n\n          if (range.y <= 0) {\n            if (top > minTop) {\n              height -= range.y;\n              top += range.y;\n            }\n          } else {\n            height -= range.y;\n            top += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_SOUTH_EAST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_NORTH_EAST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_SOUTH_WEST;\n          height = -height;\n          top -= height;\n        }\n\n        break;\n\n      case ACTION_SOUTH_WEST:\n        if (aspectRatio) {\n          if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n          height = width / aspectRatio;\n        } else {\n          check(ACTION_SOUTH);\n          check(ACTION_WEST);\n\n          if (range.x <= 0) {\n            if (left > minLeft) {\n              width -= range.x;\n              left += range.x;\n            } else if (range.y >= 0 && bottom >= maxHeight) {\n              renderable = false;\n            }\n          } else {\n            width -= range.x;\n            left += range.x;\n          }\n\n          if (range.y >= 0) {\n            if (bottom < maxHeight) {\n              height += range.y;\n            }\n          } else {\n            height += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_NORTH_EAST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_SOUTH_EAST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_NORTH_WEST;\n          height = -height;\n          top -= height;\n        }\n\n        break;\n\n      case ACTION_SOUTH_EAST:\n        if (aspectRatio) {\n          if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_EAST);\n          width += range.x;\n          height = width / aspectRatio;\n        } else {\n          check(ACTION_SOUTH);\n          check(ACTION_EAST);\n\n          if (range.x >= 0) {\n            if (right < maxWidth) {\n              width += range.x;\n            } else if (range.y >= 0 && bottom >= maxHeight) {\n              renderable = false;\n            }\n          } else {\n            width += range.x;\n          }\n\n          if (range.y >= 0) {\n            if (bottom < maxHeight) {\n              height += range.y;\n            }\n          } else {\n            height += range.y;\n          }\n        }\n\n        if (width < 0 && height < 0) {\n          action = ACTION_NORTH_WEST;\n          height = -height;\n          width = -width;\n          top -= height;\n          left -= width;\n        } else if (width < 0) {\n          action = ACTION_SOUTH_WEST;\n          width = -width;\n          left -= width;\n        } else if (height < 0) {\n          action = ACTION_NORTH_EAST;\n          height = -height;\n          top -= height;\n        }\n\n        break;\n      // Move canvas\n\n      case ACTION_MOVE:\n        this.move(range.x, range.y);\n        renderable = false;\n        break;\n      // Zoom canvas\n\n      case ACTION_ZOOM:\n        this.zoom(getMaxZoomRatio(pointers), event);\n        renderable = false;\n        break;\n      // Create crop box\n\n      case ACTION_CROP:\n        if (!range.x || !range.y) {\n          renderable = false;\n          break;\n        }\n\n        offset = getOffset(this.cropper);\n        left = pointer.startX - offset.left;\n        top = pointer.startY - offset.top;\n        width = cropBoxData.minWidth;\n        height = cropBoxData.minHeight;\n\n        if (range.x > 0) {\n          action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n        } else if (range.x < 0) {\n          left -= width;\n          action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n        }\n\n        if (range.y < 0) {\n          top -= height;\n        } // Show the crop box if is hidden\n\n\n        if (!this.cropped) {\n          removeClass(this.cropBox, CLASS_HIDDEN);\n          this.cropped = true;\n\n          if (this.limited) {\n            this.limitCropBox(true, true);\n          }\n        }\n\n        break;\n    }\n\n    if (renderable) {\n      cropBoxData.width = width;\n      cropBoxData.height = height;\n      cropBoxData.left = left;\n      cropBoxData.top = top;\n      this.action = action;\n      this.renderCropBox();\n    } // Override\n\n\n    forEach(pointers, function (p) {\n      p.startX = p.endX;\n      p.startY = p.endY;\n    });\n  }\n};\n\nvar methods = {\n  // Show the crop box manually\n  crop: function crop() {\n    if (this.ready && !this.cropped && !this.disabled) {\n      this.cropped = true;\n      this.limitCropBox(true, true);\n\n      if (this.options.modal) {\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n\n      removeClass(this.cropBox, CLASS_HIDDEN);\n      this.setCropBoxData(this.initialCropBoxData);\n    }\n\n    return this;\n  },\n  // Reset the image and crop box to their initial states\n  reset: function reset() {\n    if (this.ready && !this.disabled) {\n      this.imageData = assign({}, this.initialImageData);\n      this.canvasData = assign({}, this.initialCanvasData);\n      this.cropBoxData = assign({}, this.initialCropBoxData);\n      this.renderCanvas();\n\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    }\n\n    return this;\n  },\n  // Clear the crop box\n  clear: function clear() {\n    if (this.cropped && !this.disabled) {\n      assign(this.cropBoxData, {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0\n      });\n      this.cropped = false;\n      this.renderCropBox();\n      this.limitCanvas(true, true); // Render canvas after crop box rendered\n\n      this.renderCanvas();\n      removeClass(this.dragBox, CLASS_MODAL);\n      addClass(this.cropBox, CLASS_HIDDEN);\n    }\n\n    return this;\n  },\n\n  /**\n   * Replace the image's src and rebuild the cropper\n   * @param {string} url - The new URL.\n   * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n   * @returns {Cropper} this\n   */\n  replace: function replace(url) {\n    var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (!this.disabled && url) {\n      if (this.isImg) {\n        this.element.src = url;\n      }\n\n      if (hasSameSize) {\n        this.url = url;\n        this.image.src = url;\n\n        if (this.ready) {\n          this.viewBoxImage.src = url;\n          forEach(this.previews, function (element) {\n            element.getElementsByTagName('img')[0].src = url;\n          });\n        }\n      } else {\n        if (this.isImg) {\n          this.replaced = true;\n        }\n\n        this.options.data = null;\n        this.uncreate();\n        this.load(url);\n      }\n    }\n\n    return this;\n  },\n  // Enable (unfreeze) the cropper\n  enable: function enable() {\n    if (this.ready && this.disabled) {\n      this.disabled = false;\n      removeClass(this.cropper, CLASS_DISABLED);\n    }\n\n    return this;\n  },\n  // Disable (freeze) the cropper\n  disable: function disable() {\n    if (this.ready && !this.disabled) {\n      this.disabled = true;\n      addClass(this.cropper, CLASS_DISABLED);\n    }\n\n    return this;\n  },\n\n  /**\n   * Destroy the cropper and remove the instance from the image\n   * @returns {Cropper} this\n   */\n  destroy: function destroy() {\n    var element = this.element;\n\n    if (!element[NAMESPACE]) {\n      return this;\n    }\n\n    element[NAMESPACE] = undefined;\n\n    if (this.isImg && this.replaced) {\n      element.src = this.originalUrl;\n    }\n\n    this.uncreate();\n    return this;\n  },\n\n  /**\n   * Move the canvas with relative offsets\n   * @param {number} offsetX - The relative offset distance on the x-axis.\n   * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n   * @returns {Cropper} this\n   */\n  move: function move(offsetX) {\n    var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n    var _this$canvasData = this.canvasData,\n        left = _this$canvasData.left,\n        top = _this$canvasData.top;\n    return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n  },\n\n  /**\n   * Move the canvas to an absolute point\n   * @param {number} x - The x-axis coordinate.\n   * @param {number} [y=x] - The y-axis coordinate.\n   * @returns {Cropper} this\n   */\n  moveTo: function moveTo(x) {\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n    var canvasData = this.canvasData;\n    var changed = false;\n    x = Number(x);\n    y = Number(y);\n\n    if (this.ready && !this.disabled && this.options.movable) {\n      if (isNumber(x)) {\n        canvasData.left = x;\n        changed = true;\n      }\n\n      if (isNumber(y)) {\n        canvasData.top = y;\n        changed = true;\n      }\n\n      if (changed) {\n        this.renderCanvas(true);\n      }\n    }\n\n    return this;\n  },\n\n  /**\n   * Zoom the canvas with a relative ratio\n   * @param {number} ratio - The target ratio.\n   * @param {Event} _originalEvent - The original event if any.\n   * @returns {Cropper} this\n   */\n  zoom: function zoom(ratio, _originalEvent) {\n    var canvasData = this.canvasData;\n    ratio = Number(ratio);\n\n    if (ratio < 0) {\n      ratio = 1 / (1 - ratio);\n    } else {\n      ratio = 1 + ratio;\n    }\n\n    return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n  },\n\n  /**\n   * Zoom the canvas to an absolute ratio\n   * @param {number} ratio - The target ratio.\n   * @param {Object} pivot - The zoom pivot point coordinate.\n   * @param {Event} _originalEvent - The original event if any.\n   * @returns {Cropper} this\n   */\n  zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n    var options = this.options,\n        canvasData = this.canvasData;\n    var width = canvasData.width,\n        height = canvasData.height,\n        naturalWidth = canvasData.naturalWidth,\n        naturalHeight = canvasData.naturalHeight;\n    ratio = Number(ratio);\n\n    if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n      var newWidth = naturalWidth * ratio;\n      var newHeight = naturalHeight * ratio;\n\n      if (dispatchEvent(this.element, EVENT_ZOOM, {\n        ratio: ratio,\n        oldRatio: width / naturalWidth,\n        originalEvent: _originalEvent\n      }) === false) {\n        return this;\n      }\n\n      if (_originalEvent) {\n        var pointers = this.pointers;\n        var offset = getOffset(this.cropper);\n        var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n          pageX: _originalEvent.pageX,\n          pageY: _originalEvent.pageY\n        }; // Zoom from the triggering point of the event\n\n        canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n        canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n      } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n        canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n        canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n      } else {\n        // Zoom from the center of the canvas\n        canvasData.left -= (newWidth - width) / 2;\n        canvasData.top -= (newHeight - height) / 2;\n      }\n\n      canvasData.width = newWidth;\n      canvasData.height = newHeight;\n      this.renderCanvas(true);\n    }\n\n    return this;\n  },\n\n  /**\n   * Rotate the canvas with a relative degree\n   * @param {number} degree - The rotate degree.\n   * @returns {Cropper} this\n   */\n  rotate: function rotate(degree) {\n    return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n  },\n\n  /**\n   * Rotate the canvas to an absolute degree\n   * @param {number} degree - The rotate degree.\n   * @returns {Cropper} this\n   */\n  rotateTo: function rotateTo(degree) {\n    degree = Number(degree);\n\n    if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n      this.imageData.rotate = degree % 360;\n      this.renderCanvas(true, true);\n    }\n\n    return this;\n  },\n\n  /**\n   * Scale the image on the x-axis.\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @returns {Cropper} this\n   */\n  scaleX: function scaleX(_scaleX) {\n    var scaleY = this.imageData.scaleY;\n    return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n  },\n\n  /**\n   * Scale the image on the y-axis.\n   * @param {number} scaleY - The scale ratio on the y-axis.\n   * @returns {Cropper} this\n   */\n  scaleY: function scaleY(_scaleY) {\n    var scaleX = this.imageData.scaleX;\n    return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n  },\n\n  /**\n   * Scale the image\n   * @param {number} scaleX - The scale ratio on the x-axis.\n   * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n   * @returns {Cropper} this\n   */\n  scale: function scale(scaleX) {\n    var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n    var imageData = this.imageData;\n    var transformed = false;\n    scaleX = Number(scaleX);\n    scaleY = Number(scaleY);\n\n    if (this.ready && !this.disabled && this.options.scalable) {\n      if (isNumber(scaleX)) {\n        imageData.scaleX = scaleX;\n        transformed = true;\n      }\n\n      if (isNumber(scaleY)) {\n        imageData.scaleY = scaleY;\n        transformed = true;\n      }\n\n      if (transformed) {\n        this.renderCanvas(true, true);\n      }\n    }\n\n    return this;\n  },\n\n  /**\n   * Get the cropped area position and size data (base on the original image)\n   * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n   * @returns {Object} The result cropped data.\n   */\n  getData: function getData() {\n    var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData,\n        cropBoxData = this.cropBoxData;\n    var data;\n\n    if (this.ready && this.cropped) {\n      data = {\n        x: cropBoxData.left - canvasData.left,\n        y: cropBoxData.top - canvasData.top,\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      };\n      var ratio = imageData.width / imageData.naturalWidth;\n      forEach(data, function (n, i) {\n        data[i] = n / ratio;\n      });\n\n      if (rounded) {\n        // In case rounding off leads to extra 1px in right or bottom border\n        // we should round the top-left corner and the dimension (#343).\n        var bottom = Math.round(data.y + data.height);\n        var right = Math.round(data.x + data.width);\n        data.x = Math.round(data.x);\n        data.y = Math.round(data.y);\n        data.width = right - data.x;\n        data.height = bottom - data.y;\n      }\n    } else {\n      data = {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n    }\n\n    if (options.rotatable) {\n      data.rotate = imageData.rotate || 0;\n    }\n\n    if (options.scalable) {\n      data.scaleX = imageData.scaleX || 1;\n      data.scaleY = imageData.scaleY || 1;\n    }\n\n    return data;\n  },\n\n  /**\n   * Set the cropped area position and size with new data\n   * @param {Object} data - The new data.\n   * @returns {Cropper} this\n   */\n  setData: function setData(data) {\n    var options = this.options,\n        imageData = this.imageData,\n        canvasData = this.canvasData;\n    var cropBoxData = {};\n\n    if (this.ready && !this.disabled && isPlainObject(data)) {\n      var transformed = false;\n\n      if (options.rotatable) {\n        if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n          imageData.rotate = data.rotate;\n          transformed = true;\n        }\n      }\n\n      if (options.scalable) {\n        if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n          imageData.scaleX = data.scaleX;\n          transformed = true;\n        }\n\n        if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n          imageData.scaleY = data.scaleY;\n          transformed = true;\n        }\n      }\n\n      if (transformed) {\n        this.renderCanvas(true, true);\n      }\n\n      var ratio = imageData.width / imageData.naturalWidth;\n\n      if (isNumber(data.x)) {\n        cropBoxData.left = data.x * ratio + canvasData.left;\n      }\n\n      if (isNumber(data.y)) {\n        cropBoxData.top = data.y * ratio + canvasData.top;\n      }\n\n      if (isNumber(data.width)) {\n        cropBoxData.width = data.width * ratio;\n      }\n\n      if (isNumber(data.height)) {\n        cropBoxData.height = data.height * ratio;\n      }\n\n      this.setCropBoxData(cropBoxData);\n    }\n\n    return this;\n  },\n\n  /**\n   * Get the container size data.\n   * @returns {Object} The result container data.\n   */\n  getContainerData: function getContainerData() {\n    return this.ready ? assign({}, this.containerData) : {};\n  },\n\n  /**\n   * Get the image position and size data.\n   * @returns {Object} The result image data.\n   */\n  getImageData: function getImageData() {\n    return this.sized ? assign({}, this.imageData) : {};\n  },\n\n  /**\n   * Get the canvas position and size data.\n   * @returns {Object} The result canvas data.\n   */\n  getCanvasData: function getCanvasData() {\n    var canvasData = this.canvasData;\n    var data = {};\n\n    if (this.ready) {\n      forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n        data[n] = canvasData[n];\n      });\n    }\n\n    return data;\n  },\n\n  /**\n   * Set the canvas position and size with new data.\n   * @param {Object} data - The new canvas data.\n   * @returns {Cropper} this\n   */\n  setCanvasData: function setCanvasData(data) {\n    var canvasData = this.canvasData;\n    var aspectRatio = canvasData.aspectRatio;\n\n    if (this.ready && !this.disabled && isPlainObject(data)) {\n      if (isNumber(data.left)) {\n        canvasData.left = data.left;\n      }\n\n      if (isNumber(data.top)) {\n        canvasData.top = data.top;\n      }\n\n      if (isNumber(data.width)) {\n        canvasData.width = data.width;\n        canvasData.height = data.width / aspectRatio;\n      } else if (isNumber(data.height)) {\n        canvasData.height = data.height;\n        canvasData.width = data.height * aspectRatio;\n      }\n\n      this.renderCanvas(true);\n    }\n\n    return this;\n  },\n\n  /**\n   * Get the crop box position and size data.\n   * @returns {Object} The result crop box data.\n   */\n  getCropBoxData: function getCropBoxData() {\n    var cropBoxData = this.cropBoxData;\n    var data;\n\n    if (this.ready && this.cropped) {\n      data = {\n        left: cropBoxData.left,\n        top: cropBoxData.top,\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      };\n    }\n\n    return data || {};\n  },\n\n  /**\n   * Set the crop box position and size with new data.\n   * @param {Object} data - The new crop box data.\n   * @returns {Cropper} this\n   */\n  setCropBoxData: function setCropBoxData(data) {\n    var cropBoxData = this.cropBoxData;\n    var aspectRatio = this.options.aspectRatio;\n    var widthChanged;\n    var heightChanged;\n\n    if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n      if (isNumber(data.left)) {\n        cropBoxData.left = data.left;\n      }\n\n      if (isNumber(data.top)) {\n        cropBoxData.top = data.top;\n      }\n\n      if (isNumber(data.width) && data.width !== cropBoxData.width) {\n        widthChanged = true;\n        cropBoxData.width = data.width;\n      }\n\n      if (isNumber(data.height) && data.height !== cropBoxData.height) {\n        heightChanged = true;\n        cropBoxData.height = data.height;\n      }\n\n      if (aspectRatio) {\n        if (widthChanged) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else if (heightChanged) {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n\n      this.renderCropBox();\n    }\n\n    return this;\n  },\n\n  /**\n   * Get a canvas drawn the cropped image.\n   * @param {Object} [options={}] - The config options.\n   * @returns {HTMLCanvasElement} - The result canvas.\n   */\n  getCroppedCanvas: function getCroppedCanvas() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.ready || !window.HTMLCanvasElement) {\n      return null;\n    }\n\n    var canvasData = this.canvasData;\n    var source = getSourceCanvas(this.image, this.imageData, canvasData, options); // Returns the source canvas if it is not cropped.\n\n    if (!this.cropped) {\n      return source;\n    }\n\n    var _this$getData = this.getData(),\n        initialX = _this$getData.x,\n        initialY = _this$getData.y,\n        initialWidth = _this$getData.width,\n        initialHeight = _this$getData.height;\n\n    var ratio = source.width / Math.floor(canvasData.naturalWidth);\n\n    if (ratio !== 1) {\n      initialX *= ratio;\n      initialY *= ratio;\n      initialWidth *= ratio;\n      initialHeight *= ratio;\n    }\n\n    var aspectRatio = initialWidth / initialHeight;\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.maxWidth || Infinity,\n      height: options.maxHeight || Infinity\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.minWidth || 0,\n      height: options.minHeight || 0\n    }, 'cover');\n\n    var _getAdjustedSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: options.width || (ratio !== 1 ? source.width : initialWidth),\n      height: options.height || (ratio !== 1 ? source.height : initialHeight)\n    }),\n        width = _getAdjustedSizes.width,\n        height = _getAdjustedSizes.height;\n\n    width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n    height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n    context.fillStyle = options.fillColor || 'transparent';\n    context.fillRect(0, 0, width, height);\n    var _options$imageSmoothi = options.imageSmoothingEnabled,\n        imageSmoothingEnabled = _options$imageSmoothi === void 0 ? true : _options$imageSmoothi,\n        imageSmoothingQuality = options.imageSmoothingQuality;\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n\n    if (imageSmoothingQuality) {\n      context.imageSmoothingQuality = imageSmoothingQuality;\n    } // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n\n\n    var sourceWidth = source.width;\n    var sourceHeight = source.height; // Source canvas parameters\n\n    var srcX = initialX;\n    var srcY = initialY;\n    var srcWidth;\n    var srcHeight; // Destination canvas parameters\n\n    var dstX;\n    var dstY;\n    var dstWidth;\n    var dstHeight;\n\n    if (srcX <= -initialWidth || srcX > sourceWidth) {\n      srcX = 0;\n      srcWidth = 0;\n      dstX = 0;\n      dstWidth = 0;\n    } else if (srcX <= 0) {\n      dstX = -srcX;\n      srcX = 0;\n      srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n      dstWidth = srcWidth;\n    } else if (srcX <= sourceWidth) {\n      dstX = 0;\n      srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n      dstWidth = srcWidth;\n    }\n\n    if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n      srcY = 0;\n      srcHeight = 0;\n      dstY = 0;\n      dstHeight = 0;\n    } else if (srcY <= 0) {\n      dstY = -srcY;\n      srcY = 0;\n      srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n      dstHeight = srcHeight;\n    } else if (srcY <= sourceHeight) {\n      dstY = 0;\n      srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n      dstHeight = srcHeight;\n    }\n\n    var params = [srcX, srcY, srcWidth, srcHeight]; // Avoid \"IndexSizeError\"\n\n    if (dstWidth > 0 && dstHeight > 0) {\n      var scale = width / initialWidth;\n      params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n    } // All the numerical parameters should be integer for `drawImage`\n    // https://github.com/fengyuanchen/cropper/issues/476\n\n\n    context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n    return canvas;\n  },\n\n  /**\n   * Change the aspect ratio of the crop box.\n   * @param {number} aspectRatio - The new aspect ratio.\n   * @returns {Cropper} this\n   */\n  setAspectRatio: function setAspectRatio(aspectRatio) {\n    var options = this.options;\n\n    if (!this.disabled && !isUndefined(aspectRatio)) {\n      // 0 -> NaN\n      options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n\n      if (this.ready) {\n        this.initCropBox();\n\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n    }\n\n    return this;\n  },\n\n  /**\n   * Change the drag mode.\n   * @param {string} mode - The new drag mode.\n   * @returns {Cropper} this\n   */\n  setDragMode: function setDragMode(mode) {\n    var options = this.options,\n        dragBox = this.dragBox,\n        face = this.face;\n\n    if (this.ready && !this.disabled) {\n      var croppable = mode === DRAG_MODE_CROP;\n      var movable = options.movable && mode === DRAG_MODE_MOVE;\n      mode = croppable || movable ? mode : DRAG_MODE_NONE;\n      options.dragMode = mode;\n      setData(dragBox, DATA_ACTION, mode);\n      toggleClass(dragBox, CLASS_CROP, croppable);\n      toggleClass(dragBox, CLASS_MOVE, movable);\n\n      if (!options.cropBoxMovable) {\n        // Sync drag mode to crop box when it is not movable\n        setData(face, DATA_ACTION, mode);\n        toggleClass(face, CLASS_CROP, croppable);\n        toggleClass(face, CLASS_MOVE, movable);\n      }\n    }\n\n    return this;\n  }\n};\n\nvar AnotherCropper = WINDOW.Cropper;\n\nvar Cropper = /*#__PURE__*/function () {\n  /**\n   * Create a new Cropper.\n   * @param {Element} element - The target element for cropping.\n   * @param {Object} [options={}] - The configuration options.\n   */\n  function Cropper(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Cropper);\n\n    if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n      throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n    }\n\n    this.element = element;\n    this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n    this.cropped = false;\n    this.disabled = false;\n    this.pointers = {};\n    this.ready = false;\n    this.reloading = false;\n    this.replaced = false;\n    this.sized = false;\n    this.sizing = false;\n    this.init();\n  }\n\n  _createClass(Cropper, [{\n    key: \"init\",\n    value: function init() {\n      var element = this.element;\n      var tagName = element.tagName.toLowerCase();\n      var url;\n\n      if (element[NAMESPACE]) {\n        return;\n      }\n\n      element[NAMESPACE] = this;\n\n      if (tagName === 'img') {\n        this.isImg = true; // e.g.: \"img/picture.jpg\"\n\n        url = element.getAttribute('src') || '';\n        this.originalUrl = url; // Stop when it's a blank image\n\n        if (!url) {\n          return;\n        } // e.g.: \"https://example.com/img/picture.jpg\"\n\n\n        url = element.src;\n      } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n        url = element.toDataURL();\n      }\n\n      this.load(url);\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this = this;\n\n      if (!url) {\n        return;\n      }\n\n      this.url = url;\n      this.imageData = {};\n      var element = this.element,\n          options = this.options;\n\n      if (!options.rotatable && !options.scalable) {\n        options.checkOrientation = false;\n      } // Only IE10+ supports Typed Arrays\n\n\n      if (!options.checkOrientation || !window.ArrayBuffer) {\n        this.clone();\n        return;\n      } // Detect the mime type of the image directly if it is a Data URL\n\n\n      if (REGEXP_DATA_URL.test(url)) {\n        // Read ArrayBuffer from Data URL of JPEG images directly for better performance\n        if (REGEXP_DATA_URL_JPEG.test(url)) {\n          this.read(dataURLToArrayBuffer(url));\n        } else {\n          // Only a JPEG image may contains Exif Orientation information,\n          // the rest types of Data URLs are not necessary to check orientation at all.\n          this.clone();\n        }\n\n        return;\n      } // 1. Detect the mime type of the image by a XMLHttpRequest.\n      // 2. Load the image as ArrayBuffer for reading orientation if its a JPEG image.\n\n\n      var xhr = new XMLHttpRequest();\n      var clone = this.clone.bind(this);\n      this.reloading = true;\n      this.xhr = xhr; // 1. Cross origin requests are only supported for protocol schemes:\n      // http, https, data, chrome, chrome-extension.\n      // 2. Access to XMLHttpRequest from a Data URL will be blocked by CORS policy\n      // in some browsers as IE11 and Safari.\n\n      xhr.onabort = clone;\n      xhr.onerror = clone;\n      xhr.ontimeout = clone;\n\n      xhr.onprogress = function () {\n        // Abort the request directly if it not a JPEG image for better performance\n        if (xhr.getResponseHeader('content-type') !== MIME_TYPE_JPEG) {\n          xhr.abort();\n        }\n      };\n\n      xhr.onload = function () {\n        _this.read(xhr.response);\n      };\n\n      xhr.onloadend = function () {\n        _this.reloading = false;\n        _this.xhr = null;\n      }; // Bust cache when there is a \"crossOrigin\" property to avoid browser cache error\n\n\n      if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n        url = addTimestamp(url);\n      } // The third parameter is required for avoiding side-effect (#682)\n\n\n      xhr.open('GET', url, true);\n      xhr.responseType = 'arraybuffer';\n      xhr.withCredentials = element.crossOrigin === 'use-credentials';\n      xhr.send();\n    }\n  }, {\n    key: \"read\",\n    value: function read(arrayBuffer) {\n      var options = this.options,\n          imageData = this.imageData; // Reset the orientation value to its default value 1\n      // as some iOS browsers will render image with its orientation\n\n      var orientation = resetAndGetOrientation(arrayBuffer);\n      var rotate = 0;\n      var scaleX = 1;\n      var scaleY = 1;\n\n      if (orientation > 1) {\n        // Generate a new URL which has the default orientation value\n        this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG);\n\n        var _parseOrientation = parseOrientation(orientation);\n\n        rotate = _parseOrientation.rotate;\n        scaleX = _parseOrientation.scaleX;\n        scaleY = _parseOrientation.scaleY;\n      }\n\n      if (options.rotatable) {\n        imageData.rotate = rotate;\n      }\n\n      if (options.scalable) {\n        imageData.scaleX = scaleX;\n        imageData.scaleY = scaleY;\n      }\n\n      this.clone();\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var element = this.element,\n          url = this.url;\n      var crossOrigin = element.crossOrigin;\n      var crossOriginUrl = url;\n\n      if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n        if (!crossOrigin) {\n          crossOrigin = 'anonymous';\n        } // Bust cache when there is not a \"crossOrigin\" property (#519)\n\n\n        crossOriginUrl = addTimestamp(url);\n      }\n\n      this.crossOrigin = crossOrigin;\n      this.crossOriginUrl = crossOriginUrl;\n      var image = document.createElement('img');\n\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n\n      image.src = crossOriginUrl || url;\n      image.alt = element.alt || 'The image to crop';\n      this.image = image;\n      image.onload = this.start.bind(this);\n      image.onerror = this.stop.bind(this);\n      addClass(image, CLASS_HIDE);\n      element.parentNode.insertBefore(image, element.nextSibling);\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this2 = this;\n\n      var image = this.image;\n      image.onload = null;\n      image.onerror = null;\n      this.sizing = true; // Match all browsers that use WebKit as the layout engine in iOS devices,\n      // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n\n      var isIOSWebKit = WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent);\n\n      var done = function done(naturalWidth, naturalHeight) {\n        assign(_this2.imageData, {\n          naturalWidth: naturalWidth,\n          naturalHeight: naturalHeight,\n          aspectRatio: naturalWidth / naturalHeight\n        });\n        _this2.initialImageData = assign({}, _this2.imageData);\n        _this2.sizing = false;\n        _this2.sized = true;\n\n        _this2.build();\n      }; // Most modern browsers (excepts iOS WebKit)\n\n\n      if (image.naturalWidth && !isIOSWebKit) {\n        done(image.naturalWidth, image.naturalHeight);\n        return;\n      }\n\n      var sizingImage = document.createElement('img');\n      var body = document.body || document.documentElement;\n      this.sizingImage = sizingImage;\n\n      sizingImage.onload = function () {\n        done(sizingImage.width, sizingImage.height);\n\n        if (!isIOSWebKit) {\n          body.removeChild(sizingImage);\n        }\n      };\n\n      sizingImage.src = image.src; // iOS WebKit will convert the image automatically\n      // with its orientation once append it into DOM (#279)\n\n      if (!isIOSWebKit) {\n        sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n        body.appendChild(sizingImage);\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var image = this.image;\n      image.onload = null;\n      image.onerror = null;\n      image.parentNode.removeChild(image);\n      this.image = null;\n    }\n  }, {\n    key: \"build\",\n    value: function build() {\n      if (!this.sized || this.ready) {\n        return;\n      }\n\n      var element = this.element,\n          options = this.options,\n          image = this.image; // Create cropper elements\n\n      var container = element.parentNode;\n      var template = document.createElement('div');\n      template.innerHTML = TEMPLATE;\n      var cropper = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n      var canvas = cropper.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n      var dragBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-drag-box\"));\n      var cropBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-crop-box\"));\n      var face = cropBox.querySelector(\".\".concat(NAMESPACE, \"-face\"));\n      this.container = container;\n      this.cropper = cropper;\n      this.canvas = canvas;\n      this.dragBox = dragBox;\n      this.cropBox = cropBox;\n      this.viewBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-view-box\"));\n      this.face = face;\n      canvas.appendChild(image); // Hide the original image\n\n      addClass(element, CLASS_HIDDEN); // Inserts the cropper after to the current image\n\n      container.insertBefore(cropper, element.nextSibling); // Show the image if is hidden\n\n      if (!this.isImg) {\n        removeClass(image, CLASS_HIDE);\n      }\n\n      this.initPreview();\n      this.bind();\n      options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n      options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n      options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n      addClass(cropBox, CLASS_HIDDEN);\n\n      if (!options.guides) {\n        addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-dashed\")), CLASS_HIDDEN);\n      }\n\n      if (!options.center) {\n        addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-center\")), CLASS_HIDDEN);\n      }\n\n      if (options.background) {\n        addClass(cropper, \"\".concat(NAMESPACE, \"-bg\"));\n      }\n\n      if (!options.highlight) {\n        addClass(face, CLASS_INVISIBLE);\n      }\n\n      if (options.cropBoxMovable) {\n        addClass(face, CLASS_MOVE);\n        setData(face, DATA_ACTION, ACTION_ALL);\n      }\n\n      if (!options.cropBoxResizable) {\n        addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-line\")), CLASS_HIDDEN);\n        addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-point\")), CLASS_HIDDEN);\n      }\n\n      this.render();\n      this.ready = true;\n      this.setDragMode(options.dragMode);\n\n      if (options.autoCrop) {\n        this.crop();\n      }\n\n      this.setData(options.data);\n\n      if (isFunction(options.ready)) {\n        addListener(element, EVENT_READY, options.ready, {\n          once: true\n        });\n      }\n\n      dispatchEvent(element, EVENT_READY);\n    }\n  }, {\n    key: \"unbuild\",\n    value: function unbuild() {\n      if (!this.ready) {\n        return;\n      }\n\n      this.ready = false;\n      this.unbind();\n      this.resetPreview();\n      this.cropper.parentNode.removeChild(this.cropper);\n      removeClass(this.element, CLASS_HIDDEN);\n    }\n  }, {\n    key: \"uncreate\",\n    value: function uncreate() {\n      if (this.ready) {\n        this.unbuild();\n        this.ready = false;\n        this.cropped = false;\n      } else if (this.sizing) {\n        this.sizingImage.onload = null;\n        this.sizing = false;\n        this.sized = false;\n      } else if (this.reloading) {\n        this.xhr.onabort = null;\n        this.xhr.abort();\n      } else if (this.image) {\n        this.stop();\n      }\n    }\n    /**\n     * Get the no conflict cropper class.\n     * @returns {Cropper} The cropper class.\n     */\n\n  }], [{\n    key: \"noConflict\",\n    value: function noConflict() {\n      window.Cropper = AnotherCropper;\n      return Cropper;\n    }\n    /**\n     * Change the default options.\n     * @param {Object} options - The new default options.\n     */\n\n  }, {\n    key: \"setDefaults\",\n    value: function setDefaults(options) {\n      assign(DEFAULTS, isPlainObject(options) && options);\n    }\n  }]);\n\n  return Cropper;\n}();\n\nassign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\nexport default Cropper;\n","// This ensures that the '$' and jQuery aliases are set before other modules\r\n// use them.\r\n\r\nimport jQuery from 'jquery';\r\n\r\nwindow.$ = jQuery;\r\nwindow.jQuery = jQuery;\r\n\r\nimport loadImage from 'blueimp-load-image';\r\nwindow.loadImage = loadImage;\r\n\r\nimport Sortable from 'sortablejs';\r\nwindow.Sortable = Sortable;\r\n\r\nimport Cropper from 'cropperjs';\r\nwindow.Cropper = Cropper\r\n","!function(t){\"use strict\";\"function\"==typeof define&&define.amd?define([\"./blueimp-helper\"],t):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=t(window.blueimp.helper||window.jQuery))}(function(y){\"use strict\";function i(t,e){return document.body.style.maxHeight===undefined?null:this&&this.options===i.prototype.options?void(t&&t.length?(this.list=t,this.num=t.length,this.initOptions(e),this.initialize()):this.console.log(\"blueimp Gallery: No or empty list provided as first argument.\",t)):new i(t,e)}return y.extend(i.prototype,{options:{container:\"#blueimp-gallery\",slidesContainer:\"div\",titleElement:\"h3\",displayClass:\"blueimp-gallery-display\",controlsClass:\"blueimp-gallery-controls\",singleClass:\"blueimp-gallery-single\",leftEdgeClass:\"blueimp-gallery-left\",rightEdgeClass:\"blueimp-gallery-right\",playingClass:\"blueimp-gallery-playing\",svgasimgClass:\"blueimp-gallery-svgasimg\",smilClass:\"blueimp-gallery-smil\",slideClass:\"slide\",slideActiveClass:\"slide-active\",slidePrevClass:\"slide-prev\",slideNextClass:\"slide-next\",slideLoadingClass:\"slide-loading\",slideErrorClass:\"slide-error\",slideContentClass:\"slide-content\",toggleClass:\"toggle\",prevClass:\"prev\",nextClass:\"next\",closeClass:\"close\",playPauseClass:\"play-pause\",typeProperty:\"type\",titleProperty:\"title\",altTextProperty:\"alt\",urlProperty:\"href\",srcsetProperty:\"srcset\",sizesProperty:\"sizes\",sourcesProperty:\"sources\",displayTransition:!0,clearSlides:!0,toggleControlsOnEnter:!0,toggleControlsOnSlideClick:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,closeOnHashChange:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,slideshowDirection:\"ltr\",index:0,preloadRange:2,transitionDuration:300,slideshowTransitionDuration:500,event:undefined,onopen:undefined,onopened:undefined,onslide:undefined,onslideend:undefined,onslidecomplete:undefined,onclose:undefined,onclosed:undefined},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnEnter:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,closeOnHashChange:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&\"function\"==typeof window.console.log?window.console:{log:function(){}},support:function(s){var t,n={source:!!window.HTMLSourceElement,picture:!!window.HTMLPictureElement,svgasimg:document.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#Image\",\"1.1\"),smil:!!document.createElementNS&&/SVGAnimate/.test(document.createElementNS(\"http://www.w3.org/2000/svg\",\"animate\").toString()),touch:window.ontouchstart!==undefined||window.DocumentTouch&&document instanceof DocumentTouch},e={webkitTransition:{end:\"webkitTransitionEnd\",prefix:\"-webkit-\"},MozTransition:{end:\"transitionend\",prefix:\"-moz-\"},OTransition:{end:\"otransitionend\",prefix:\"-o-\"},transition:{end:\"transitionend\",prefix:\"\"}};for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&s.style[t]!==undefined){n.transition=e[t],n.transition.name=t;break}function i(){var t,e,i=n.transition;document.body.appendChild(s),i&&(t=i.name.slice(0,-9)+\"ransform\",s.style[t]!==undefined&&(s.style[t]=\"translateZ(0)\",e=window.getComputedStyle(s).getPropertyValue(i.prefix+\"transform\"),n.transform={prefix:i.prefix,name:t,translate:!0,translateZ:!!e&&\"none\"!==e})),document.body.removeChild(s)}return document.body?i():y(document).on(\"DOMContentLoaded\",i),n}(document.createElement(\"div\")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,cancelAnimationFrame:window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame,initialize:function(){if(this.initStartIndex(),!1===this.initWidget())return!1;this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),this.options.startSlideshow&&this.play()},slide:function(t,e){window.clearTimeout(this.timeout);var i,s,n,o=this.index;if(o!==t&&1!==this.num){if(e=e||this.options.transitionDuration,this.support.transform){for(this.options.continuous||(t=this.circle(t)),i=Math.abs(o-t)/(o-t),this.options.continuous&&(s=i,(i=-this.positions[this.circle(t)]/this.slideWidth)!==s&&(t=-i*this.num+t)),n=Math.abs(o-t)-1;n;)--n,this.move(this.circle((o<t?t:o)-n-1),this.slideWidth*i,0);t=this.circle(t),this.move(o,this.slideWidth*i,e),this.move(t,0,e),this.options.continuous&&this.move(this.circle(t-i),-this.slideWidth*i,0)}else t=this.circle(t),this.animate(o*-this.slideWidth,t*-this.slideWidth,e);this.onslide(t)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(t){var i=this,e=this.index+(\"rtl\"===this.options.slideshowDirection?-1:1);window.clearTimeout(this.timeout),this.interval=t||this.options.slideshowInterval,1<this.elements[this.index]&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(t,e){i.animationFrameId=i.requestAnimationFrame.call(window,function(){i.slide(t,e)})},[e,this.options.slideshowTransitionDuration],this.interval)),this.container.addClass(this.options.playingClass),this.slidesContainer[0].setAttribute(\"aria-live\",\"off\"),this.playPauseElement.length&&this.playPauseElement[0].setAttribute(\"aria-pressed\",\"true\")},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.cancelAnimationFrame&&(this.cancelAnimationFrame.call(window,this.animationFrameId),this.animationFrameId=null),this.container.removeClass(this.options.playingClass),this.slidesContainer[0].setAttribute(\"aria-live\",\"polite\"),this.playPauseElement.length&&this.playPauseElement[0].setAttribute(\"aria-pressed\",\"false\")},add:function(t){var e;for(t.concat||(t=Array.prototype.slice.call(t)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(t),this.num=this.list.length,2<this.num&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),e=this.num-t.length;e<this.num;e+=1)this.addSlide(e),this.positionSlide(e);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.unloadAllSlides(),this.slides=[]},handleClose:function(){var t=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display=\"none\",this.container.removeClass(t.displayClass).removeClass(t.singleClass).removeClass(t.leftEdgeClass).removeClass(t.rightEdgeClass),t.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var e=this;this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,function i(t){t.target===e.container[0]&&(e.container.off(e.support.transition.end,i),e.handleClose())}),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(t){return(this.num+t%this.num)%this.num},move:function(t,e,i){this.translateX(t,e,i),this.positions[t]=e},translate:function(t,e,i,s){var n,o,a;this.slides[t]&&(n=this.slides[t].style,o=this.support.transition,a=this.support.transform,n[o.name+\"Duration\"]=s+\"ms\",n[a.name]=\"translate(\"+e+\"px, \"+i+\"px)\"+(a.translateZ?\" translateZ(0)\":\"\"))},translateX:function(t,e,i){this.translate(t,e,0,i)},translateY:function(t,e,i){this.translate(t,0,e,i)},animate:function(e,i,s){var n,o,a;s?(n=this,o=(new Date).getTime(),a=window.setInterval(function(){var t=(new Date).getTime()-o;if(s<t)return n.slidesContainer[0].style.left=i+\"px\",n.ontransitionend(),void window.clearInterval(a);n.slidesContainer[0].style.left=(i-e)*(Math.floor(t/s*100)/100)+e+\"px\"},4)):this.slidesContainer[0].style.left=i+\"px\"},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onhashchange:function(){this.options.closeOnHashChange&&this.close()},onmousedown:function(t){t.which&&1===t.which&&\"VIDEO\"!==t.target.nodeName&&\"AUDIO\"!==t.target.nodeName&&(t.preventDefault(),(t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchstart(t))},onmousemove:function(t){this.touchStart&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchmove(t))},onmouseup:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},onmouseout:function(t){var e,i;this.touchStart&&(e=t.target,(i=t.relatedTarget)&&(i===e||y.contains(e,i))||this.onmouseup(t))},ontouchstart:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e=(t.originalEvent||t).touches[0];this.touchStart={x:e.pageX,y:e.pageY,time:Date.now()},this.isScrolling=undefined,this.touchDelta={}},ontouchmove:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e,i,s=(t.originalEvent||t).touches,n=s[0],o=(t.originalEvent||t).scale,a=this.index;if(!(1<s.length||o&&1!==o))if(this.options.disableScroll&&t.preventDefault(),this.touchDelta={x:n.pageX-this.touchStart.x,y:n.pageY-this.touchStart.y},e=this.touchDelta.x,this.isScrolling===undefined&&(this.isScrolling=this.isScrolling||Math.abs(e)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.carousel||this.translateY(a,this.touchDelta.y+this.positions[a],0);else for(t.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?i=[this.circle(a+1),a,this.circle(a-1)]:(this.touchDelta.x=e/=!a&&0<e||a===this.num-1&&e<0?Math.abs(e)/this.slideWidth+1:1,i=[a],a&&i.push(a-1),a<this.num-1&&i.unshift(a+1));i.length;)a=i.pop(),this.translateX(a,e+this.positions[a],0)},ontouchend:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e,i,s,n,o,a=this.index,l=Math.abs(this.touchDelta.x),r=this.slideWidth,h=Math.ceil(this.options.transitionDuration*(1-l/r)/2),d=20<l,c=!a&&0<this.touchDelta.x||a===this.num-1&&this.touchDelta.x<0,u=!d&&this.options.closeOnSwipeUpOrDown&&20<Math.abs(this.touchDelta.y);this.options.continuous&&(c=!1),e=this.touchDelta.x<0?-1:1,this.isScrolling?u?this.close():this.translateY(a,0,h):d&&!c?(i=a+e,s=a-e,n=r*e,o=-r*e,this.options.continuous?(this.move(this.circle(i),n,0),this.move(this.circle(a-2*e),o,0)):0<=i&&i<this.num&&this.move(i,n,0),this.move(a,this.positions[a]+n,h),this.move(this.circle(s),this.positions[this.circle(s)]+n,h),a=this.circle(s),this.onslide(a)):this.options.continuous?(this.move(this.circle(a-1),-r,h),this.move(a,0,h),this.move(this.circle(a+1),r,h)):(a&&this.move(a-1,-r,h),this.move(a,0,h),a<this.num-1&&this.move(a+1,r,h))},ontouchcancel:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},ontransitionend:function(t){var e=this.slides[this.index];t&&e!==t.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,e]))},oncomplete:function(t){var e,i=t.target||t.srcElement,s=i&&i.parentNode;i&&s&&(e=this.getNodeIndex(s),y(s).removeClass(this.options.slideLoadingClass),\"error\"===t.type?(y(s).addClass(this.options.slideErrorClass),this.elements[e]=3):this.elements[e]=2,i.clientHeight>this.container[0].clientHeight&&(i.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===s&&this.play(),this.setTimeout(this.options.onslidecomplete,[e,s]))},onload:function(t){this.oncomplete(t)},onerror:function(t){this.oncomplete(t)},onkeydown:function(t){switch(t.which||t.keyCode){case 13:this.options.toggleControlsOnEnter&&(this.preventDefault(t),this.toggleControls());break;case 27:this.options.closeOnEscape&&(this.close(),t.stopImmediatePropagation());break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(t),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.next())}},handleClick:function(t){var e=this.options,i=t.target||t.srcElement,s=i.parentNode;function n(t){return y(i).hasClass(t)||y(s).hasClass(t)}n(e.toggleClass)?(this.preventDefault(t),this.toggleControls()):n(e.prevClass)?(this.preventDefault(t),this.prev()):n(e.nextClass)?(this.preventDefault(t),this.next()):n(e.closeClass)?(this.preventDefault(t),this.close()):n(e.playPauseClass)?(this.preventDefault(t),this.toggleSlideshow()):s===this.slidesContainer[0]?e.closeOnSlideClick?(this.preventDefault(t),this.close()):e.toggleControlsOnSlideClick&&(this.preventDefault(t),this.toggleControls()):s.parentNode&&s.parentNode===this.slidesContainer[0]&&e.toggleControlsOnSlideClick&&(this.preventDefault(t),this.toggleControls())},onclick:function(t){if(!(this.options.emulateTouchEvents&&this.touchDelta&&(20<Math.abs(this.touchDelta.x)||20<Math.abs(this.touchDelta.y))))return this.handleClick(t);delete this.touchDelta},updateEdgeClasses:function(t){t?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),t===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},updateActiveSlide:function(t,e){for(var i,s,n=this.slides,o=this.options,a=[{index:e,method:\"addClass\",hidden:!1},{index:t,method:\"removeClass\",hidden:!0}];a.length;)i=a.pop(),y(n[i.index])[i.method](o.slideActiveClass),s=this.circle(i.index-1),(o.continuous||s<i.index)&&y(n[s])[i.method](o.slidePrevClass),s=this.circle(i.index+1),(o.continuous||s>i.index)&&y(n[s])[i.method](o.slideNextClass);this.slides[t].setAttribute(\"aria-hidden\",\"true\"),this.slides[e].removeAttribute(\"aria-hidden\")},handleSlide:function(t,e){this.options.continuous||this.updateEdgeClasses(e),this.updateActiveSlide(t,e),this.loadElements(e),this.options.unloadElements&&this.unloadElements(t,e),this.setTitle(e)},onslide:function(t){this.handleSlide(this.index,t),this.index=t,this.setTimeout(this.options.onslide,[t,this.slides[t]])},setTitle:function(t){var e=this.slides[t].firstChild,i=e.title||e.alt,s=this.titleElement;s.length&&(this.titleElement.empty(),i&&s[0].appendChild(document.createTextNode(i)))},setTimeout:function(t,e,i){var s=this;return t&&window.setTimeout(function(){t.apply(s,e||[])},i||0)},imageFactory:function(t,e){var i,s,n,o,a,l,r,h,d=this.options,c=this,u=t,p=this.imagePrototype.cloneNode(!1);if(\"string\"!=typeof u&&(u=this.getItemProperty(t,d.urlProperty),n=this.support.picture&&this.support.source&&this.getItemProperty(t,d.sourcesProperty),o=this.getItemProperty(t,d.srcsetProperty),a=this.getItemProperty(t,d.sizesProperty),l=this.getItemProperty(t,d.titleProperty),r=this.getItemProperty(t,d.altTextProperty)||l),p.draggable=!1,l&&(p.title=l),r&&(p.alt=r),y(p).on(\"load error\",function m(t){if(!s){if(!(t={type:t.type,target:i||p}).target.parentNode)return c.setTimeout(m,[t]);s=!0,y(p).off(\"load error\",m),e(t)}}),n&&n.length){for(i=this.picturePrototype.cloneNode(!1),h=0;h<n.length;h+=1)i.appendChild(y.extend(this.sourcePrototype.cloneNode(!1),n[h]));i.appendChild(p),y(i).addClass(d.toggleClass)}return o&&(a&&(p.sizes=a),p.srcset=o),p.src=u,i||p},createElement:function(t,e){var i=t&&this.getItemProperty(t,this.options.typeProperty),s=i&&this[i.split(\"/\")[0]+\"Factory\"]||this.imageFactory,n=t&&s.call(this,t,e);return n||(n=this.elementPrototype.cloneNode(!1),this.setTimeout(e,[{type:\"error\",target:n}])),y(n).addClass(this.options.slideContentClass),n},iteratePreloadRange:function(t,e){for(var i=this.num,s=this.options,n=Math.min(i,2*s.preloadRange+1),o=t,a=0;a<n;a+=1){if((o+=a*(a%2==0?-1:1))<0||i<=o){if(!s.continuous)continue;o=this.circle(o)}e.call(this,o)}},loadElement:function(t){this.elements[t]||(this.slides[t].firstChild?this.elements[t]=y(this.slides[t]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[t]=1,y(this.slides[t]).addClass(this.options.slideLoadingClass),this.slides[t].appendChild(this.createElement(this.list[t],this.proxyListener))))},loadElements:function(t){this.iteratePreloadRange(t,this.loadElement)},unloadElements:function(t,i){var s=this.options.preloadRange;this.iteratePreloadRange(t,function(t){var e=Math.abs(t-i);s<e&&e+s<this.num&&(this.unloadSlide(t),delete this.elements[t])})},addSlide:function(t){var e=this.slidePrototype.cloneNode(!1);e.setAttribute(\"data-index\",t),e.setAttribute(\"aria-hidden\",\"true\"),this.slidesContainer[0].appendChild(e),this.slides.push(e)},positionSlide:function(t){var e=this.slides[t];e.style.width=this.slideWidth+\"px\",this.support.transform&&(e.style.left=t*-this.slideWidth+\"px\",this.move(t,this.index>t?-this.slideWidth:this.index<t?this.slideWidth:0,0))},initSlides:function(t){var e,i;for(t||(this.positions=[],this.positions.length=this.num,this.elements={},this.picturePrototype=this.support.picture&&document.createElement(\"picture\"),this.sourcePrototype=this.support.source&&document.createElement(\"source\"),this.imagePrototype=document.createElement(\"img\"),this.elementPrototype=document.createElement(\"div\"),this.slidePrototype=this.elementPrototype.cloneNode(!1),y(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,e=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].clientWidth,this.slideHeight=this.container[0].clientHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+\"px\",e&&this.resetSlides(),i=0;i<this.num;i+=1)e&&this.addSlide(i),this.positionSlide(i);this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+\"px\")},unloadSlide:function(t){var e=this.slides[t],i=e.firstChild;null!==i&&e.removeChild(i)},unloadAllSlides:function(){for(var t=0,e=this.slides.length;t<e;t++)this.unloadSlide(t)},toggleControls:function(){var t=this.options.controlsClass;this.container.hasClass(t)?this.container.removeClass(t):this.container.addClass(t)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(t){return parseInt(t.getAttribute(\"data-index\"),10)},getNestedProperty:function(a,t){return t.replace(/\\[(?:'([^']+)'|\"([^\"]+)\"|(\\d+))\\]|(?:(?:^|\\.)([^\\.\\[]+))/g,function(t,e,i,s,n){var o=n||e||i||s&&parseInt(s,10);t&&a&&(a=a[o])}),a},getDataProperty:function(t,e){var i,s;if(t.dataset?(i=e.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()}),s=t.dataset[i]):t.getAttribute&&(s=t.getAttribute(\"data-\"+e.replace(/([A-Z])/g,\"-$1\").toLowerCase())),\"string\"==typeof s){if(/^(true|false|null|-?\\d+(\\.\\d+)?|\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/.test(s))try{return y.parseJSON(s)}catch(n){}return s}},getItemProperty:function(t,e){var i=this.getDataProperty(t,e);return i===undefined&&(i=t[e]),i===undefined&&(i=this.getNestedProperty(t,e)),i},initStartIndex:function(){var t,e=this.options.index,i=this.options.urlProperty;if(e&&\"number\"!=typeof e)for(t=0;t<this.num;t+=1)if(this.list[t]===e||this.getItemProperty(this.list[t],i)===this.getItemProperty(e,i)){e=t;break}this.index=this.circle(parseInt(e,10)||0)},initEventListeners:function(){var i=this,t=this.slidesContainer;function e(t){var e=i.support.transition&&i.support.transition.end===t.type?\"transitionend\":t.type;i[\"on\"+e](t)}y(window).on(\"resize\",e),y(window).on(\"hashchange\",e),y(document.body).on(\"keydown\",e),this.container.on(\"click\",e),this.support.touch?t.on(\"touchstart touchmove touchend touchcancel\",e):this.options.emulateTouchEvents&&this.support.transition&&t.on(\"mousedown mousemove mouseup mouseout\",e),this.support.transition&&t.on(this.support.transition.end,e),this.proxyListener=e},destroyEventListeners:function(){var t=this.slidesContainer,e=this.proxyListener;y(window).off(\"resize\",e),y(document.body).off(\"keydown\",e),this.container.off(\"click\",e),this.support.touch?t.off(\"touchstart touchmove touchend touchcancel\",e):this.options.emulateTouchEvents&&this.support.transition&&t.off(\"mousedown mousemove mouseup mouseout\",e),this.support.transition&&t.off(this.support.transition.end,e)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var e=this;return this.container=y(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),this.playPauseElement=this.container.find(\".\"+this.options.playPauseClass).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.support.svgasimg&&this.container.addClass(this.options.svgasimgClass),this.support.smil&&this.container.addClass(this.options.smilClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,function i(t){t.target===e.container[0]&&(e.container.off(e.support.transition.end,i),e.handleOpen())}):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow=\"hidden\"),this.container[0].style.display=\"block\",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log(\"blueimp Gallery: Slides container not found.\",this.options.slidesContainer),!1)):(this.console.log(\"blueimp Gallery: Widget container not found.\",this.options.container),!1)},initOptions:function(t){this.options=y.extend({},this.options),(t&&t.carousel||this.options.carousel&&(!t||!1!==t.carousel))&&y.extend(this.options,this.carouselOptions),y.extend(this.options,t),this.num<3&&(this.options.continuous=!!this.options.continuous&&null),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),i}),function(t){\"use strict\";\"function\"==typeof define&&define.amd?define([\"./blueimp-helper\",\"./blueimp-gallery\"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){\"use strict\";var i=e.prototype;t.extend(i.options,{fullscreen:!1});var s=i.initialize,n=i.close;return t.extend(i,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){s.call(this),this.options.fullscreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen(),n.call(this)}}),e}),function(t){\"use strict\";\"function\"==typeof define&&define.amd?define([\"./blueimp-helper\",\"./blueimp-gallery\"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,t){\"use strict\";var e=t.prototype;a.extend(e.options,{indicatorContainer:\"ol\",activeIndicatorClass:\"active\",thumbnailProperty:\"thumbnail\",thumbnailIndicators:!0});var i=e.initSlides,s=e.addSlide,n=e.resetSlides,o=e.handleClick,l=e.handleSlide,r=e.handleClose;return a.extend(e,{createIndicator:function(t){var e,i,s=this.indicatorPrototype.cloneNode(!1),n=this.getItemProperty(t,this.options.titleProperty),o=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(o&&(e=this.getItemProperty(t,o)),e===undefined&&(i=t.getElementsByTagName&&a(t).find(\"img\")[0])&&(e=i.src),e&&(s.style.backgroundImage='url(\"'+e+'\")')),n&&(s.title=n),s.setAttribute(\"role\",\"link\"),s},addIndicator:function(t){var e;this.indicatorContainer.length&&((e=this.createIndicator(this.list[t])).setAttribute(\"data-index\",t),this.indicatorContainer[0].appendChild(e),this.indicators.push(e))},setActiveIndicator:function(t){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=a(this.indicators[t]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(t){t||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement(\"li\"),this.indicators=this.indicatorContainer[0].children)),i.call(this,t)},addSlide:function(t){s.call(this,t),this.addIndicator(t)},resetSlides:function(){n.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(t){var e=t.target||t.srcElement,i=e.parentNode;if(i===this.indicatorContainer[0])this.preventDefault(t),this.slide(this.getNodeIndex(e));else{if(i.parentNode!==this.indicatorContainer[0])return o.call(this,t);this.preventDefault(t),this.slide(this.getNodeIndex(i))}},handleSlide:function(t,e){l.call(this,t,e),this.setActiveIndicator(e)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),r.call(this)}}),t}),function(t){\"use strict\";\"function\"==typeof define&&define.amd?define([\"./blueimp-helper\",\"./blueimp-gallery\"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(C,t){\"use strict\";var e=t.prototype;C.extend(e.options,{videoContentClass:\"video-content\",videoLoadingClass:\"video-loading\",videoPlayingClass:\"video-playing\",videoIframeClass:\"video-iframe\",videoCoverClass:\"video-cover\",videoPlayClass:\"video-play\",videoPlaysInline:!0,videoPreloadProperty:\"preload\",videoPosterProperty:\"poster\"});var i=e.handleSlide;return C.extend(e,{handleSlide:function(t,e){i.call(this,t,e),this.setTimeout(function(){this.activeVideo&&this.activeVideo.pause()})},videoFactory:function(t,e,i){var s,n,o,a=this,l=this.options,r=this.elementPrototype.cloneNode(!1),h=C(r),d=[{type:\"error\",target:r}],c=i||document.createElement(\"video\"),u=this.elementPrototype.cloneNode(!1),p=document.createElement(\"a\"),m=this.getItemProperty(t,l.urlProperty),y=this.getItemProperty(t,l.sourcesProperty),f=this.getItemProperty(t,l.titleProperty),g=this.getItemProperty(t,l.videoPosterProperty),v=[p];if(h.addClass(l.videoContentClass),C(p).addClass(l.videoPlayClass),C(u).addClass(l.videoCoverClass).hasClass(l.toggleClass)||v.push(u),u.draggable=!1,f&&(r.title=f,p.setAttribute(\"aria-label\",f)),g&&(u.style.backgroundImage='url(\"'+g+'\")'),c.setAttribute?l.videoPlaysInline&&c.setAttribute(\"playsinline\",\"\"):h.addClass(l.videoIframeClass),c.preload=this.getItemProperty(t,l.videoPreloadProperty)||\"none\",this.support.source&&y)for(o=0;o<y.length;o+=1)c.appendChild(C.extend(this.sourcePrototype.cloneNode(!1),y[o]));return m&&(c.src=m),p.href=m||y&&y.length&&y[0].src,c.play&&c.pause&&((i||C(c)).on(\"error\",function(){a.setTimeout(e,d)}).on(\"pause\",function(){c.seeking||(n=!1,h.removeClass(a.options.videoLoadingClass).removeClass(a.options.videoPlayingClass),s&&a.container.addClass(a.options.controlsClass),c.controls=!1,c===a.activeVideo&&delete a.activeVideo,a.interval&&a.play())}).on(\"playing\",function(){n=!1,u.removeAttribute(\"style\"),h.removeClass(a.options.videoLoadingClass).addClass(a.options.videoPlayingClass)}).on(\"play\",function(){window.clearTimeout(a.timeout),n=!0,h.addClass(a.options.videoLoadingClass),a.container.hasClass(a.options.controlsClass)?(s=!0,a.container.removeClass(a.options.controlsClass)):s=!1,c.controls=!0,a.activeVideo=c}),C(v).on(\"click\",function(t){a.preventDefault(t),a.activeVideo=c,n?c.pause():c.play()}),r.appendChild(i&&i.element||c)),r.appendChild(u),r.appendChild(p),this.setTimeout(e,[{type:\"load\",target:r}]),r}}),t}),function(t){\"use strict\";\"function\"==typeof define&&define.amd?define([\"./blueimp-helper\",\"./blueimp-gallery-video\"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(l,t){\"use strict\";if(!window.postMessage)return t;var e=t.prototype;l.extend(e.options,{vimeoVideoIdProperty:\"vimeo\",vimeoPlayerUrl:\"https://player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID\",vimeoPlayerIdPrefix:\"vimeo-player-\",vimeoClickToPlay:!1});var n=e.textFactory||e.imageFactory,o=function(t,e,i,s){this.url=t,this.videoId=e,this.playerId=i,this.clickToPlay=s,this.element=document.createElement(\"div\"),this.listeners={}},a=0;return l.extend(o.prototype,{on:function(t,e){return this.listeners[t]=e,this},loadAPI:function(){var t,e,i=this,s=\"https://f.vimeocdn.com/js/froogaloop2.min.js\",n=document.getElementsByTagName(\"script\"),o=n.length;function a(){!e&&i.playOnReady&&i.play(),e=!0}for(;o;)if(n[--o].src===s){t=n[o];break}t||((t=document.createElement(\"script\")).src=s),l(t).on(\"load\",a),n[0].parentNode.insertBefore(t,n[0]),/loaded|complete/.test(t.readyState)&&a()},onReady:function(){var t=this;this.ready=!0,this.player.addEvent(\"play\",function(){t.hasPlayed=!0,t.onPlaying()}),this.player.addEvent(\"pause\",function(){t.onPause()}),this.player.addEvent(\"finish\",function(){t.onPause()}),this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause(),delete this.playStatus},insertIframe:function(){var t=document.createElement(\"iframe\");t.src=this.url.replace(\"VIDEO_ID\",this.videoId).replace(\"PLAYER_ID\",this.playerId),t.id=this.playerId,t.allow=\"autoplay\",this.element.parentNode.replaceChild(t,this.element),this.element=t},play:function(){var t=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.api(\"play\"):(this.playOnReady=!0,window.$f?this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent(\"ready\",function(){t.onReady()})):this.loadAPI())},pause:function(){this.ready?this.player.api(\"pause\"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),l.extend(e,{VimeoPlayer:o,textFactory:function(t,e){var i=this.options,s=this.getItemProperty(t,i.vimeoVideoIdProperty);return s?(this.getItemProperty(t,i.urlProperty)===undefined&&(t[i.urlProperty]=\"https://vimeo.com/\"+s),a+=1,this.videoFactory(t,e,new o(i.vimeoPlayerUrl,s,i.vimeoPlayerIdPrefix+a,i.vimeoClickToPlay))):n.call(this,t,e)}}),t}),function(t){\"use strict\";\"function\"==typeof define&&define.amd?define([\"./blueimp-helper\",\"./blueimp-gallery-video\"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){\"use strict\";if(!window.postMessage)return e;var i=e.prototype;t.extend(i.options,{youTubeVideoIdProperty:\"youtube\",youTubePlayerVars:{wmode:\"transparent\"},youTubeClickToPlay:!1});var n=i.textFactory||i.imageFactory,o=function(t,e,i){this.videoId=t,this.playerVars=e,this.clickToPlay=i,this.element=document.createElement(\"div\"),this.listeners={}};return t.extend(o.prototype,{on:function(t,e){return this.listeners[t]=e,this},loadAPI:function(){var t,e=this,i=window.onYouTubeIframeAPIReady,s=\"https://www.youtube.com/iframe_api\",n=document.getElementsByTagName(\"script\"),o=n.length;for(window.onYouTubeIframeAPIReady=function(){i&&i.apply(this),e.playOnReady&&e.play()};o;)if(n[--o].src===s)return;(t=document.createElement(\"script\")).src=s,n[0].parentNode.insertBefore(t,n[0])},onReady:function(){this.ready=!0,this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause(),delete this.playStatus},onStateChange:function(t){switch(window.clearTimeout(this.pauseTimeout),t.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0,this.onPlaying();break;case YT.PlayerState.UNSTARTED:case YT.PlayerState.PAUSED:this.pauseTimeout=i.setTimeout.call(this,this.onPause,null,500);break;case YT.PlayerState.ENDED:this.onPause()}},onError:function(t){this.listeners.error(t)},play:function(){var e=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,window.YT&&YT.Player?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){e.onReady()},onStateChange:function(t){e.onStateChange(t)},onError:function(t){e.onError(t)}}})):this.loadAPI())},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),t.extend(i,{YouTubePlayer:o,textFactory:function(t,e){var i=this.options,s=this.getItemProperty(t,i.youTubeVideoIdProperty);return s?(this.getItemProperty(t,i.urlProperty)===undefined&&(t[i.urlProperty]=\"https://www.youtube.com/watch?v=\"+s),this.getItemProperty(t,i.videoPosterProperty)===undefined&&(t[i.videoPosterProperty]=\"https://img.youtube.com/vi/\"+s+\"/maxresdefault.jpg\"),this.videoFactory(t,e,new o(s,i.youTubePlayerVars,i.youTubeClickToPlay))):n.call(this,t,e)}}),e}),function(t){\"use strict\";\"function\"==typeof define&&define.amd?define([\"jquery\",\"./blueimp-gallery\"],t):t(window.jQuery,window.blueimp.Gallery)}(function(l,r){\"use strict\";l(document).on(\"click\",\"[data-gallery]\",function(t){var e=l(this).data(\"gallery\"),i=l(e),s=i.length&&i||l(r.prototype.options.container),n={onopen:function(){s.data(\"gallery\",this).trigger(\"open\")},onopened:function(){s.trigger(\"opened\")},onslide:function(){s.trigger(\"slide\",arguments)},onslideend:function(){s.trigger(\"slideend\",arguments)},onslidecomplete:function(){s.trigger(\"slidecomplete\",arguments)},onclose:function(){s.trigger(\"close\")},onclosed:function(){s.trigger(\"closed\").removeData(\"gallery\")}},o=l.extend(s.data(),{container:s[0],index:this,event:t},n),a=l(this).closest(\"[data-gallery-group], body\").find('[data-gallery=\"'+e+'\"]');return o.filter&&(a=a.filter(o.filter)),new r(a,o)})});\n//# sourceMappingURL=jquery.blueimp-gallery.min.js.map","/*\n * JavaScript Templates\n * https://github.com/blueimp/JavaScript-Templates\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Inspired by John Resig's JavaScript Micro-Templating:\n * http://ejohn.org/blog/javascript-micro-templating/\n */\n\n/* global define */\n\n/* eslint-disable strict */\n\n;(function ($) {\n  'use strict'\n  var tmpl = function (str, data) {\n    var f = !/[^\\w\\-.:]/.test(str)\n      ? (tmpl.cache[str] = tmpl.cache[str] || tmpl(tmpl.load(str)))\n      : new Function( // eslint-disable-line no-new-func\n          tmpl.arg + ',tmpl',\n          'var _e=tmpl.encode' +\n            tmpl.helper +\n            \",_s='\" +\n            str.replace(tmpl.regexp, tmpl.func) +\n            \"';return _s;\"\n        )\n    return data\n      ? f(data, tmpl)\n      : function (data) {\n          return f(data, tmpl)\n        }\n  }\n  tmpl.cache = {}\n  tmpl.load = function (id) {\n    return document.getElementById(id).innerHTML\n  }\n  tmpl.regexp = /([\\s'\\\\])(?!(?:[^{]|\\{(?!%))*%\\})|(?:\\{%(=|#)([\\s\\S]+?)%\\})|(\\{%)|(%\\})/g\n  tmpl.func = function (s, p1, p2, p3, p4, p5) {\n    if (p1) {\n      // whitespace, quote and backspace in HTML context\n      return (\n        {\n          '\\n': '\\\\n',\n          '\\r': '\\\\r',\n          '\\t': '\\\\t',\n          ' ': ' '\n        }[p1] || '\\\\' + p1\n      )\n    }\n    if (p2) {\n      // interpolation: {%=prop%}, or unescaped: {%#prop%}\n      if (p2 === '=') {\n        return \"'+_e(\" + p3 + \")+'\"\n      }\n      return \"'+(\" + p3 + \"==null?'':\" + p3 + \")+'\"\n    }\n    if (p4) {\n      // evaluation start tag: {%\n      return \"';\"\n    }\n    if (p5) {\n      // evaluation end tag: %}\n      return \"_s+='\"\n    }\n  }\n  tmpl.encReg = /[<>&\"'\\x00]/g // eslint-disable-line no-control-regex\n  tmpl.encMap = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '&': '&amp;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  }\n  tmpl.encode = function (s) {\n    // eslint-disable-next-line eqeqeq\n    return (s == null ? '' : '' + s).replace(tmpl.encReg, function (c) {\n      return tmpl.encMap[c] || ''\n    })\n  }\n  tmpl.arg = 'o'\n  tmpl.helper =\n    \",print=function(s,e){_s+=e?(s==null?'':s):_e(s);}\" +\n    ',include=function(s,d){_s+=tmpl(s,d);}'\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return tmpl\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = tmpl\n  } else {\n    $.tmpl = tmpl\n  }\n})(this)\n","/*\n * JavaScript Canvas to Blob\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on stackoverflow user Stoive's code snippet:\n * http://stackoverflow.com/q/4998908\n */\n\n/* global define, Uint8Array, ArrayBuffer, module */\n\n;(function (window) {\n  'use strict'\n\n  var CanvasPrototype =\n    window.HTMLCanvasElement && window.HTMLCanvasElement.prototype\n  var hasBlobConstructor =\n    window.Blob &&\n    (function () {\n      try {\n        return Boolean(new Blob())\n      } catch (e) {\n        return false\n      }\n    })()\n  var hasArrayBufferViewSupport =\n    hasBlobConstructor &&\n    window.Uint8Array &&\n    (function () {\n      try {\n        return new Blob([new Uint8Array(100)]).size === 100\n      } catch (e) {\n        return false\n      }\n    })()\n  var BlobBuilder =\n    window.BlobBuilder ||\n    window.WebKitBlobBuilder ||\n    window.MozBlobBuilder ||\n    window.MSBlobBuilder\n  var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/\n  var dataURLtoBlob =\n    (hasBlobConstructor || BlobBuilder) &&\n    window.atob &&\n    window.ArrayBuffer &&\n    window.Uint8Array &&\n    function (dataURI) {\n      var matches,\n        mediaType,\n        isBase64,\n        dataString,\n        byteString,\n        arrayBuffer,\n        intArray,\n        i,\n        bb\n      // Parse the dataURI components as per RFC 2397\n      matches = dataURI.match(dataURIPattern)\n      if (!matches) {\n        throw new Error('invalid data URI')\n      }\n      // Default to text/plain;charset=US-ASCII\n      mediaType = matches[2]\n        ? matches[1]\n        : 'text/plain' + (matches[3] || ';charset=US-ASCII')\n      isBase64 = !!matches[4]\n      dataString = dataURI.slice(matches[0].length)\n      if (isBase64) {\n        // Convert base64 to raw binary data held in a string:\n        byteString = atob(dataString)\n      } else {\n        // Convert base64/URLEncoded data component to raw binary:\n        byteString = decodeURIComponent(dataString)\n      }\n      // Write the bytes of the string to an ArrayBuffer:\n      arrayBuffer = new ArrayBuffer(byteString.length)\n      intArray = new Uint8Array(arrayBuffer)\n      for (i = 0; i < byteString.length; i += 1) {\n        intArray[i] = byteString.charCodeAt(i)\n      }\n      // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n      if (hasBlobConstructor) {\n        return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {\n          type: mediaType\n        })\n      }\n      bb = new BlobBuilder()\n      bb.append(arrayBuffer)\n      return bb.getBlob(mediaType)\n    }\n  if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n    if (CanvasPrototype.mozGetAsFile) {\n      CanvasPrototype.toBlob = function (callback, type, quality) {\n        var self = this\n        setTimeout(function () {\n          if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n            callback(dataURLtoBlob(self.toDataURL(type, quality)))\n          } else {\n            callback(self.mozGetAsFile('blob', type))\n          }\n        })\n      }\n    } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n      if (CanvasPrototype.msToBlob) {\n        CanvasPrototype.toBlob = function (callback, type, quality) {\n          var self = this\n          setTimeout(function () {\n            if (\n              ((type && type !== 'image/png') || quality) &&\n              CanvasPrototype.toDataURL &&\n              dataURLtoBlob\n            ) {\n              callback(dataURLtoBlob(self.toDataURL(type, quality)))\n            } else {\n              callback(self.msToBlob(type))\n            }\n          })\n        }\n      } else {\n        CanvasPrototype.toBlob = function (callback, type, quality) {\n          var self = this\n          setTimeout(function () {\n            callback(dataURLtoBlob(self.toDataURL(type, quality)))\n          })\n        }\n      }\n    }\n  }\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return dataURLtoBlob\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = dataURLtoBlob\n  } else {\n    window.dataURLtoBlob = dataURLtoBlob\n  }\n})(window)\n","/*! jQuery UI - v1.12.1+0b7246b6eeadfa9e2696e22f3230f6452f8129dc - 2020-02-20\n * http://jqueryui.com\n * Includes: widget.js\n * Copyright jQuery Foundation and other contributors; Licensed MIT */\n\n/* global define, require */\n/* eslint-disable no-param-reassign, new-cap, jsdoc/require-jsdoc */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS\n    factory(require('jquery'));\n  } else {\n    // Browser globals\n    factory(window.jQuery);\n  }\n})(function ($) {\n  ('use strict');\n\n  $.ui = $.ui || {};\n\n  $.ui.version = '1.12.1';\n\n  /*!\n   * jQuery UI Widget 1.12.1\n   * http://jqueryui.com\n   *\n   * Copyright jQuery Foundation and other contributors\n   * Released under the MIT license.\n   * http://jquery.org/license\n   */\n\n  //>>label: Widget\n  //>>group: Core\n  //>>description: Provides a factory for creating stateful widgets with a common API.\n  //>>docs: http://api.jqueryui.com/jQuery.widget/\n  //>>demos: http://jqueryui.com/widget/\n\n  // Support: jQuery 1.9.x or older\n  // $.expr[ \":\" ] is deprecated.\n  if (!$.expr.pseudos) {\n    $.expr.pseudos = $.expr[':'];\n  }\n\n  // Support: jQuery 1.11.x or older\n  // $.unique has been renamed to $.uniqueSort\n  if (!$.uniqueSort) {\n    $.uniqueSort = $.unique;\n  }\n\n  var widgetUuid = 0;\n  var widgetHasOwnProperty = Array.prototype.hasOwnProperty;\n  var widgetSlice = Array.prototype.slice;\n\n  $.cleanData = (function (orig) {\n    return function (elems) {\n      var events, elem, i;\n      // eslint-disable-next-line eqeqeq\n      for (i = 0; (elem = elems[i]) != null; i++) {\n        // Only trigger remove when necessary to save time\n        events = $._data(elem, 'events');\n        if (events && events.remove) {\n          $(elem).triggerHandler('remove');\n        }\n      }\n      orig(elems);\n    };\n  })($.cleanData);\n\n  $.widget = function (name, base, prototype) {\n    var existingConstructor, constructor, basePrototype;\n\n    // ProxiedPrototype allows the provided prototype to remain unmodified\n    // so that it can be used as a mixin for multiple widgets (#8876)\n    var proxiedPrototype = {};\n\n    var namespace = name.split('.')[0];\n    name = name.split('.')[1];\n    var fullName = namespace + '-' + name;\n\n    if (!prototype) {\n      prototype = base;\n      base = $.Widget;\n    }\n\n    if ($.isArray(prototype)) {\n      prototype = $.extend.apply(null, [{}].concat(prototype));\n    }\n\n    // Create selector for plugin\n    $.expr.pseudos[fullName.toLowerCase()] = function (elem) {\n      return !!$.data(elem, fullName);\n    };\n\n    $[namespace] = $[namespace] || {};\n    existingConstructor = $[namespace][name];\n    constructor = $[namespace][name] = function (options, element) {\n      // Allow instantiation without \"new\" keyword\n      if (!this._createWidget) {\n        return new constructor(options, element);\n      }\n\n      // Allow instantiation without initializing for simple inheritance\n      // must use \"new\" keyword (the code above always passes args)\n      if (arguments.length) {\n        this._createWidget(options, element);\n      }\n    };\n\n    // Extend with the existing constructor to carry over any static properties\n    $.extend(constructor, existingConstructor, {\n      version: prototype.version,\n\n      // Copy the object used to create the prototype in case we need to\n      // redefine the widget later\n      _proto: $.extend({}, prototype),\n\n      // Track widgets that inherit from this widget in case this widget is\n      // redefined after a widget inherits from it\n      _childConstructors: []\n    });\n\n    basePrototype = new base();\n\n    // We need to make the options hash a property directly on the new instance\n    // otherwise we'll modify the options hash on the prototype that we're\n    // inheriting from\n    basePrototype.options = $.widget.extend({}, basePrototype.options);\n    $.each(prototype, function (prop, value) {\n      if (!$.isFunction(value)) {\n        proxiedPrototype[prop] = value;\n        return;\n      }\n      proxiedPrototype[prop] = (function () {\n        function _super() {\n          return base.prototype[prop].apply(this, arguments);\n        }\n\n        function _superApply(args) {\n          return base.prototype[prop].apply(this, args);\n        }\n\n        return function () {\n          var __super = this._super;\n          var __superApply = this._superApply;\n          var returnValue;\n\n          this._super = _super;\n          this._superApply = _superApply;\n\n          returnValue = value.apply(this, arguments);\n\n          this._super = __super;\n          this._superApply = __superApply;\n\n          return returnValue;\n        };\n      })();\n    });\n    constructor.prototype = $.widget.extend(\n      basePrototype,\n      {\n        // TODO: remove support for widgetEventPrefix\n        // always use the name + a colon as the prefix, e.g., draggable:start\n        // don't prefix for widgets that aren't DOM-based\n        widgetEventPrefix: existingConstructor\n          ? basePrototype.widgetEventPrefix || name\n          : name\n      },\n      proxiedPrototype,\n      {\n        constructor: constructor,\n        namespace: namespace,\n        widgetName: name,\n        widgetFullName: fullName\n      }\n    );\n\n    // If this widget is being redefined then we need to find all widgets that\n    // are inheriting from it and redefine all of them so that they inherit from\n    // the new version of this widget. We're essentially trying to replace one\n    // level in the prototype chain.\n    if (existingConstructor) {\n      $.each(existingConstructor._childConstructors, function (i, child) {\n        var childPrototype = child.prototype;\n\n        // Redefine the child widget using the same prototype that was\n        // originally used, but inherit from the new version of the base\n        $.widget(\n          childPrototype.namespace + '.' + childPrototype.widgetName,\n          constructor,\n          child._proto\n        );\n      });\n\n      // Remove the list of existing child constructors from the old constructor\n      // so the old child constructors can be garbage collected\n      delete existingConstructor._childConstructors;\n    } else {\n      base._childConstructors.push(constructor);\n    }\n\n    $.widget.bridge(name, constructor);\n\n    return constructor;\n  };\n\n  $.widget.extend = function (target) {\n    var input = widgetSlice.call(arguments, 1);\n    var inputIndex = 0;\n    var inputLength = input.length;\n    var key;\n    var value;\n\n    for (; inputIndex < inputLength; inputIndex++) {\n      for (key in input[inputIndex]) {\n        value = input[inputIndex][key];\n        if (\n          widgetHasOwnProperty.call(input[inputIndex], key) &&\n          value !== undefined\n        ) {\n          // Clone objects\n          if ($.isPlainObject(value)) {\n            target[key] = $.isPlainObject(target[key])\n              ? $.widget.extend({}, target[key], value)\n              : // Don't extend strings, arrays, etc. with objects\n                $.widget.extend({}, value);\n\n            // Copy everything else by reference\n          } else {\n            target[key] = value;\n          }\n        }\n      }\n    }\n    return target;\n  };\n\n  $.widget.bridge = function (name, object) {\n    var fullName = object.prototype.widgetFullName || name;\n    $.fn[name] = function (options) {\n      var isMethodCall = typeof options === 'string';\n      var args = widgetSlice.call(arguments, 1);\n      var returnValue = this;\n\n      if (isMethodCall) {\n        // If this is an empty collection, we need to have the instance method\n        // return undefined instead of the jQuery instance\n        if (!this.length && options === 'instance') {\n          returnValue = undefined;\n        } else {\n          this.each(function () {\n            var methodValue;\n            var instance = $.data(this, fullName);\n\n            if (options === 'instance') {\n              returnValue = instance;\n              return false;\n            }\n\n            if (!instance) {\n              return $.error(\n                'cannot call methods on ' +\n                  name +\n                  ' prior to initialization; ' +\n                  \"attempted to call method '\" +\n                  options +\n                  \"'\"\n              );\n            }\n\n            if (!$.isFunction(instance[options]) || options.charAt(0) === '_') {\n              return $.error(\n                \"no such method '\" +\n                  options +\n                  \"' for \" +\n                  name +\n                  ' widget instance'\n              );\n            }\n\n            methodValue = instance[options].apply(instance, args);\n\n            if (methodValue !== instance && methodValue !== undefined) {\n              returnValue =\n                methodValue && methodValue.jquery\n                  ? returnValue.pushStack(methodValue.get())\n                  : methodValue;\n              return false;\n            }\n          });\n        }\n      } else {\n        // Allow multiple hashes to be passed on init\n        if (args.length) {\n          options = $.widget.extend.apply(null, [options].concat(args));\n        }\n\n        this.each(function () {\n          var instance = $.data(this, fullName);\n          if (instance) {\n            instance.option(options || {});\n            if (instance._init) {\n              instance._init();\n            }\n          } else {\n            $.data(this, fullName, new object(options, this));\n          }\n        });\n      }\n\n      return returnValue;\n    };\n  };\n\n  $.Widget = function (/* options, element */) {};\n  $.Widget._childConstructors = [];\n\n  $.Widget.prototype = {\n    widgetName: 'widget',\n    widgetEventPrefix: '',\n    defaultElement: '<div>',\n\n    options: {\n      classes: {},\n      disabled: false,\n\n      // Callbacks\n      create: null\n    },\n\n    _createWidget: function (options, element) {\n      element = $(element || this.defaultElement || this)[0];\n      this.element = $(element);\n      this.uuid = widgetUuid++;\n      this.eventNamespace = '.' + this.widgetName + this.uuid;\n\n      this.bindings = $();\n      this.hoverable = $();\n      this.focusable = $();\n      this.classesElementLookup = {};\n\n      if (element !== this) {\n        $.data(element, this.widgetFullName, this);\n        this._on(true, this.element, {\n          remove: function (event) {\n            if (event.target === element) {\n              this.destroy();\n            }\n          }\n        });\n        this.document = $(\n          element.style\n            ? // Element within the document\n              element.ownerDocument\n            : // Element is window or document\n              element.document || element\n        );\n        this.window = $(\n          this.document[0].defaultView || this.document[0].parentWindow\n        );\n      }\n\n      this.options = $.widget.extend(\n        {},\n        this.options,\n        this._getCreateOptions(),\n        options\n      );\n\n      this._create();\n\n      if (this.options.disabled) {\n        this._setOptionDisabled(this.options.disabled);\n      }\n\n      this._trigger('create', null, this._getCreateEventData());\n      this._init();\n    },\n\n    _getCreateOptions: function () {\n      return {};\n    },\n\n    _getCreateEventData: $.noop,\n\n    _create: $.noop,\n\n    _init: $.noop,\n\n    destroy: function () {\n      var that = this;\n\n      this._destroy();\n      $.each(this.classesElementLookup, function (key, value) {\n        that._removeClass(value, key);\n      });\n\n      // We can probably remove the unbind calls in 2.0\n      // all event bindings should go through this._on()\n      this.element.off(this.eventNamespace).removeData(this.widgetFullName);\n      this.widget().off(this.eventNamespace).removeAttr('aria-disabled');\n\n      // Clean up events and states\n      this.bindings.off(this.eventNamespace);\n    },\n\n    _destroy: $.noop,\n\n    widget: function () {\n      return this.element;\n    },\n\n    option: function (key, value) {\n      var options = key;\n      var parts;\n      var curOption;\n      var i;\n\n      if (arguments.length === 0) {\n        // Don't return a reference to the internal hash\n        return $.widget.extend({}, this.options);\n      }\n\n      if (typeof key === 'string') {\n        // Handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n        options = {};\n        parts = key.split('.');\n        key = parts.shift();\n        if (parts.length) {\n          curOption = options[key] = $.widget.extend({}, this.options[key]);\n          for (i = 0; i < parts.length - 1; i++) {\n            curOption[parts[i]] = curOption[parts[i]] || {};\n            curOption = curOption[parts[i]];\n          }\n          key = parts.pop();\n          if (arguments.length === 1) {\n            return curOption[key] === undefined ? null : curOption[key];\n          }\n          curOption[key] = value;\n        } else {\n          if (arguments.length === 1) {\n            return this.options[key] === undefined ? null : this.options[key];\n          }\n          options[key] = value;\n        }\n      }\n\n      this._setOptions(options);\n\n      return this;\n    },\n\n    _setOptions: function (options) {\n      var key;\n\n      for (key in options) {\n        this._setOption(key, options[key]);\n      }\n\n      return this;\n    },\n\n    _setOption: function (key, value) {\n      if (key === 'classes') {\n        this._setOptionClasses(value);\n      }\n\n      this.options[key] = value;\n\n      if (key === 'disabled') {\n        this._setOptionDisabled(value);\n      }\n\n      return this;\n    },\n\n    _setOptionClasses: function (value) {\n      var classKey, elements, currentElements;\n\n      for (classKey in value) {\n        currentElements = this.classesElementLookup[classKey];\n        if (\n          value[classKey] === this.options.classes[classKey] ||\n          !currentElements ||\n          !currentElements.length\n        ) {\n          continue;\n        }\n\n        // We are doing this to create a new jQuery object because the _removeClass() call\n        // on the next line is going to destroy the reference to the current elements being\n        // tracked. We need to save a copy of this collection so that we can add the new classes\n        // below.\n        elements = $(currentElements.get());\n        this._removeClass(currentElements, classKey);\n\n        // We don't use _addClass() here, because that uses this.options.classes\n        // for generating the string of classes. We want to use the value passed in from\n        // _setOption(), this is the new value of the classes option which was passed to\n        // _setOption(). We pass this value directly to _classes().\n        elements.addClass(\n          this._classes({\n            element: elements,\n            keys: classKey,\n            classes: value,\n            add: true\n          })\n        );\n      }\n    },\n\n    _setOptionDisabled: function (value) {\n      this._toggleClass(\n        this.widget(),\n        this.widgetFullName + '-disabled',\n        null,\n        !!value\n      );\n\n      // If the widget is becoming disabled, then nothing is interactive\n      if (value) {\n        this._removeClass(this.hoverable, null, 'ui-state-hover');\n        this._removeClass(this.focusable, null, 'ui-state-focus');\n      }\n    },\n\n    enable: function () {\n      return this._setOptions({ disabled: false });\n    },\n\n    disable: function () {\n      return this._setOptions({ disabled: true });\n    },\n\n    _classes: function (options) {\n      var full = [];\n      var that = this;\n\n      options = $.extend(\n        {\n          element: this.element,\n          classes: this.options.classes || {}\n        },\n        options\n      );\n\n      function bindRemoveEvent() {\n        options.element.each(function (_, element) {\n          var isTracked = $.map(that.classesElementLookup, function (elements) {\n            return elements;\n          }).some(function (elements) {\n            return elements.is(element);\n          });\n\n          if (!isTracked) {\n            that._on($(element), {\n              remove: '_untrackClassesElement'\n            });\n          }\n        });\n      }\n\n      function processClassString(classes, checkOption) {\n        var current, i;\n        for (i = 0; i < classes.length; i++) {\n          current = that.classesElementLookup[classes[i]] || $();\n          if (options.add) {\n            bindRemoveEvent();\n            current = $(\n              $.uniqueSort(current.get().concat(options.element.get()))\n            );\n          } else {\n            current = $(current.not(options.element).get());\n          }\n          that.classesElementLookup[classes[i]] = current;\n          full.push(classes[i]);\n          if (checkOption && options.classes[classes[i]]) {\n            full.push(options.classes[classes[i]]);\n          }\n        }\n      }\n\n      if (options.keys) {\n        processClassString(options.keys.match(/\\S+/g) || [], true);\n      }\n      if (options.extra) {\n        processClassString(options.extra.match(/\\S+/g) || []);\n      }\n\n      return full.join(' ');\n    },\n\n    _untrackClassesElement: function (event) {\n      var that = this;\n      $.each(that.classesElementLookup, function (key, value) {\n        if ($.inArray(event.target, value) !== -1) {\n          that.classesElementLookup[key] = $(value.not(event.target).get());\n        }\n      });\n\n      this._off($(event.target));\n    },\n\n    _removeClass: function (element, keys, extra) {\n      return this._toggleClass(element, keys, extra, false);\n    },\n\n    _addClass: function (element, keys, extra) {\n      return this._toggleClass(element, keys, extra, true);\n    },\n\n    _toggleClass: function (element, keys, extra, add) {\n      add = typeof add === 'boolean' ? add : extra;\n      var shift = typeof element === 'string' || element === null,\n        options = {\n          extra: shift ? keys : extra,\n          keys: shift ? element : keys,\n          element: shift ? this.element : element,\n          add: add\n        };\n      options.element.toggleClass(this._classes(options), add);\n      return this;\n    },\n\n    _on: function (suppressDisabledCheck, element, handlers) {\n      var delegateElement;\n      var instance = this;\n\n      // No suppressDisabledCheck flag, shuffle arguments\n      if (typeof suppressDisabledCheck !== 'boolean') {\n        handlers = element;\n        element = suppressDisabledCheck;\n        suppressDisabledCheck = false;\n      }\n\n      // No element argument, shuffle and use this.element\n      if (!handlers) {\n        handlers = element;\n        element = this.element;\n        delegateElement = this.widget();\n      } else {\n        element = delegateElement = $(element);\n        this.bindings = this.bindings.add(element);\n      }\n\n      $.each(handlers, function (event, handler) {\n        function handlerProxy() {\n          // Allow widgets to customize the disabled handling\n          // - disabled as an array instead of boolean\n          // - disabled class as method for disabling individual parts\n          if (\n            !suppressDisabledCheck &&\n            (instance.options.disabled === true ||\n              $(this).hasClass('ui-state-disabled'))\n          ) {\n            return;\n          }\n          return (typeof handler === 'string'\n            ? instance[handler]\n            : handler\n          ).apply(instance, arguments);\n        }\n\n        // Copy the guid so direct unbinding works\n        if (typeof handler !== 'string') {\n          handlerProxy.guid = handler.guid =\n            handler.guid || handlerProxy.guid || $.guid++;\n        }\n\n        var match = event.match(/^([\\w:-]*)\\s*(.*)$/);\n        var eventName = match[1] + instance.eventNamespace;\n        var selector = match[2];\n\n        if (selector) {\n          delegateElement.on(eventName, selector, handlerProxy);\n        } else {\n          element.on(eventName, handlerProxy);\n        }\n      });\n    },\n\n    _off: function (element, eventName) {\n      eventName =\n        (eventName || '').split(' ').join(this.eventNamespace + ' ') +\n        this.eventNamespace;\n      element.off(eventName);\n\n      // Clear the stack to avoid memory leaks (#10056)\n      this.bindings = $(this.bindings.not(element).get());\n      this.focusable = $(this.focusable.not(element).get());\n      this.hoverable = $(this.hoverable.not(element).get());\n    },\n\n    _delay: function (handler, delay) {\n      var instance = this;\n      function handlerProxy() {\n        return (typeof handler === 'string'\n          ? instance[handler]\n          : handler\n        ).apply(instance, arguments);\n      }\n      return setTimeout(handlerProxy, delay || 0);\n    },\n\n    _hoverable: function (element) {\n      this.hoverable = this.hoverable.add(element);\n      this._on(element, {\n        mouseenter: function (event) {\n          this._addClass($(event.currentTarget), null, 'ui-state-hover');\n        },\n        mouseleave: function (event) {\n          this._removeClass($(event.currentTarget), null, 'ui-state-hover');\n        }\n      });\n    },\n\n    _focusable: function (element) {\n      this.focusable = this.focusable.add(element);\n      this._on(element, {\n        focusin: function (event) {\n          this._addClass($(event.currentTarget), null, 'ui-state-focus');\n        },\n        focusout: function (event) {\n          this._removeClass($(event.currentTarget), null, 'ui-state-focus');\n        }\n      });\n    },\n\n    _trigger: function (type, event, data) {\n      var prop, orig;\n      var callback = this.options[type];\n\n      data = data || {};\n      event = $.Event(event);\n      event.type = (type === this.widgetEventPrefix\n        ? type\n        : this.widgetEventPrefix + type\n      ).toLowerCase();\n\n      // The original event may come from any element\n      // so we need to reset the target on the new event\n      event.target = this.element[0];\n\n      // Copy original event properties over to the new event\n      orig = event.originalEvent;\n      if (orig) {\n        for (prop in orig) {\n          if (!(prop in event)) {\n            event[prop] = orig[prop];\n          }\n        }\n      }\n\n      this.element.trigger(event, data);\n      return !(\n        ($.isFunction(callback) &&\n          callback.apply(this.element[0], [event].concat(data)) === false) ||\n        event.isDefaultPrevented()\n      );\n    }\n  };\n\n  $.each({ show: 'fadeIn', hide: 'fadeOut' }, function (method, defaultEffect) {\n    $.Widget.prototype['_' + method] = function (element, options, callback) {\n      if (typeof options === 'string') {\n        options = { effect: options };\n      }\n\n      var hasOptions;\n      var effectName = !options\n        ? method\n        : options === true || typeof options === 'number'\n        ? defaultEffect\n        : options.effect || defaultEffect;\n\n      options = options || {};\n      if (typeof options === 'number') {\n        options = { duration: options };\n      }\n\n      hasOptions = !$.isEmptyObject(options);\n      options.complete = callback;\n\n      if (options.delay) {\n        element.delay(options.delay);\n      }\n\n      if (hasOptions && $.effects && $.effects.effect[effectName]) {\n        element[method](options);\n      } else if (effectName !== method && element[effectName]) {\n        element[effectName](options.duration, options.easing, callback);\n      } else {\n        element.queue(function (next) {\n          $(this)[method]();\n          if (callback) {\n            callback.call(element[0]);\n          }\n          next();\n        });\n      }\n    };\n  });\n});\n","/*\n * jQuery File Upload Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2010, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n/* eslint-disable new-cap */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['jquery', 'jquery-ui/ui/widget'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(require('jquery'), require('./vendor/jquery.ui.widget'));\n  } else {\n    // Browser globals:\n    factory(window.jQuery);\n  }\n})(function ($) {\n  'use strict';\n\n  // Detect file input support, based on\n  // https://viljamis.com/2012/file-upload-support-on-mobile/\n  $.support.fileInput = !(\n    new RegExp(\n      // Handle devices which give false positives for the feature detection:\n      '(Android (1\\\\.[0156]|2\\\\.[01]))' +\n        '|(Windows Phone (OS 7|8\\\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)' +\n        '|(w(eb)?OSBrowser)|(webOS)' +\n        '|(Kindle/(1\\\\.0|2\\\\.[05]|3\\\\.0))'\n    ).test(window.navigator.userAgent) ||\n    // Feature detection for all other devices:\n    $('<input type=\"file\"/>').prop('disabled')\n  );\n\n  // The FileReader API is not actually used, but works as feature detection,\n  // as some Safari versions (5?) support XHR file uploads via the FormData API,\n  // but not non-multipart XHR file uploads.\n  // window.XMLHttpRequestUpload is not available on IE10, so we check for\n  // window.ProgressEvent instead to detect XHR2 file upload capability:\n  $.support.xhrFileUpload = !!(window.ProgressEvent && window.FileReader);\n  $.support.xhrFormDataFileUpload = !!window.FormData;\n\n  // Detect support for Blob slicing (required for chunked uploads):\n  $.support.blobSlice =\n    window.Blob &&\n    (Blob.prototype.slice ||\n      Blob.prototype.webkitSlice ||\n      Blob.prototype.mozSlice);\n\n  /**\n   * Helper function to create drag handlers for dragover/dragenter/dragleave\n   *\n   * @param {string} type Event type\n   * @returns {Function} Drag handler\n   */\n  function getDragHandler(type) {\n    var isDragOver = type === 'dragover';\n    return function (e) {\n      e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;\n      var dataTransfer = e.dataTransfer;\n      if (\n        dataTransfer &&\n        $.inArray('Files', dataTransfer.types) !== -1 &&\n        this._trigger(type, $.Event(type, { delegatedEvent: e })) !== false\n      ) {\n        e.preventDefault();\n        if (isDragOver) {\n          dataTransfer.dropEffect = 'copy';\n        }\n      }\n    };\n  }\n\n  // The fileupload widget listens for change events on file input fields defined\n  // via fileInput setting and paste or drop events of the given dropZone.\n  // In addition to the default jQuery Widget methods, the fileupload widget\n  // exposes the \"add\" and \"send\" methods, to add or directly send files using\n  // the fileupload API.\n  // By default, files added via file input selection, paste, drag & drop or\n  // \"add\" method are uploaded immediately, but it is possible to override\n  // the \"add\" callback option to queue file uploads.\n  $.widget('blueimp.fileupload', {\n    options: {\n      // The drop target element(s), by the default the complete document.\n      // Set to null to disable drag & drop support:\n      dropZone: $(document),\n      // The paste target element(s), by the default undefined.\n      // Set to a DOM node or jQuery object to enable file pasting:\n      pasteZone: undefined,\n      // The file input field(s), that are listened to for change events.\n      // If undefined, it is set to the file input fields inside\n      // of the widget element on plugin initialization.\n      // Set to null to disable the change listener.\n      fileInput: undefined,\n      // By default, the file input field is replaced with a clone after\n      // each input field change event. This is required for iframe transport\n      // queues and allows change events to be fired for the same file\n      // selection, but can be disabled by setting the following option to false:\n      replaceFileInput: true,\n      // The parameter name for the file form data (the request argument name).\n      // If undefined or empty, the name property of the file input field is\n      // used, or \"files[]\" if the file input name property is also empty,\n      // can be a string or an array of strings:\n      paramName: undefined,\n      // By default, each file of a selection is uploaded using an individual\n      // request for XHR type uploads. Set to false to upload file\n      // selections in one request each:\n      singleFileUploads: true,\n      // To limit the number of files uploaded with one XHR request,\n      // set the following option to an integer greater than 0:\n      limitMultiFileUploads: undefined,\n      // The following option limits the number of files uploaded with one\n      // XHR request to keep the request size under or equal to the defined\n      // limit in bytes:\n      limitMultiFileUploadSize: undefined,\n      // Multipart file uploads add a number of bytes to each uploaded file,\n      // therefore the following option adds an overhead for each file used\n      // in the limitMultiFileUploadSize configuration:\n      limitMultiFileUploadSizeOverhead: 512,\n      // Set the following option to true to issue all file upload requests\n      // in a sequential order:\n      sequentialUploads: false,\n      // To limit the number of concurrent uploads,\n      // set the following option to an integer greater than 0:\n      limitConcurrentUploads: undefined,\n      // Set the following option to true to force iframe transport uploads:\n      forceIframeTransport: false,\n      // Set the following option to the location of a redirect url on the\n      // origin server, for cross-domain iframe transport uploads:\n      redirect: undefined,\n      // The parameter name for the redirect url, sent as part of the form\n      // data and set to 'redirect' if this option is empty:\n      redirectParamName: undefined,\n      // Set the following option to the location of a postMessage window,\n      // to enable postMessage transport uploads:\n      postMessage: undefined,\n      // By default, XHR file uploads are sent as multipart/form-data.\n      // The iframe transport is always using multipart/form-data.\n      // Set to false to enable non-multipart XHR uploads:\n      multipart: true,\n      // To upload large files in smaller chunks, set the following option\n      // to a preferred maximum chunk size. If set to 0, null or undefined,\n      // or the browser does not support the required Blob API, files will\n      // be uploaded as a whole.\n      maxChunkSize: undefined,\n      // When a non-multipart upload or a chunked multipart upload has been\n      // aborted, this option can be used to resume the upload by setting\n      // it to the size of the already uploaded bytes. This option is most\n      // useful when modifying the options object inside of the \"add\" or\n      // \"send\" callbacks, as the options are cloned for each file upload.\n      uploadedBytes: undefined,\n      // By default, failed (abort or error) file uploads are removed from the\n      // global progress calculation. Set the following option to false to\n      // prevent recalculating the global progress data:\n      recalculateProgress: true,\n      // Interval in milliseconds to calculate and trigger progress events:\n      progressInterval: 100,\n      // Interval in milliseconds to calculate progress bitrate:\n      bitrateInterval: 500,\n      // By default, uploads are started automatically when adding files:\n      autoUpload: true,\n      // By default, duplicate file names are expected to be handled on\n      // the server-side. If this is not possible (e.g. when uploading\n      // files directly to Amazon S3), the following option can be set to\n      // an empty object or an object mapping existing filenames, e.g.:\n      // { \"image.jpg\": true, \"image (1).jpg\": true }\n      // If it is set, all files will be uploaded with unique filenames,\n      // adding increasing number suffixes if necessary, e.g.:\n      // \"image (2).jpg\"\n      uniqueFilenames: undefined,\n\n      // Error and info messages:\n      messages: {\n        uploadedBytes: 'Uploaded bytes exceed file size'\n      },\n\n      // Translation function, gets the message key to be translated\n      // and an object with context specific data as arguments:\n      i18n: function (message, context) {\n        // eslint-disable-next-line no-param-reassign\n        message = this.messages[message] || message.toString();\n        if (context) {\n          $.each(context, function (key, value) {\n            // eslint-disable-next-line no-param-reassign\n            message = message.replace('{' + key + '}', value);\n          });\n        }\n        return message;\n      },\n\n      // Additional form data to be sent along with the file uploads can be set\n      // using this option, which accepts an array of objects with name and\n      // value properties, a function returning such an array, a FormData\n      // object (for XHR file uploads), or a simple object.\n      // The form of the first fileInput is given as parameter to the function:\n      formData: function (form) {\n        return form.serializeArray();\n      },\n\n      // The add callback is invoked as soon as files are added to the fileupload\n      // widget (via file input selection, drag & drop, paste or add API call).\n      // If the singleFileUploads option is enabled, this callback will be\n      // called once for each file in the selection for XHR file uploads, else\n      // once for each file selection.\n      //\n      // The upload starts when the submit method is invoked on the data parameter.\n      // The data object contains a files property holding the added files\n      // and allows you to override plugin options as well as define ajax settings.\n      //\n      // Listeners for this callback can also be bound the following way:\n      // .on('fileuploadadd', func);\n      //\n      // data.submit() returns a Promise object and allows to attach additional\n      // handlers using jQuery's Deferred callbacks:\n      // data.submit().done(func).fail(func).always(func);\n      add: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        if (\n          data.autoUpload ||\n          (data.autoUpload !== false &&\n            $(this).fileupload('option', 'autoUpload'))\n        ) {\n          data.process().done(function () {\n            data.submit();\n          });\n        }\n      },\n\n      // Other callbacks:\n\n      // Callback for the submit event of each file upload:\n      // submit: function (e, data) {}, // .on('fileuploadsubmit', func);\n\n      // Callback for the start of each file upload request:\n      // send: function (e, data) {}, // .on('fileuploadsend', func);\n\n      // Callback for successful uploads:\n      // done: function (e, data) {}, // .on('fileuploaddone', func);\n\n      // Callback for failed (abort or error) uploads:\n      // fail: function (e, data) {}, // .on('fileuploadfail', func);\n\n      // Callback for completed (success, abort or error) requests:\n      // always: function (e, data) {}, // .on('fileuploadalways', func);\n\n      // Callback for upload progress events:\n      // progress: function (e, data) {}, // .on('fileuploadprogress', func);\n\n      // Callback for global upload progress events:\n      // progressall: function (e, data) {}, // .on('fileuploadprogressall', func);\n\n      // Callback for uploads start, equivalent to the global ajaxStart event:\n      // start: function (e) {}, // .on('fileuploadstart', func);\n\n      // Callback for uploads stop, equivalent to the global ajaxStop event:\n      // stop: function (e) {}, // .on('fileuploadstop', func);\n\n      // Callback for change events of the fileInput(s):\n      // change: function (e, data) {}, // .on('fileuploadchange', func);\n\n      // Callback for paste events to the pasteZone(s):\n      // paste: function (e, data) {}, // .on('fileuploadpaste', func);\n\n      // Callback for drop events of the dropZone(s):\n      // drop: function (e, data) {}, // .on('fileuploaddrop', func);\n\n      // Callback for dragover events of the dropZone(s):\n      // dragover: function (e) {}, // .on('fileuploaddragover', func);\n\n      // Callback before the start of each chunk upload request (before form data initialization):\n      // chunkbeforesend: function (e, data) {}, // .on('fileuploadchunkbeforesend', func);\n\n      // Callback for the start of each chunk upload request:\n      // chunksend: function (e, data) {}, // .on('fileuploadchunksend', func);\n\n      // Callback for successful chunk uploads:\n      // chunkdone: function (e, data) {}, // .on('fileuploadchunkdone', func);\n\n      // Callback for failed (abort or error) chunk uploads:\n      // chunkfail: function (e, data) {}, // .on('fileuploadchunkfail', func);\n\n      // Callback for completed (success, abort or error) chunk upload requests:\n      // chunkalways: function (e, data) {}, // .on('fileuploadchunkalways', func);\n\n      // The plugin options are used as settings object for the ajax calls.\n      // The following are jQuery ajax settings required for the file uploads:\n      processData: false,\n      contentType: false,\n      cache: false,\n      timeout: 0\n    },\n\n    // jQuery versions before 1.8 require promise.pipe if the return value is\n    // used, as promise.then in older versions has a different behavior, see:\n    // https://blog.jquery.com/2012/08/09/jquery-1-8-released/\n    // https://bugs.jquery.com/ticket/11010\n    // https://github.com/blueimp/jQuery-File-Upload/pull/3435\n    _promisePipe: (function () {\n      var parts = $.fn.jquery.split('.');\n      return Number(parts[0]) > 1 || Number(parts[1]) > 7 ? 'then' : 'pipe';\n    })(),\n\n    // A list of options that require reinitializing event listeners and/or\n    // special initialization code:\n    _specialOptions: [\n      'fileInput',\n      'dropZone',\n      'pasteZone',\n      'multipart',\n      'forceIframeTransport'\n    ],\n\n    _blobSlice:\n      $.support.blobSlice &&\n      function () {\n        var slice = this.slice || this.webkitSlice || this.mozSlice;\n        return slice.apply(this, arguments);\n      },\n\n    _BitrateTimer: function () {\n      this.timestamp = Date.now ? Date.now() : new Date().getTime();\n      this.loaded = 0;\n      this.bitrate = 0;\n      this.getBitrate = function (now, loaded, interval) {\n        var timeDiff = now - this.timestamp;\n        if (!this.bitrate || !interval || timeDiff > interval) {\n          this.bitrate = (loaded - this.loaded) * (1000 / timeDiff) * 8;\n          this.loaded = loaded;\n          this.timestamp = now;\n        }\n        return this.bitrate;\n      };\n    },\n\n    _isXHRUpload: function (options) {\n      return (\n        !options.forceIframeTransport &&\n        ((!options.multipart && $.support.xhrFileUpload) ||\n          $.support.xhrFormDataFileUpload)\n      );\n    },\n\n    _getFormData: function (options) {\n      var formData;\n      if ($.type(options.formData) === 'function') {\n        return options.formData(options.form);\n      }\n      if ($.isArray(options.formData)) {\n        return options.formData;\n      }\n      if ($.type(options.formData) === 'object') {\n        formData = [];\n        $.each(options.formData, function (name, value) {\n          formData.push({ name: name, value: value });\n        });\n        return formData;\n      }\n      return [];\n    },\n\n    _getTotal: function (files) {\n      var total = 0;\n      $.each(files, function (index, file) {\n        total += file.size || 1;\n      });\n      return total;\n    },\n\n    _initProgressObject: function (obj) {\n      var progress = {\n        loaded: 0,\n        total: 0,\n        bitrate: 0\n      };\n      if (obj._progress) {\n        $.extend(obj._progress, progress);\n      } else {\n        obj._progress = progress;\n      }\n    },\n\n    _initResponseObject: function (obj) {\n      var prop;\n      if (obj._response) {\n        for (prop in obj._response) {\n          if (Object.prototype.hasOwnProperty.call(obj._response, prop)) {\n            delete obj._response[prop];\n          }\n        }\n      } else {\n        obj._response = {};\n      }\n    },\n\n    _onProgress: function (e, data) {\n      if (e.lengthComputable) {\n        var now = Date.now ? Date.now() : new Date().getTime(),\n          loaded;\n        if (\n          data._time &&\n          data.progressInterval &&\n          now - data._time < data.progressInterval &&\n          e.loaded !== e.total\n        ) {\n          return;\n        }\n        data._time = now;\n        loaded =\n          Math.floor(\n            (e.loaded / e.total) * (data.chunkSize || data._progress.total)\n          ) + (data.uploadedBytes || 0);\n        // Add the difference from the previously loaded state\n        // to the global loaded counter:\n        this._progress.loaded += loaded - data._progress.loaded;\n        this._progress.bitrate = this._bitrateTimer.getBitrate(\n          now,\n          this._progress.loaded,\n          data.bitrateInterval\n        );\n        data._progress.loaded = data.loaded = loaded;\n        data._progress.bitrate = data.bitrate = data._bitrateTimer.getBitrate(\n          now,\n          loaded,\n          data.bitrateInterval\n        );\n        // Trigger a custom progress event with a total data property set\n        // to the file size(s) of the current upload and a loaded data\n        // property calculated accordingly:\n        this._trigger(\n          'progress',\n          $.Event('progress', { delegatedEvent: e }),\n          data\n        );\n        // Trigger a global progress event for all current file uploads,\n        // including ajax calls queued for sequential file uploads:\n        this._trigger(\n          'progressall',\n          $.Event('progressall', { delegatedEvent: e }),\n          this._progress\n        );\n      }\n    },\n\n    _initProgressListener: function (options) {\n      var that = this,\n        xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr();\n      // Accesss to the native XHR object is required to add event listeners\n      // for the upload progress event:\n      if (xhr.upload) {\n        $(xhr.upload).on('progress', function (e) {\n          var oe = e.originalEvent;\n          // Make sure the progress event properties get copied over:\n          e.lengthComputable = oe.lengthComputable;\n          e.loaded = oe.loaded;\n          e.total = oe.total;\n          that._onProgress(e, options);\n        });\n        options.xhr = function () {\n          return xhr;\n        };\n      }\n    },\n\n    _deinitProgressListener: function (options) {\n      var xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr();\n      if (xhr.upload) {\n        $(xhr.upload).off('progress');\n      }\n    },\n\n    _isInstanceOf: function (type, obj) {\n      // Cross-frame instanceof check\n      return Object.prototype.toString.call(obj) === '[object ' + type + ']';\n    },\n\n    _getUniqueFilename: function (name, map) {\n      // eslint-disable-next-line no-param-reassign\n      name = String(name);\n      if (map[name]) {\n        // eslint-disable-next-line no-param-reassign\n        name = name.replace(/(?: \\(([\\d]+)\\))?(\\.[^.]+)?$/, function (\n          _,\n          p1,\n          p2\n        ) {\n          var index = p1 ? Number(p1) + 1 : 1;\n          var ext = p2 || '';\n          return ' (' + index + ')' + ext;\n        });\n        return this._getUniqueFilename(name, map);\n      }\n      map[name] = true;\n      return name;\n    },\n\n    _initXHRData: function (options) {\n      var that = this,\n        formData,\n        file = options.files[0],\n        // Ignore non-multipart setting if not supported:\n        multipart = options.multipart || !$.support.xhrFileUpload,\n        paramName =\n          $.type(options.paramName) === 'array'\n            ? options.paramName[0]\n            : options.paramName;\n      options.headers = $.extend({}, options.headers);\n      if (options.contentRange) {\n        options.headers['Content-Range'] = options.contentRange;\n      }\n      if (!multipart || options.blob || !this._isInstanceOf('File', file)) {\n        options.headers['Content-Disposition'] =\n          'attachment; filename=\"' +\n          encodeURI(file.uploadName || file.name) +\n          '\"';\n      }\n      if (!multipart) {\n        options.contentType = file.type || 'application/octet-stream';\n        options.data = options.blob || file;\n      } else if ($.support.xhrFormDataFileUpload) {\n        if (options.postMessage) {\n          // window.postMessage does not allow sending FormData\n          // objects, so we just add the File/Blob objects to\n          // the formData array and let the postMessage window\n          // create the FormData object out of this array:\n          formData = this._getFormData(options);\n          if (options.blob) {\n            formData.push({\n              name: paramName,\n              value: options.blob\n            });\n          } else {\n            $.each(options.files, function (index, file) {\n              formData.push({\n                name:\n                  ($.type(options.paramName) === 'array' &&\n                    options.paramName[index]) ||\n                  paramName,\n                value: file\n              });\n            });\n          }\n        } else {\n          if (that._isInstanceOf('FormData', options.formData)) {\n            formData = options.formData;\n          } else {\n            formData = new FormData();\n            $.each(this._getFormData(options), function (index, field) {\n              formData.append(field.name, field.value);\n            });\n          }\n          if (options.blob) {\n            formData.append(\n              paramName,\n              options.blob,\n              file.uploadName || file.name\n            );\n          } else {\n            $.each(options.files, function (index, file) {\n              // This check allows the tests to run with\n              // dummy objects:\n              if (\n                that._isInstanceOf('File', file) ||\n                that._isInstanceOf('Blob', file)\n              ) {\n                var fileName = file.uploadName || file.name;\n                if (options.uniqueFilenames) {\n                  fileName = that._getUniqueFilename(\n                    fileName,\n                    options.uniqueFilenames\n                  );\n                }\n                formData.append(\n                  ($.type(options.paramName) === 'array' &&\n                    options.paramName[index]) ||\n                    paramName,\n                  file,\n                  fileName\n                );\n              }\n            });\n          }\n        }\n        options.data = formData;\n      }\n      // Blob reference is not needed anymore, free memory:\n      options.blob = null;\n    },\n\n    _initIframeSettings: function (options) {\n      var targetHost = $('<a></a>').prop('href', options.url).prop('host');\n      // Setting the dataType to iframe enables the iframe transport:\n      options.dataType = 'iframe ' + (options.dataType || '');\n      // The iframe transport accepts a serialized array as form data:\n      options.formData = this._getFormData(options);\n      // Add redirect url to form data on cross-domain uploads:\n      if (options.redirect && targetHost && targetHost !== location.host) {\n        options.formData.push({\n          name: options.redirectParamName || 'redirect',\n          value: options.redirect\n        });\n      }\n    },\n\n    _initDataSettings: function (options) {\n      if (this._isXHRUpload(options)) {\n        if (!this._chunkedUpload(options, true)) {\n          if (!options.data) {\n            this._initXHRData(options);\n          }\n          this._initProgressListener(options);\n        }\n        if (options.postMessage) {\n          // Setting the dataType to postmessage enables the\n          // postMessage transport:\n          options.dataType = 'postmessage ' + (options.dataType || '');\n        }\n      } else {\n        this._initIframeSettings(options);\n      }\n    },\n\n    _getParamName: function (options) {\n      var fileInput = $(options.fileInput),\n        paramName = options.paramName;\n      if (!paramName) {\n        paramName = [];\n        fileInput.each(function () {\n          var input = $(this),\n            name = input.prop('name') || 'files[]',\n            i = (input.prop('files') || [1]).length;\n          while (i) {\n            paramName.push(name);\n            i -= 1;\n          }\n        });\n        if (!paramName.length) {\n          paramName = [fileInput.prop('name') || 'files[]'];\n        }\n      } else if (!$.isArray(paramName)) {\n        paramName = [paramName];\n      }\n      return paramName;\n    },\n\n    _initFormSettings: function (options) {\n      // Retrieve missing options from the input field and the\n      // associated form, if available:\n      if (!options.form || !options.form.length) {\n        options.form = $(options.fileInput.prop('form'));\n        // If the given file input doesn't have an associated form,\n        // use the default widget file input's form:\n        if (!options.form.length) {\n          options.form = $(this.options.fileInput.prop('form'));\n        }\n      }\n      options.paramName = this._getParamName(options);\n      if (!options.url) {\n        options.url = options.form.prop('action') || location.href;\n      }\n      // The HTTP request method must be \"POST\" or \"PUT\":\n      options.type = (\n        options.type ||\n        ($.type(options.form.prop('method')) === 'string' &&\n          options.form.prop('method')) ||\n        ''\n      ).toUpperCase();\n      if (\n        options.type !== 'POST' &&\n        options.type !== 'PUT' &&\n        options.type !== 'PATCH'\n      ) {\n        options.type = 'POST';\n      }\n      if (!options.formAcceptCharset) {\n        options.formAcceptCharset = options.form.attr('accept-charset');\n      }\n    },\n\n    _getAJAXSettings: function (data) {\n      var options = $.extend({}, this.options, data);\n      this._initFormSettings(options);\n      this._initDataSettings(options);\n      return options;\n    },\n\n    // jQuery 1.6 doesn't provide .state(),\n    // while jQuery 1.8+ removed .isRejected() and .isResolved():\n    _getDeferredState: function (deferred) {\n      if (deferred.state) {\n        return deferred.state();\n      }\n      if (deferred.isResolved()) {\n        return 'resolved';\n      }\n      if (deferred.isRejected()) {\n        return 'rejected';\n      }\n      return 'pending';\n    },\n\n    // Maps jqXHR callbacks to the equivalent\n    // methods of the given Promise object:\n    _enhancePromise: function (promise) {\n      promise.success = promise.done;\n      promise.error = promise.fail;\n      promise.complete = promise.always;\n      return promise;\n    },\n\n    // Creates and returns a Promise object enhanced with\n    // the jqXHR methods abort, success, error and complete:\n    _getXHRPromise: function (resolveOrReject, context, args) {\n      var dfd = $.Deferred(),\n        promise = dfd.promise();\n      // eslint-disable-next-line no-param-reassign\n      context = context || this.options.context || promise;\n      if (resolveOrReject === true) {\n        dfd.resolveWith(context, args);\n      } else if (resolveOrReject === false) {\n        dfd.rejectWith(context, args);\n      }\n      promise.abort = dfd.promise;\n      return this._enhancePromise(promise);\n    },\n\n    // Adds convenience methods to the data callback argument:\n    _addConvenienceMethods: function (e, data) {\n      var that = this,\n        getPromise = function (args) {\n          return $.Deferred().resolveWith(that, args).promise();\n        };\n      data.process = function (resolveFunc, rejectFunc) {\n        if (resolveFunc || rejectFunc) {\n          data._processQueue = this._processQueue = (this._processQueue ||\n            getPromise([this]))\n            [that._promisePipe](function () {\n              if (data.errorThrown) {\n                return $.Deferred().rejectWith(that, [data]).promise();\n              }\n              return getPromise(arguments);\n            })\n            [that._promisePipe](resolveFunc, rejectFunc);\n        }\n        return this._processQueue || getPromise([this]);\n      };\n      data.submit = function () {\n        if (this.state() !== 'pending') {\n          data.jqXHR = this.jqXHR =\n            that._trigger(\n              'submit',\n              $.Event('submit', { delegatedEvent: e }),\n              this\n            ) !== false && that._onSend(e, this);\n        }\n        return this.jqXHR || that._getXHRPromise();\n      };\n      data.abort = function () {\n        if (this.jqXHR) {\n          return this.jqXHR.abort();\n        }\n        this.errorThrown = 'abort';\n        that._trigger('fail', null, this);\n        return that._getXHRPromise(false);\n      };\n      data.state = function () {\n        if (this.jqXHR) {\n          return that._getDeferredState(this.jqXHR);\n        }\n        if (this._processQueue) {\n          return that._getDeferredState(this._processQueue);\n        }\n      };\n      data.processing = function () {\n        return (\n          !this.jqXHR &&\n          this._processQueue &&\n          that._getDeferredState(this._processQueue) === 'pending'\n        );\n      };\n      data.progress = function () {\n        return this._progress;\n      };\n      data.response = function () {\n        return this._response;\n      };\n    },\n\n    // Parses the Range header from the server response\n    // and returns the uploaded bytes:\n    _getUploadedBytes: function (jqXHR) {\n      var range = jqXHR.getResponseHeader('Range'),\n        parts = range && range.split('-'),\n        upperBytesPos = parts && parts.length > 1 && parseInt(parts[1], 10);\n      return upperBytesPos && upperBytesPos + 1;\n    },\n\n    // Uploads a file in multiple, sequential requests\n    // by splitting the file up in multiple blob chunks.\n    // If the second parameter is true, only tests if the file\n    // should be uploaded in chunks, but does not invoke any\n    // upload requests:\n    _chunkedUpload: function (options, testOnly) {\n      options.uploadedBytes = options.uploadedBytes || 0;\n      var that = this,\n        file = options.files[0],\n        fs = file.size,\n        ub = options.uploadedBytes,\n        mcs = options.maxChunkSize || fs,\n        slice = this._blobSlice,\n        dfd = $.Deferred(),\n        promise = dfd.promise(),\n        jqXHR,\n        upload;\n      if (\n        !(\n          this._isXHRUpload(options) &&\n          slice &&\n          (ub || ($.type(mcs) === 'function' ? mcs(options) : mcs) < fs)\n        ) ||\n        options.data\n      ) {\n        return false;\n      }\n      if (testOnly) {\n        return true;\n      }\n      if (ub >= fs) {\n        file.error = options.i18n('uploadedBytes');\n        return this._getXHRPromise(false, options.context, [\n          null,\n          'error',\n          file.error\n        ]);\n      }\n      // The chunk upload method:\n      upload = function () {\n        // Clone the options object for each chunk upload:\n        var o = $.extend({}, options),\n          currentLoaded = o._progress.loaded;\n        o.blob = slice.call(\n          file,\n          ub,\n          ub + ($.type(mcs) === 'function' ? mcs(o) : mcs),\n          file.type\n        );\n        // Store the current chunk size, as the blob itself\n        // will be dereferenced after data processing:\n        o.chunkSize = o.blob.size;\n        // Expose the chunk bytes position range:\n        o.contentRange =\n          'bytes ' + ub + '-' + (ub + o.chunkSize - 1) + '/' + fs;\n        // Trigger chunkbeforesend to allow form data to be updated for this chunk\n        that._trigger('chunkbeforesend', null, o);\n        // Process the upload data (the blob and potential form data):\n        that._initXHRData(o);\n        // Add progress listeners for this chunk upload:\n        that._initProgressListener(o);\n        jqXHR = (\n          (that._trigger('chunksend', null, o) !== false && $.ajax(o)) ||\n          that._getXHRPromise(false, o.context)\n        )\n          .done(function (result, textStatus, jqXHR) {\n            ub = that._getUploadedBytes(jqXHR) || ub + o.chunkSize;\n            // Create a progress event if no final progress event\n            // with loaded equaling total has been triggered\n            // for this chunk:\n            if (currentLoaded + o.chunkSize - o._progress.loaded) {\n              that._onProgress(\n                $.Event('progress', {\n                  lengthComputable: true,\n                  loaded: ub - o.uploadedBytes,\n                  total: ub - o.uploadedBytes\n                }),\n                o\n              );\n            }\n            options.uploadedBytes = o.uploadedBytes = ub;\n            o.result = result;\n            o.textStatus = textStatus;\n            o.jqXHR = jqXHR;\n            that._trigger('chunkdone', null, o);\n            that._trigger('chunkalways', null, o);\n            if (ub < fs) {\n              // File upload not yet complete,\n              // continue with the next chunk:\n              upload();\n            } else {\n              dfd.resolveWith(o.context, [result, textStatus, jqXHR]);\n            }\n          })\n          .fail(function (jqXHR, textStatus, errorThrown) {\n            o.jqXHR = jqXHR;\n            o.textStatus = textStatus;\n            o.errorThrown = errorThrown;\n            that._trigger('chunkfail', null, o);\n            that._trigger('chunkalways', null, o);\n            dfd.rejectWith(o.context, [jqXHR, textStatus, errorThrown]);\n          })\n          .always(function () {\n            that._deinitProgressListener(o);\n          });\n      };\n      this._enhancePromise(promise);\n      promise.abort = function () {\n        return jqXHR.abort();\n      };\n      upload();\n      return promise;\n    },\n\n    _beforeSend: function (e, data) {\n      if (this._active === 0) {\n        // the start callback is triggered when an upload starts\n        // and no other uploads are currently running,\n        // equivalent to the global ajaxStart event:\n        this._trigger('start');\n        // Set timer for global bitrate progress calculation:\n        this._bitrateTimer = new this._BitrateTimer();\n        // Reset the global progress values:\n        this._progress.loaded = this._progress.total = 0;\n        this._progress.bitrate = 0;\n      }\n      // Make sure the container objects for the .response() and\n      // .progress() methods on the data object are available\n      // and reset to their initial state:\n      this._initResponseObject(data);\n      this._initProgressObject(data);\n      data._progress.loaded = data.loaded = data.uploadedBytes || 0;\n      data._progress.total = data.total = this._getTotal(data.files) || 1;\n      data._progress.bitrate = data.bitrate = 0;\n      this._active += 1;\n      // Initialize the global progress values:\n      this._progress.loaded += data.loaded;\n      this._progress.total += data.total;\n    },\n\n    _onDone: function (result, textStatus, jqXHR, options) {\n      var total = options._progress.total,\n        response = options._response;\n      if (options._progress.loaded < total) {\n        // Create a progress event if no final progress event\n        // with loaded equaling total has been triggered:\n        this._onProgress(\n          $.Event('progress', {\n            lengthComputable: true,\n            loaded: total,\n            total: total\n          }),\n          options\n        );\n      }\n      response.result = options.result = result;\n      response.textStatus = options.textStatus = textStatus;\n      response.jqXHR = options.jqXHR = jqXHR;\n      this._trigger('done', null, options);\n    },\n\n    _onFail: function (jqXHR, textStatus, errorThrown, options) {\n      var response = options._response;\n      if (options.recalculateProgress) {\n        // Remove the failed (error or abort) file upload from\n        // the global progress calculation:\n        this._progress.loaded -= options._progress.loaded;\n        this._progress.total -= options._progress.total;\n      }\n      response.jqXHR = options.jqXHR = jqXHR;\n      response.textStatus = options.textStatus = textStatus;\n      response.errorThrown = options.errorThrown = errorThrown;\n      this._trigger('fail', null, options);\n    },\n\n    _onAlways: function (jqXHRorResult, textStatus, jqXHRorError, options) {\n      // jqXHRorResult, textStatus and jqXHRorError are added to the\n      // options object via done and fail callbacks\n      this._trigger('always', null, options);\n    },\n\n    _onSend: function (e, data) {\n      if (!data.submit) {\n        this._addConvenienceMethods(e, data);\n      }\n      var that = this,\n        jqXHR,\n        aborted,\n        slot,\n        pipe,\n        options = that._getAJAXSettings(data),\n        send = function () {\n          that._sending += 1;\n          // Set timer for bitrate progress calculation:\n          options._bitrateTimer = new that._BitrateTimer();\n          jqXHR =\n            jqXHR ||\n            (\n              ((aborted ||\n                that._trigger(\n                  'send',\n                  $.Event('send', { delegatedEvent: e }),\n                  options\n                ) === false) &&\n                that._getXHRPromise(false, options.context, aborted)) ||\n              that._chunkedUpload(options) ||\n              $.ajax(options)\n            )\n              .done(function (result, textStatus, jqXHR) {\n                that._onDone(result, textStatus, jqXHR, options);\n              })\n              .fail(function (jqXHR, textStatus, errorThrown) {\n                that._onFail(jqXHR, textStatus, errorThrown, options);\n              })\n              .always(function (jqXHRorResult, textStatus, jqXHRorError) {\n                that._deinitProgressListener(options);\n                that._onAlways(\n                  jqXHRorResult,\n                  textStatus,\n                  jqXHRorError,\n                  options\n                );\n                that._sending -= 1;\n                that._active -= 1;\n                if (\n                  options.limitConcurrentUploads &&\n                  options.limitConcurrentUploads > that._sending\n                ) {\n                  // Start the next queued upload,\n                  // that has not been aborted:\n                  var nextSlot = that._slots.shift();\n                  while (nextSlot) {\n                    if (that._getDeferredState(nextSlot) === 'pending') {\n                      nextSlot.resolve();\n                      break;\n                    }\n                    nextSlot = that._slots.shift();\n                  }\n                }\n                if (that._active === 0) {\n                  // The stop callback is triggered when all uploads have\n                  // been completed, equivalent to the global ajaxStop event:\n                  that._trigger('stop');\n                }\n              });\n          return jqXHR;\n        };\n      this._beforeSend(e, options);\n      if (\n        this.options.sequentialUploads ||\n        (this.options.limitConcurrentUploads &&\n          this.options.limitConcurrentUploads <= this._sending)\n      ) {\n        if (this.options.limitConcurrentUploads > 1) {\n          slot = $.Deferred();\n          this._slots.push(slot);\n          pipe = slot[that._promisePipe](send);\n        } else {\n          this._sequence = this._sequence[that._promisePipe](send, send);\n          pipe = this._sequence;\n        }\n        // Return the piped Promise object, enhanced with an abort method,\n        // which is delegated to the jqXHR object of the current upload,\n        // and jqXHR callbacks mapped to the equivalent Promise methods:\n        pipe.abort = function () {\n          aborted = [undefined, 'abort', 'abort'];\n          if (!jqXHR) {\n            if (slot) {\n              slot.rejectWith(options.context, aborted);\n            }\n            return send();\n          }\n          return jqXHR.abort();\n        };\n        return this._enhancePromise(pipe);\n      }\n      return send();\n    },\n\n    _onAdd: function (e, data) {\n      var that = this,\n        result = true,\n        options = $.extend({}, this.options, data),\n        files = data.files,\n        filesLength = files.length,\n        limit = options.limitMultiFileUploads,\n        limitSize = options.limitMultiFileUploadSize,\n        overhead = options.limitMultiFileUploadSizeOverhead,\n        batchSize = 0,\n        paramName = this._getParamName(options),\n        paramNameSet,\n        paramNameSlice,\n        fileSet,\n        i,\n        j = 0;\n      if (!filesLength) {\n        return false;\n      }\n      if (limitSize && files[0].size === undefined) {\n        limitSize = undefined;\n      }\n      if (\n        !(options.singleFileUploads || limit || limitSize) ||\n        !this._isXHRUpload(options)\n      ) {\n        fileSet = [files];\n        paramNameSet = [paramName];\n      } else if (!(options.singleFileUploads || limitSize) && limit) {\n        fileSet = [];\n        paramNameSet = [];\n        for (i = 0; i < filesLength; i += limit) {\n          fileSet.push(files.slice(i, i + limit));\n          paramNameSlice = paramName.slice(i, i + limit);\n          if (!paramNameSlice.length) {\n            paramNameSlice = paramName;\n          }\n          paramNameSet.push(paramNameSlice);\n        }\n      } else if (!options.singleFileUploads && limitSize) {\n        fileSet = [];\n        paramNameSet = [];\n        for (i = 0; i < filesLength; i = i + 1) {\n          batchSize += files[i].size + overhead;\n          if (\n            i + 1 === filesLength ||\n            batchSize + files[i + 1].size + overhead > limitSize ||\n            (limit && i + 1 - j >= limit)\n          ) {\n            fileSet.push(files.slice(j, i + 1));\n            paramNameSlice = paramName.slice(j, i + 1);\n            if (!paramNameSlice.length) {\n              paramNameSlice = paramName;\n            }\n            paramNameSet.push(paramNameSlice);\n            j = i + 1;\n            batchSize = 0;\n          }\n        }\n      } else {\n        paramNameSet = paramName;\n      }\n      data.originalFiles = files;\n      $.each(fileSet || files, function (index, element) {\n        var newData = $.extend({}, data);\n        newData.files = fileSet ? element : [element];\n        newData.paramName = paramNameSet[index];\n        that._initResponseObject(newData);\n        that._initProgressObject(newData);\n        that._addConvenienceMethods(e, newData);\n        result = that._trigger(\n          'add',\n          $.Event('add', { delegatedEvent: e }),\n          newData\n        );\n        return result;\n      });\n      return result;\n    },\n\n    _replaceFileInput: function (data) {\n      var input = data.fileInput,\n        inputClone = input.clone(true),\n        restoreFocus = input.is(document.activeElement);\n      // Add a reference for the new cloned file input to the data argument:\n      data.fileInputClone = inputClone;\n      $('<form></form>').append(inputClone)[0].reset();\n      // Detaching allows to insert the fileInput on another form\n      // without loosing the file input value:\n      input.after(inputClone).detach();\n      // If the fileInput had focus before it was detached,\n      // restore focus to the inputClone.\n      if (restoreFocus) {\n        inputClone.trigger('focus');\n      }\n      // Avoid memory leaks with the detached file input:\n      $.cleanData(input.off('remove'));\n      // Replace the original file input element in the fileInput\n      // elements set with the clone, which has been copied including\n      // event handlers:\n      this.options.fileInput = this.options.fileInput.map(function (i, el) {\n        if (el === input[0]) {\n          return inputClone[0];\n        }\n        return el;\n      });\n      // If the widget has been initialized on the file input itself,\n      // override this.element with the file input clone:\n      if (input[0] === this.element[0]) {\n        this.element = inputClone;\n      }\n    },\n\n    _handleFileTreeEntry: function (entry, path) {\n      var that = this,\n        dfd = $.Deferred(),\n        entries = [],\n        dirReader,\n        errorHandler = function (e) {\n          if (e && !e.entry) {\n            e.entry = entry;\n          }\n          // Since $.when returns immediately if one\n          // Deferred is rejected, we use resolve instead.\n          // This allows valid files and invalid items\n          // to be returned together in one set:\n          dfd.resolve([e]);\n        },\n        successHandler = function (entries) {\n          that\n            ._handleFileTreeEntries(entries, path + entry.name + '/')\n            .done(function (files) {\n              dfd.resolve(files);\n            })\n            .fail(errorHandler);\n        },\n        readEntries = function () {\n          dirReader.readEntries(function (results) {\n            if (!results.length) {\n              successHandler(entries);\n            } else {\n              entries = entries.concat(results);\n              readEntries();\n            }\n          }, errorHandler);\n        };\n      // eslint-disable-next-line no-param-reassign\n      path = path || '';\n      if (entry.isFile) {\n        if (entry._file) {\n          // Workaround for Chrome bug #149735\n          entry._file.relativePath = path;\n          dfd.resolve(entry._file);\n        } else {\n          entry.file(function (file) {\n            file.relativePath = path;\n            dfd.resolve(file);\n          }, errorHandler);\n        }\n      } else if (entry.isDirectory) {\n        dirReader = entry.createReader();\n        readEntries();\n      } else {\n        // Return an empty list for file system items\n        // other than files or directories:\n        dfd.resolve([]);\n      }\n      return dfd.promise();\n    },\n\n    _handleFileTreeEntries: function (entries, path) {\n      var that = this;\n      return $.when\n        .apply(\n          $,\n          $.map(entries, function (entry) {\n            return that._handleFileTreeEntry(entry, path);\n          })\n        )\n        [this._promisePipe](function () {\n          return Array.prototype.concat.apply([], arguments);\n        });\n    },\n\n    _getDroppedFiles: function (dataTransfer) {\n      // eslint-disable-next-line no-param-reassign\n      dataTransfer = dataTransfer || {};\n      var items = dataTransfer.items;\n      if (\n        items &&\n        items.length &&\n        (items[0].webkitGetAsEntry || items[0].getAsEntry)\n      ) {\n        return this._handleFileTreeEntries(\n          $.map(items, function (item) {\n            var entry;\n            if (item.webkitGetAsEntry) {\n              entry = item.webkitGetAsEntry();\n              if (entry) {\n                // Workaround for Chrome bug #149735:\n                entry._file = item.getAsFile();\n              }\n              return entry;\n            }\n            return item.getAsEntry();\n          })\n        );\n      }\n      return $.Deferred().resolve($.makeArray(dataTransfer.files)).promise();\n    },\n\n    _getSingleFileInputFiles: function (fileInput) {\n      // eslint-disable-next-line no-param-reassign\n      fileInput = $(fileInput);\n      var entries =\n          fileInput.prop('webkitEntries') || fileInput.prop('entries'),\n        files,\n        value;\n      if (entries && entries.length) {\n        return this._handleFileTreeEntries(entries);\n      }\n      files = $.makeArray(fileInput.prop('files'));\n      if (!files.length) {\n        value = fileInput.prop('value');\n        if (!value) {\n          return $.Deferred().resolve([]).promise();\n        }\n        // If the files property is not available, the browser does not\n        // support the File API and we add a pseudo File object with\n        // the input value as name with path information removed:\n        files = [{ name: value.replace(/^.*\\\\/, '') }];\n      } else if (files[0].name === undefined && files[0].fileName) {\n        // File normalization for Safari 4 and Firefox 3:\n        $.each(files, function (index, file) {\n          file.name = file.fileName;\n          file.size = file.fileSize;\n        });\n      }\n      return $.Deferred().resolve(files).promise();\n    },\n\n    _getFileInputFiles: function (fileInput) {\n      if (!(fileInput instanceof $) || fileInput.length === 1) {\n        return this._getSingleFileInputFiles(fileInput);\n      }\n      return $.when\n        .apply($, $.map(fileInput, this._getSingleFileInputFiles))\n        [this._promisePipe](function () {\n          return Array.prototype.concat.apply([], arguments);\n        });\n    },\n\n    _onChange: function (e) {\n      var that = this,\n        data = {\n          fileInput: $(e.target),\n          form: $(e.target.form)\n        };\n      this._getFileInputFiles(data.fileInput).always(function (files) {\n        data.files = files;\n        if (that.options.replaceFileInput) {\n          that._replaceFileInput(data);\n        }\n        if (\n          that._trigger(\n            'change',\n            $.Event('change', { delegatedEvent: e }),\n            data\n          ) !== false\n        ) {\n          that._onAdd(e, data);\n        }\n      });\n    },\n\n    _onPaste: function (e) {\n      var items =\n          e.originalEvent &&\n          e.originalEvent.clipboardData &&\n          e.originalEvent.clipboardData.items,\n        data = { files: [] };\n      if (items && items.length) {\n        $.each(items, function (index, item) {\n          var file = item.getAsFile && item.getAsFile();\n          if (file) {\n            data.files.push(file);\n          }\n        });\n        if (\n          this._trigger(\n            'paste',\n            $.Event('paste', { delegatedEvent: e }),\n            data\n          ) !== false\n        ) {\n          this._onAdd(e, data);\n        }\n      }\n    },\n\n    _onDrop: function (e) {\n      e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;\n      var that = this,\n        dataTransfer = e.dataTransfer,\n        data = {};\n      if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\n        e.preventDefault();\n        this._getDroppedFiles(dataTransfer).always(function (files) {\n          data.files = files;\n          if (\n            that._trigger(\n              'drop',\n              $.Event('drop', { delegatedEvent: e }),\n              data\n            ) !== false\n          ) {\n            that._onAdd(e, data);\n          }\n        });\n      }\n    },\n\n    _onDragOver: getDragHandler('dragover'),\n\n    _onDragEnter: getDragHandler('dragenter'),\n\n    _onDragLeave: getDragHandler('dragleave'),\n\n    _initEventHandlers: function () {\n      if (this._isXHRUpload(this.options)) {\n        this._on(this.options.dropZone, {\n          dragover: this._onDragOver,\n          drop: this._onDrop,\n          // event.preventDefault() on dragenter is required for IE10+:\n          dragenter: this._onDragEnter,\n          // dragleave is not required, but added for completeness:\n          dragleave: this._onDragLeave\n        });\n        this._on(this.options.pasteZone, {\n          paste: this._onPaste\n        });\n      }\n      if ($.support.fileInput) {\n        this._on(this.options.fileInput, {\n          change: this._onChange\n        });\n      }\n    },\n\n    _destroyEventHandlers: function () {\n      this._off(this.options.dropZone, 'dragenter dragleave dragover drop');\n      this._off(this.options.pasteZone, 'paste');\n      this._off(this.options.fileInput, 'change');\n    },\n\n    _destroy: function () {\n      this._destroyEventHandlers();\n    },\n\n    _setOption: function (key, value) {\n      var reinit = $.inArray(key, this._specialOptions) !== -1;\n      if (reinit) {\n        this._destroyEventHandlers();\n      }\n      this._super(key, value);\n      if (reinit) {\n        this._initSpecialOptions();\n        this._initEventHandlers();\n      }\n    },\n\n    _initSpecialOptions: function () {\n      var options = this.options;\n      if (options.fileInput === undefined) {\n        options.fileInput = this.element.is('input[type=\"file\"]')\n          ? this.element\n          : this.element.find('input[type=\"file\"]');\n      } else if (!(options.fileInput instanceof $)) {\n        options.fileInput = $(options.fileInput);\n      }\n      if (!(options.dropZone instanceof $)) {\n        options.dropZone = $(options.dropZone);\n      }\n      if (!(options.pasteZone instanceof $)) {\n        options.pasteZone = $(options.pasteZone);\n      }\n    },\n\n    _getRegExp: function (str) {\n      var parts = str.split('/'),\n        modifiers = parts.pop();\n      parts.shift();\n      return new RegExp(parts.join('/'), modifiers);\n    },\n\n    _isRegExpOption: function (key, value) {\n      return (\n        key !== 'url' &&\n        $.type(value) === 'string' &&\n        /^\\/.*\\/[igm]{0,3}$/.test(value)\n      );\n    },\n\n    _initDataAttributes: function () {\n      var that = this,\n        options = this.options,\n        data = this.element.data();\n      // Initialize options set via HTML5 data-attributes:\n      $.each(this.element[0].attributes, function (index, attr) {\n        var key = attr.name.toLowerCase(),\n          value;\n        if (/^data-/.test(key)) {\n          // Convert hyphen-ated key to camelCase:\n          key = key.slice(5).replace(/-[a-z]/g, function (str) {\n            return str.charAt(1).toUpperCase();\n          });\n          value = data[key];\n          if (that._isRegExpOption(key, value)) {\n            value = that._getRegExp(value);\n          }\n          options[key] = value;\n        }\n      });\n    },\n\n    _create: function () {\n      this._initDataAttributes();\n      this._initSpecialOptions();\n      this._slots = [];\n      this._sequence = this._getXHRPromise(true);\n      this._sending = this._active = 0;\n      this._initProgressObject(this);\n      this._initEventHandlers();\n    },\n\n    // This method is exposed to the widget API and allows to query\n    // the number of active uploads:\n    active: function () {\n      return this._active;\n    },\n\n    // This method is exposed to the widget API and allows to query\n    // the widget upload progress.\n    // It returns an object with loaded, total and bitrate properties\n    // for the running uploads:\n    progress: function () {\n      return this._progress;\n    },\n\n    // This method is exposed to the widget API and allows adding files\n    // using the fileupload API. The data parameter accepts an object which\n    // must have a files property and can contain additional options:\n    // .fileupload('add', {files: filesList});\n    add: function (data) {\n      var that = this;\n      if (!data || this.options.disabled) {\n        return;\n      }\n      if (data.fileInput && !data.files) {\n        this._getFileInputFiles(data.fileInput).always(function (files) {\n          data.files = files;\n          that._onAdd(null, data);\n        });\n      } else {\n        data.files = $.makeArray(data.files);\n        this._onAdd(null, data);\n      }\n    },\n\n    // This method is exposed to the widget API and allows sending files\n    // using the fileupload API. The data parameter accepts an object which\n    // must have a files or fileInput property and can contain additional options:\n    // .fileupload('send', {files: filesList});\n    // The method returns a Promise object for the file upload call.\n    send: function (data) {\n      if (data && !this.options.disabled) {\n        if (data.fileInput && !data.files) {\n          var that = this,\n            dfd = $.Deferred(),\n            promise = dfd.promise(),\n            jqXHR,\n            aborted;\n          promise.abort = function () {\n            aborted = true;\n            if (jqXHR) {\n              return jqXHR.abort();\n            }\n            dfd.reject(null, 'abort', 'abort');\n            return promise;\n          };\n          this._getFileInputFiles(data.fileInput).always(function (files) {\n            if (aborted) {\n              return;\n            }\n            if (!files.length) {\n              dfd.reject();\n              return;\n            }\n            data.files = files;\n            jqXHR = that._onSend(null, data);\n            jqXHR.then(\n              function (result, textStatus, jqXHR) {\n                dfd.resolve(result, textStatus, jqXHR);\n              },\n              function (jqXHR, textStatus, errorThrown) {\n                dfd.reject(jqXHR, textStatus, errorThrown);\n              }\n            );\n          });\n          return this._enhancePromise(promise);\n        }\n        data.files = $.makeArray(data.files);\n        if (data.files.length) {\n          return this._onSend(null, data);\n        }\n      }\n      return this._getXHRPromise(false, data && data.context);\n    }\n  });\n});\n","/*\n * jQuery File Upload Processing Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['jquery', './jquery.fileupload'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(require('jquery'), require('./jquery.fileupload'));\n  } else {\n    // Browser globals:\n    factory(window.jQuery);\n  }\n})(function ($) {\n  'use strict';\n\n  var originalAdd = $.blueimp.fileupload.prototype.options.add;\n\n  // The File Upload Processing plugin extends the fileupload widget\n  // with file processing functionality:\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\n    options: {\n      // The list of processing actions:\n      processQueue: [\n        /*\n                {\n                    action: 'log',\n                    type: 'debug'\n                }\n                */\n      ],\n      add: function (e, data) {\n        var $this = $(this);\n        data.process(function () {\n          return $this.fileupload('process', data);\n        });\n        originalAdd.call(this, e, data);\n      }\n    },\n\n    processActions: {\n      /*\n            log: function (data, options) {\n                console[options.type](\n                    'Processing \"' + data.files[data.index].name + '\"'\n                );\n            }\n            */\n    },\n\n    _processFile: function (data, originalData) {\n      var that = this,\n        // eslint-disable-next-line new-cap\n        dfd = $.Deferred().resolveWith(that, [data]),\n        chain = dfd.promise();\n      this._trigger('process', null, data);\n      $.each(data.processQueue, function (i, settings) {\n        var func = function (data) {\n          if (originalData.errorThrown) {\n            // eslint-disable-next-line new-cap\n            return $.Deferred().rejectWith(that, [originalData]).promise();\n          }\n          return that.processActions[settings.action].call(\n            that,\n            data,\n            settings\n          );\n        };\n        chain = chain[that._promisePipe](func, settings.always && func);\n      });\n      chain\n        .done(function () {\n          that._trigger('processdone', null, data);\n          that._trigger('processalways', null, data);\n        })\n        .fail(function () {\n          that._trigger('processfail', null, data);\n          that._trigger('processalways', null, data);\n        });\n      return chain;\n    },\n\n    // Replaces the settings of each processQueue item that\n    // are strings starting with an \"@\", using the remaining\n    // substring as key for the option map,\n    // e.g. \"@autoUpload\" is replaced with options.autoUpload:\n    _transformProcessQueue: function (options) {\n      var processQueue = [];\n      $.each(options.processQueue, function () {\n        var settings = {},\n          action = this.action,\n          prefix = this.prefix === true ? action : this.prefix;\n        $.each(this, function (key, value) {\n          if ($.type(value) === 'string' && value.charAt(0) === '@') {\n            settings[key] =\n              options[\n                value.slice(1) ||\n                  (prefix\n                    ? prefix + key.charAt(0).toUpperCase() + key.slice(1)\n                    : key)\n              ];\n          } else {\n            settings[key] = value;\n          }\n        });\n        processQueue.push(settings);\n      });\n      options.processQueue = processQueue;\n    },\n\n    // Returns the number of files currently in the processsing queue:\n    processing: function () {\n      return this._processing;\n    },\n\n    // Processes the files given as files property of the data parameter,\n    // returns a Promise object that allows to bind callbacks:\n    process: function (data) {\n      var that = this,\n        options = $.extend({}, this.options, data);\n      if (options.processQueue && options.processQueue.length) {\n        this._transformProcessQueue(options);\n        if (this._processing === 0) {\n          this._trigger('processstart');\n        }\n        $.each(data.files, function (index) {\n          var opts = index ? $.extend({}, options) : options,\n            func = function () {\n              if (data.errorThrown) {\n                // eslint-disable-next-line new-cap\n                return $.Deferred().rejectWith(that, [data]).promise();\n              }\n              return that._processFile(opts, data);\n            };\n          opts.index = index;\n          that._processing += 1;\n          that._processingQueue = that._processingQueue[that._promisePipe](\n            func,\n            func\n          ).always(function () {\n            that._processing -= 1;\n            if (that._processing === 0) {\n              that._trigger('processstop');\n            }\n          });\n        });\n      }\n      return this._processingQueue;\n    },\n\n    _create: function () {\n      this._super();\n      this._processing = 0;\n      // eslint-disable-next-line new-cap\n      this._processingQueue = $.Deferred().resolveWith(this).promise();\n    }\n  });\n});\n","/*\n * jQuery File Upload Image Preview & Resize Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define([\n      'jquery',\n      'load-image',\n      'load-image-meta',\n      'load-image-scale',\n      'load-image-exif',\n      'load-image-orientation',\n      'canvas-to-blob',\n      './jquery.fileupload-process'\n    ], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(\n      require('jquery'),\n      require('blueimp-load-image/js/load-image'),\n      require('blueimp-load-image/js/load-image-meta'),\n      require('blueimp-load-image/js/load-image-scale'),\n      require('blueimp-load-image/js/load-image-exif'),\n      require('blueimp-load-image/js/load-image-orientation'),\n      require('blueimp-canvas-to-blob'),\n      require('./jquery.fileupload-process')\n    );\n  } else {\n    // Browser globals:\n    factory(window.jQuery, window.loadImage);\n  }\n})(function ($, loadImage) {\n  'use strict';\n\n  // Prepend to the default processQueue:\n  $.blueimp.fileupload.prototype.options.processQueue.unshift(\n    {\n      action: 'loadImageMetaData',\n      maxMetaDataSize: '@',\n      disableImageHead: '@',\n      disableMetaDataParsers: '@',\n      disableExif: '@',\n      disableExifOffsets: '@',\n      includeExifTags: '@',\n      excludeExifTags: '@',\n      disableIptc: '@',\n      disableIptcOffsets: '@',\n      includeIptcTags: '@',\n      excludeIptcTags: '@',\n      disabled: '@disableImageMetaDataLoad'\n    },\n    {\n      action: 'loadImage',\n      // Use the action as prefix for the \"@\" options:\n      prefix: true,\n      fileTypes: '@',\n      maxFileSize: '@',\n      noRevoke: '@',\n      disabled: '@disableImageLoad'\n    },\n    {\n      action: 'resizeImage',\n      // Use \"image\" as prefix for the \"@\" options:\n      prefix: 'image',\n      maxWidth: '@',\n      maxHeight: '@',\n      minWidth: '@',\n      minHeight: '@',\n      crop: '@',\n      orientation: '@',\n      forceResize: '@',\n      disabled: '@disableImageResize'\n    },\n    {\n      action: 'saveImage',\n      quality: '@imageQuality',\n      type: '@imageType',\n      disabled: '@disableImageResize'\n    },\n    {\n      action: 'saveImageMetaData',\n      disabled: '@disableImageMetaDataSave'\n    },\n    {\n      action: 'resizeImage',\n      // Use \"preview\" as prefix for the \"@\" options:\n      prefix: 'preview',\n      maxWidth: '@',\n      maxHeight: '@',\n      minWidth: '@',\n      minHeight: '@',\n      crop: '@',\n      orientation: '@',\n      thumbnail: '@',\n      canvas: '@',\n      disabled: '@disableImagePreview'\n    },\n    {\n      action: 'setImage',\n      name: '@imagePreviewName',\n      disabled: '@disableImagePreview'\n    },\n    {\n      action: 'deleteImageReferences',\n      disabled: '@disableImageReferencesDeletion'\n    }\n  );\n\n  // The File Upload Resize plugin extends the fileupload widget\n  // with image resize functionality:\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\n    options: {\n      // The regular expression for the types of images to load:\n      // matched against the file type:\n      loadImageFileTypes: /^image\\/(gif|jpeg|png|svg\\+xml)$/,\n      // The maximum file size of images to load:\n      loadImageMaxFileSize: 10000000, // 10MB\n      // The maximum width of resized images:\n      imageMaxWidth: 1920,\n      // The maximum height of resized images:\n      imageMaxHeight: 1080,\n      // Defines the image orientation (1-8) or takes the orientation\n      // value from Exif data if set to true:\n      imageOrientation: true,\n      // Define if resized images should be cropped or only scaled:\n      imageCrop: false,\n      // Disable the resize image functionality by default:\n      disableImageResize: true,\n      // The maximum width of the preview images:\n      previewMaxWidth: 80,\n      // The maximum height of the preview images:\n      previewMaxHeight: 80,\n      // Defines the preview orientation (1-8) or takes the orientation\n      // value from Exif data if set to true:\n      previewOrientation: true,\n      // Create the preview using the Exif data thumbnail:\n      previewThumbnail: true,\n      // Define if preview images should be cropped or only scaled:\n      previewCrop: false,\n      // Define if preview images should be resized as canvas elements:\n      previewCanvas: true\n    },\n\n    processActions: {\n      // Loads the image given via data.files and data.index\n      // as img element, if the browser supports the File API.\n      // Accepts the options fileTypes (regular expression)\n      // and maxFileSize (integer) to limit the files to load:\n      loadImage: function (data, options) {\n        if (options.disabled) {\n          return data;\n        }\n        var that = this,\n          file = data.files[data.index],\n          // eslint-disable-next-line new-cap\n          dfd = $.Deferred();\n        if (\n          ($.type(options.maxFileSize) === 'number' &&\n            file.size > options.maxFileSize) ||\n          (options.fileTypes && !options.fileTypes.test(file.type)) ||\n          !loadImage(\n            file,\n            function (img) {\n              if (img.src) {\n                data.img = img;\n              }\n              dfd.resolveWith(that, [data]);\n            },\n            options\n          )\n        ) {\n          return data;\n        }\n        return dfd.promise();\n      },\n\n      // Resizes the image given as data.canvas or data.img\n      // and updates data.canvas or data.img with the resized image.\n      // Also stores the resized image as preview property.\n      // Accepts the options maxWidth, maxHeight, minWidth,\n      // minHeight, canvas and crop:\n      resizeImage: function (data, options) {\n        if (options.disabled || !(data.canvas || data.img)) {\n          return data;\n        }\n        // eslint-disable-next-line no-param-reassign\n        options = $.extend({ canvas: true }, options);\n        var that = this,\n          // eslint-disable-next-line new-cap\n          dfd = $.Deferred(),\n          img = (options.canvas && data.canvas) || data.img,\n          resolve = function (newImg) {\n            if (\n              newImg &&\n              (newImg.width !== img.width ||\n                newImg.height !== img.height ||\n                options.forceResize)\n            ) {\n              data[newImg.getContext ? 'canvas' : 'img'] = newImg;\n            }\n            data.preview = newImg;\n            dfd.resolveWith(that, [data]);\n          },\n          thumbnail,\n          thumbnailBlob;\n        if (data.exif && options.thumbnail) {\n          thumbnail = data.exif.get('Thumbnail');\n          thumbnailBlob = thumbnail && thumbnail.get('Blob');\n          if (thumbnailBlob) {\n            options.orientation = data.exif.get('Orientation');\n            loadImage(thumbnailBlob, resolve, options);\n            return dfd.promise();\n          }\n        }\n        if (data.orientation) {\n          // Prevent orienting the same image twice:\n          delete options.orientation;\n        } else {\n          data.orientation = options.orientation || loadImage.orientation;\n        }\n        if (img) {\n          resolve(loadImage.scale(img, options, data));\n          return dfd.promise();\n        }\n        return data;\n      },\n\n      // Saves the processed image given as data.canvas\n      // inplace at data.index of data.files:\n      saveImage: function (data, options) {\n        if (!data.canvas || options.disabled) {\n          return data;\n        }\n        var that = this,\n          file = data.files[data.index],\n          // eslint-disable-next-line new-cap\n          dfd = $.Deferred();\n        if (data.canvas.toBlob) {\n          data.canvas.toBlob(\n            function (blob) {\n              if (!blob.name) {\n                if (file.type === blob.type) {\n                  blob.name = file.name;\n                } else if (file.name) {\n                  blob.name = file.name.replace(\n                    /\\.\\w+$/,\n                    '.' + blob.type.substr(6)\n                  );\n                }\n              }\n              // Don't restore invalid meta data:\n              if (file.type !== blob.type) {\n                delete data.imageHead;\n              }\n              // Store the created blob at the position\n              // of the original file in the files list:\n              data.files[data.index] = blob;\n              dfd.resolveWith(that, [data]);\n            },\n            options.type || file.type,\n            options.quality\n          );\n        } else {\n          return data;\n        }\n        return dfd.promise();\n      },\n\n      loadImageMetaData: function (data, options) {\n        if (options.disabled) {\n          return data;\n        }\n        var that = this,\n          // eslint-disable-next-line new-cap\n          dfd = $.Deferred();\n        loadImage.parseMetaData(\n          data.files[data.index],\n          function (result) {\n            $.extend(data, result);\n            dfd.resolveWith(that, [data]);\n          },\n          options\n        );\n        return dfd.promise();\n      },\n\n      saveImageMetaData: function (data, options) {\n        if (\n          !(\n            data.imageHead &&\n            data.canvas &&\n            data.canvas.toBlob &&\n            !options.disabled\n          )\n        ) {\n          return data;\n        }\n        var that = this,\n          file = data.files[data.index],\n          // eslint-disable-next-line new-cap\n          dfd = $.Deferred();\n        if (data.orientation === true && data.exifOffsets) {\n          // Reset Exif Orientation data:\n          loadImage.writeExifData(data.imageHead, data, 'Orientation', 1);\n        }\n        loadImage.replaceHead(file, data.imageHead, function (blob) {\n          blob.name = file.name;\n          data.files[data.index] = blob;\n          dfd.resolveWith(that, [data]);\n        });\n        return dfd.promise();\n      },\n\n      // Sets the resized version of the image as a property of the\n      // file object, must be called after \"saveImage\":\n      setImage: function (data, options) {\n        if (data.preview && !options.disabled) {\n          data.files[data.index][options.name || 'preview'] = data.preview;\n        }\n        return data;\n      },\n\n      deleteImageReferences: function (data, options) {\n        if (!options.disabled) {\n          delete data.img;\n          delete data.canvas;\n          delete data.preview;\n          delete data.imageHead;\n        }\n        return data;\n      }\n    }\n  });\n});\n","/*\n * jQuery File Upload Audio Preview Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['jquery', 'load-image', './jquery.fileupload-process'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(\n      require('jquery'),\n      require('blueimp-load-image/js/load-image'),\n      require('./jquery.fileupload-process')\n    );\n  } else {\n    // Browser globals:\n    factory(window.jQuery, window.loadImage);\n  }\n})(function ($, loadImage) {\n  'use strict';\n\n  // Prepend to the default processQueue:\n  $.blueimp.fileupload.prototype.options.processQueue.unshift(\n    {\n      action: 'loadAudio',\n      // Use the action as prefix for the \"@\" options:\n      prefix: true,\n      fileTypes: '@',\n      maxFileSize: '@',\n      disabled: '@disableAudioPreview'\n    },\n    {\n      action: 'setAudio',\n      name: '@audioPreviewName',\n      disabled: '@disableAudioPreview'\n    }\n  );\n\n  // The File Upload Audio Preview plugin extends the fileupload widget\n  // with audio preview functionality:\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\n    options: {\n      // The regular expression for the types of audio files to load,\n      // matched against the file type:\n      loadAudioFileTypes: /^audio\\/.*$/\n    },\n\n    _audioElement: document.createElement('audio'),\n\n    processActions: {\n      // Loads the audio file given via data.files and data.index\n      // as audio element if the browser supports playing it.\n      // Accepts the options fileTypes (regular expression)\n      // and maxFileSize (integer) to limit the files to load:\n      loadAudio: function (data, options) {\n        if (options.disabled) {\n          return data;\n        }\n        var file = data.files[data.index],\n          url,\n          audio;\n        if (\n          this._audioElement.canPlayType &&\n          this._audioElement.canPlayType(file.type) &&\n          ($.type(options.maxFileSize) !== 'number' ||\n            file.size <= options.maxFileSize) &&\n          (!options.fileTypes || options.fileTypes.test(file.type))\n        ) {\n          url = loadImage.createObjectURL(file);\n          if (url) {\n            audio = this._audioElement.cloneNode(false);\n            audio.src = url;\n            audio.controls = true;\n            data.audio = audio;\n            return data;\n          }\n        }\n        return data;\n      },\n\n      // Sets the audio element as a property of the file object:\n      setAudio: function (data, options) {\n        if (data.audio && !options.disabled) {\n          data.files[data.index][options.name || 'preview'] = data.audio;\n        }\n        return data;\n      }\n    }\n  });\n});\n","/*\n * jQuery File Upload Video Preview Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['jquery', 'load-image', './jquery.fileupload-process'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(\n      require('jquery'),\n      require('blueimp-load-image/js/load-image'),\n      require('./jquery.fileupload-process')\n    );\n  } else {\n    // Browser globals:\n    factory(window.jQuery, window.loadImage);\n  }\n})(function ($, loadImage) {\n  'use strict';\n\n  // Prepend to the default processQueue:\n  $.blueimp.fileupload.prototype.options.processQueue.unshift(\n    {\n      action: 'loadVideo',\n      // Use the action as prefix for the \"@\" options:\n      prefix: true,\n      fileTypes: '@',\n      maxFileSize: '@',\n      disabled: '@disableVideoPreview'\n    },\n    {\n      action: 'setVideo',\n      name: '@videoPreviewName',\n      disabled: '@disableVideoPreview'\n    }\n  );\n\n  // The File Upload Video Preview plugin extends the fileupload widget\n  // with video preview functionality:\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\n    options: {\n      // The regular expression for the types of video files to load,\n      // matched against the file type:\n      loadVideoFileTypes: /^video\\/.*$/\n    },\n\n    _videoElement: document.createElement('video'),\n\n    processActions: {\n      // Loads the video file given via data.files and data.index\n      // as video element if the browser supports playing it.\n      // Accepts the options fileTypes (regular expression)\n      // and maxFileSize (integer) to limit the files to load:\n      loadVideo: function (data, options) {\n        if (options.disabled) {\n          return data;\n        }\n        var file = data.files[data.index],\n          url,\n          video;\n        if (\n          this._videoElement.canPlayType &&\n          this._videoElement.canPlayType(file.type) &&\n          ($.type(options.maxFileSize) !== 'number' ||\n            file.size <= options.maxFileSize) &&\n          (!options.fileTypes || options.fileTypes.test(file.type))\n        ) {\n          url = loadImage.createObjectURL(file);\n          if (url) {\n            video = this._videoElement.cloneNode(false);\n            video.src = url;\n            video.controls = true;\n            data.video = video;\n            return data;\n          }\n        }\n        return data;\n      },\n\n      // Sets the video element as a property of the file object:\n      setVideo: function (data, options) {\n        if (data.video && !options.disabled) {\n          data.files[data.index][options.name || 'preview'] = data.video;\n        }\n        return data;\n      }\n    }\n  });\n});\n","/*\n * jQuery File Upload Validation Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['jquery', './jquery.fileupload-process'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(require('jquery'), require('./jquery.fileupload-process'));\n  } else {\n    // Browser globals:\n    factory(window.jQuery);\n  }\n})(function ($) {\n  'use strict';\n\n  // Append to the default processQueue:\n  $.blueimp.fileupload.prototype.options.processQueue.push({\n    action: 'validate',\n    // Always trigger this action,\n    // even if the previous action was rejected:\n    always: true,\n    // Options taken from the global options map:\n    acceptFileTypes: '@',\n    maxFileSize: '@',\n    minFileSize: '@',\n    maxNumberOfFiles: '@',\n    disabled: '@disableValidation'\n  });\n\n  // The File Upload Validation plugin extends the fileupload widget\n  // with file validation functionality:\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\n    options: {\n      /*\n            // The regular expression for allowed file types, matches\n            // against either file type or file name:\n            acceptFileTypes: /(\\.|\\/)(gif|jpe?g|png)$/i,\n            // The maximum allowed file size in bytes:\n            maxFileSize: 10000000, // 10 MB\n            // The minimum allowed file size in bytes:\n            minFileSize: undefined, // No minimal file size\n            // The limit of files to be uploaded:\n            maxNumberOfFiles: 10,\n            */\n\n      // Function returning the current number of files,\n      // has to be overriden for maxNumberOfFiles validation:\n      getNumberOfFiles: $.noop,\n\n      // Error and info messages:\n      messages: {\n        maxNumberOfFiles: 'Maximum number of files exceeded',\n        acceptFileTypes: 'File type not allowed',\n        maxFileSize: 'File is too large',\n        minFileSize: 'File is too small'\n      }\n    },\n\n    processActions: {\n      validate: function (data, options) {\n        if (options.disabled) {\n          return data;\n        }\n        // eslint-disable-next-line new-cap\n        var dfd = $.Deferred(),\n          settings = this.options,\n          file = data.files[data.index],\n          fileSize;\n        if (options.minFileSize || options.maxFileSize) {\n          fileSize = file.size;\n        }\n        if (\n          $.type(options.maxNumberOfFiles) === 'number' &&\n          (settings.getNumberOfFiles() || 0) + data.files.length >\n            options.maxNumberOfFiles\n        ) {\n          file.error = settings.i18n('maxNumberOfFiles');\n        } else if (\n          options.acceptFileTypes &&\n          !(\n            options.acceptFileTypes.test(file.type) ||\n            options.acceptFileTypes.test(file.name)\n          )\n        ) {\n          file.error = settings.i18n('acceptFileTypes');\n        } else if (fileSize > options.maxFileSize) {\n          file.error = settings.i18n('maxFileSize');\n        } else if (\n          $.type(fileSize) === 'number' &&\n          fileSize < options.minFileSize\n        ) {\n          file.error = settings.i18n('minFileSize');\n        } else {\n          delete file.error;\n        }\n        if (file.error || data.files.error) {\n          data.files.error = true;\n          dfd.rejectWith(this, [data]);\n        } else {\n          dfd.resolveWith(this, [data]);\n        }\n        return dfd.promise();\n      }\n    }\n  });\n});\n","/*\n * jQuery File Upload User Interface Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2010, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define([\n      'jquery',\n      'blueimp-tmpl',\n      './jquery.fileupload-image',\n      './jquery.fileupload-audio',\n      './jquery.fileupload-video',\n      './jquery.fileupload-validate'\n    ], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(\n      require('jquery'),\n      require('blueimp-tmpl'),\n      require('./jquery.fileupload-image'),\n      require('./jquery.fileupload-audio'),\n      require('./jquery.fileupload-video'),\n      require('./jquery.fileupload-validate')\n    );\n  } else {\n    // Browser globals:\n    factory(window.jQuery, window.tmpl);\n  }\n})(function ($, tmpl) {\n  'use strict';\n\n  $.blueimp.fileupload.prototype._specialOptions.push(\n    'filesContainer',\n    'uploadTemplateId',\n    'downloadTemplateId'\n  );\n\n  // The UI version extends the file upload widget\n  // and adds complete user interface interaction:\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\n    options: {\n      // By default, files added to the widget are uploaded as soon\n      // as the user clicks on the start buttons. To enable automatic\n      // uploads, set the following option to true:\n      autoUpload: false,\n      // The class to show/hide UI elements:\n      showElementClass: 'in',\n      // The ID of the upload template:\n      uploadTemplateId: 'template-upload',\n      // The ID of the download template:\n      downloadTemplateId: 'template-download',\n      // The container for the list of files. If undefined, it is set to\n      // an element with class \"files\" inside of the widget element:\n      filesContainer: undefined,\n      // By default, files are appended to the files container.\n      // Set the following option to true, to prepend files instead:\n      prependFiles: false,\n      // The expected data type of the upload response, sets the dataType\n      // option of the $.ajax upload requests:\n      dataType: 'json',\n\n      // Error and info messages:\n      messages: {\n        unknownError: 'Unknown error'\n      },\n\n      // Function returning the current number of files,\n      // used by the maxNumberOfFiles validation:\n      getNumberOfFiles: function () {\n        return this.filesContainer.children().not('.processing').length;\n      },\n\n      // Callback to retrieve the list of files from the server response:\n      getFilesFromResponse: function (data) {\n        if (data.result && $.isArray(data.result.files)) {\n          return data.result.files;\n        }\n        return [];\n      },\n\n      // The add callback is invoked as soon as files are added to the fileupload\n      // widget (via file input selection, drag & drop or add API call).\n      // See the basic file upload widget for more information:\n      add: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var $this = $(this),\n          that = $this.data('blueimp-fileupload') || $this.data('fileupload'),\n          options = that.options;\n        data.context = that\n          ._renderUpload(data.files)\n          .data('data', data)\n          .addClass('processing');\n        options.filesContainer[options.prependFiles ? 'prepend' : 'append'](\n          data.context\n        );\n        that._forceReflow(data.context);\n        that._transition(data.context);\n        data\n          .process(function () {\n            return $this.fileupload('process', data);\n          })\n          .always(function () {\n            data.context\n              .each(function (index) {\n                $(this)\n                  .find('.size')\n                  .text(that._formatFileSize(data.files[index].size));\n              })\n              .removeClass('processing');\n            that._renderPreviews(data);\n          })\n          .done(function () {\n            data.context.find('.edit,.start').prop('disabled', false);\n            if (\n              that._trigger('added', e, data) !== false &&\n              (options.autoUpload || data.autoUpload) &&\n              data.autoUpload !== false\n            ) {\n              data.submit();\n            }\n          })\n          .fail(function () {\n            if (data.files.error) {\n              data.context.each(function (index) {\n                var error = data.files[index].error;\n                if (error) {\n                  $(this).find('.error').text(error);\n                }\n              });\n            }\n          });\n      },\n      // Callback for the start of each file upload request:\n      send: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var that =\n          $(this).data('blueimp-fileupload') || $(this).data('fileupload');\n        if (\n          data.context &&\n          data.dataType &&\n          data.dataType.substr(0, 6) === 'iframe'\n        ) {\n          // Iframe Transport does not support progress events.\n          // In lack of an indeterminate progress bar, we set\n          // the progress to 100%, showing the full animated bar:\n          data.context\n            .find('.progress')\n            .addClass(!$.support.transition && 'progress-animated')\n            .attr('aria-valuenow', 100)\n            .children()\n            .first()\n            .css('width', '100%');\n        }\n        return that._trigger('sent', e, data);\n      },\n      // Callback for successful uploads:\n      done: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var that =\n            $(this).data('blueimp-fileupload') || $(this).data('fileupload'),\n          getFilesFromResponse =\n            data.getFilesFromResponse || that.options.getFilesFromResponse,\n          files = getFilesFromResponse(data),\n          template,\n          deferred;\n        if (data.context) {\n          data.context.each(function (index) {\n            var file = files[index] || { error: 'Empty file upload result' };\n            deferred = that._addFinishedDeferreds();\n            that._transition($(this)).done(function () {\n              var node = $(this);\n              template = that._renderDownload([file]).replaceAll(node);\n              that._forceReflow(template);\n              that._transition(template).done(function () {\n                data.context = $(this);\n                that._trigger('completed', e, data);\n                that._trigger('finished', e, data);\n                deferred.resolve();\n              });\n            });\n          });\n        } else {\n          template = that\n            ._renderDownload(files)\n            [that.options.prependFiles ? 'prependTo' : 'appendTo'](\n              that.options.filesContainer\n            );\n          that._forceReflow(template);\n          deferred = that._addFinishedDeferreds();\n          that._transition(template).done(function () {\n            data.context = $(this);\n            that._trigger('completed', e, data);\n            that._trigger('finished', e, data);\n            deferred.resolve();\n          });\n        }\n      },\n      // Callback for failed (abort or error) uploads:\n      fail: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var that =\n            $(this).data('blueimp-fileupload') || $(this).data('fileupload'),\n          template,\n          deferred;\n        if (data.context) {\n          data.context.each(function (index) {\n            if (data.errorThrown !== 'abort') {\n              var file = data.files[index];\n              file.error =\n                file.error || data.errorThrown || data.i18n('unknownError');\n              deferred = that._addFinishedDeferreds();\n              that._transition($(this)).done(function () {\n                var node = $(this);\n                template = that._renderDownload([file]).replaceAll(node);\n                that._forceReflow(template);\n                that._transition(template).done(function () {\n                  data.context = $(this);\n                  that._trigger('failed', e, data);\n                  that._trigger('finished', e, data);\n                  deferred.resolve();\n                });\n              });\n            } else {\n              deferred = that._addFinishedDeferreds();\n              that._transition($(this)).done(function () {\n                $(this).remove();\n                that._trigger('failed', e, data);\n                that._trigger('finished', e, data);\n                deferred.resolve();\n              });\n            }\n          });\n        } else if (data.errorThrown !== 'abort') {\n          data.context = that\n            ._renderUpload(data.files)\n            [that.options.prependFiles ? 'prependTo' : 'appendTo'](\n              that.options.filesContainer\n            )\n            .data('data', data);\n          that._forceReflow(data.context);\n          deferred = that._addFinishedDeferreds();\n          that._transition(data.context).done(function () {\n            data.context = $(this);\n            that._trigger('failed', e, data);\n            that._trigger('finished', e, data);\n            deferred.resolve();\n          });\n        } else {\n          that._trigger('failed', e, data);\n          that._trigger('finished', e, data);\n          that._addFinishedDeferreds().resolve();\n        }\n      },\n      // Callback for upload progress events:\n      progress: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var progress = Math.floor((data.loaded / data.total) * 100);\n        if (data.context) {\n          data.context.each(function () {\n            $(this)\n              .find('.progress')\n              .attr('aria-valuenow', progress)\n              .children()\n              .first()\n              .css('width', progress + '%');\n          });\n        }\n      },\n      // Callback for global upload progress events:\n      progressall: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var $this = $(this),\n          progress = Math.floor((data.loaded / data.total) * 100),\n          globalProgressNode = $this.find('.fileupload-progress'),\n          extendedProgressNode = globalProgressNode.find('.progress-extended');\n        if (extendedProgressNode.length) {\n          extendedProgressNode.html(\n            (\n              $this.data('blueimp-fileupload') || $this.data('fileupload')\n            )._renderExtendedProgress(data)\n          );\n        }\n        globalProgressNode\n          .find('.progress')\n          .attr('aria-valuenow', progress)\n          .children()\n          .first()\n          .css('width', progress + '%');\n      },\n      // Callback for uploads start, equivalent to the global ajaxStart event:\n      start: function (e) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var that =\n          $(this).data('blueimp-fileupload') || $(this).data('fileupload');\n        that._resetFinishedDeferreds();\n        that\n          ._transition($(this).find('.fileupload-progress'))\n          .done(function () {\n            that._trigger('started', e);\n          });\n      },\n      // Callback for uploads stop, equivalent to the global ajaxStop event:\n      stop: function (e) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var that =\n            $(this).data('blueimp-fileupload') || $(this).data('fileupload'),\n          deferred = that._addFinishedDeferreds();\n        $.when.apply($, that._getFinishedDeferreds()).done(function () {\n          that._trigger('stopped', e);\n        });\n        that\n          ._transition($(this).find('.fileupload-progress'))\n          .done(function () {\n            $(this)\n              .find('.progress')\n              .attr('aria-valuenow', '0')\n              .children()\n              .first()\n              .css('width', '0%');\n            $(this).find('.progress-extended').html('&nbsp;');\n            deferred.resolve();\n          });\n      },\n      processstart: function (e) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        $(this).addClass('fileupload-processing');\n      },\n      processstop: function (e) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        $(this).removeClass('fileupload-processing');\n      },\n      // Callback for file deletion:\n      destroy: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var that =\n            $(this).data('blueimp-fileupload') || $(this).data('fileupload'),\n          removeNode = function () {\n            that._transition(data.context).done(function () {\n              $(this).remove();\n              that._trigger('destroyed', e, data);\n            });\n          };\n        if (data.url) {\n          data.dataType = data.dataType || that.options.dataType;\n          $.ajax(data)\n            .done(removeNode)\n            .fail(function () {\n              that._trigger('destroyfailed', e, data);\n            });\n        } else {\n          removeNode();\n        }\n      }\n    },\n\n    _resetFinishedDeferreds: function () {\n      this._finishedUploads = [];\n    },\n\n    _addFinishedDeferreds: function (deferred) {\n      // eslint-disable-next-line new-cap\n      var promise = deferred || $.Deferred();\n      this._finishedUploads.push(promise);\n      return promise;\n    },\n\n    _getFinishedDeferreds: function () {\n      return this._finishedUploads;\n    },\n\n    // Link handler, that allows to download files\n    // by drag & drop of the links to the desktop:\n    _enableDragToDesktop: function () {\n      var link = $(this),\n        url = link.prop('href'),\n        name = link.prop('download'),\n        type = 'application/octet-stream';\n      link.on('dragstart', function (e) {\n        try {\n          e.originalEvent.dataTransfer.setData(\n            'DownloadURL',\n            [type, name, url].join(':')\n          );\n        } catch (ignore) {\n          // Ignore exceptions\n        }\n      });\n    },\n\n    _formatFileSize: function (bytes) {\n      if (typeof bytes !== 'number') {\n        return '';\n      }\n      if (bytes >= 1000000000) {\n        return (bytes / 1000000000).toFixed(2) + ' GB';\n      }\n      if (bytes >= 1000000) {\n        return (bytes / 1000000).toFixed(2) + ' MB';\n      }\n      return (bytes / 1000).toFixed(2) + ' KB';\n    },\n\n    _formatBitrate: function (bits) {\n      if (typeof bits !== 'number') {\n        return '';\n      }\n      if (bits >= 1000000000) {\n        return (bits / 1000000000).toFixed(2) + ' Gbit/s';\n      }\n      if (bits >= 1000000) {\n        return (bits / 1000000).toFixed(2) + ' Mbit/s';\n      }\n      if (bits >= 1000) {\n        return (bits / 1000).toFixed(2) + ' kbit/s';\n      }\n      return bits.toFixed(2) + ' bit/s';\n    },\n\n    _formatTime: function (seconds) {\n      var date = new Date(seconds * 1000),\n        days = Math.floor(seconds / 86400);\n      days = days ? days + 'd ' : '';\n      return (\n        days +\n        ('0' + date.getUTCHours()).slice(-2) +\n        ':' +\n        ('0' + date.getUTCMinutes()).slice(-2) +\n        ':' +\n        ('0' + date.getUTCSeconds()).slice(-2)\n      );\n    },\n\n    _formatPercentage: function (floatValue) {\n      return (floatValue * 100).toFixed(2) + ' %';\n    },\n\n    _renderExtendedProgress: function (data) {\n      return (\n        this._formatBitrate(data.bitrate) +\n        ' | ' +\n        this._formatTime(((data.total - data.loaded) * 8) / data.bitrate) +\n        ' | ' +\n        this._formatPercentage(data.loaded / data.total) +\n        ' | ' +\n        this._formatFileSize(data.loaded) +\n        ' / ' +\n        this._formatFileSize(data.total)\n      );\n    },\n\n    _renderTemplate: function (func, files) {\n      if (!func) {\n        return $();\n      }\n      var result = func({\n        files: files,\n        formatFileSize: this._formatFileSize,\n        options: this.options\n      });\n      if (result instanceof $) {\n        return result;\n      }\n      return $(this.options.templatesContainer).html(result).children();\n    },\n\n    _renderPreviews: function (data) {\n      data.context.find('.preview').each(function (index, elm) {\n        $(elm).empty().append(data.files[index].preview);\n      });\n    },\n\n    _renderUpload: function (files) {\n      return this._renderTemplate(this.options.uploadTemplate, files);\n    },\n\n    _renderDownload: function (files) {\n      return this._renderTemplate(this.options.downloadTemplate, files)\n        .find('a[download]')\n        .each(this._enableDragToDesktop)\n        .end();\n    },\n\n    _editHandler: function (e) {\n      e.preventDefault();\n      if (!this.options.edit) return;\n      var that = this,\n        button = $(e.currentTarget),\n        template = button.closest('.template-upload'),\n        data = template.data('data'),\n        index = button.data().index;\n      this.options.edit(data.files[index]).then(function (file) {\n        if (!file) return;\n        data.files[index] = file;\n        data.context.addClass('processing');\n        template.find('.edit,.start').prop('disabled', true);\n        $(that.element)\n          .fileupload('process', data)\n          .always(function () {\n            template\n              .find('.size')\n              .text(that._formatFileSize(data.files[index].size));\n            data.context.removeClass('processing');\n            that._renderPreviews(data);\n          })\n          .done(function () {\n            template.find('.edit,.start').prop('disabled', false);\n          })\n          .fail(function () {\n            template.find('.edit').prop('disabled', false);\n            var error = data.files[index].error;\n            if (error) {\n              template.find('.error').text(error);\n            }\n          });\n      });\n    },\n\n    _startHandler: function (e) {\n      e.preventDefault();\n      var button = $(e.currentTarget),\n        template = button.closest('.template-upload'),\n        data = template.data('data');\n      button.prop('disabled', true);\n      if (data && data.submit) {\n        data.submit();\n      }\n    },\n\n    _cancelHandler: function (e) {\n      e.preventDefault();\n      var template = $(e.currentTarget).closest(\n          '.template-upload,.template-download'\n        ),\n        data = template.data('data') || {};\n      data.context = data.context || template;\n      if (data.abort) {\n        data.abort();\n      } else {\n        data.errorThrown = 'abort';\n        this._trigger('fail', e, data);\n      }\n    },\n\n    _deleteHandler: function (e) {\n      e.preventDefault();\n      var button = $(e.currentTarget);\n      this._trigger(\n        'destroy',\n        e,\n        $.extend(\n          {\n            context: button.closest('.template-download'),\n            type: 'DELETE'\n          },\n          button.data()\n        )\n      );\n    },\n\n    _forceReflow: function (node) {\n      return $.support.transition && node.length && node[0].offsetWidth;\n    },\n\n    _transition: function (node) {\n      // eslint-disable-next-line new-cap\n      var dfd = $.Deferred();\n      if (\n        $.support.transition &&\n        node.hasClass('fade') &&\n        node.is(':visible')\n      ) {\n        var transitionEndHandler = function (e) {\n          // Make sure we don't respond to other transition events\n          // in the container element, e.g. from button elements:\n          if (e.target === node[0]) {\n            node.off($.support.transition.end, transitionEndHandler);\n            dfd.resolveWith(node);\n          }\n        };\n        node\n          .on($.support.transition.end, transitionEndHandler)\n          .toggleClass(this.options.showElementClass);\n      } else {\n        node.toggleClass(this.options.showElementClass);\n        dfd.resolveWith(node);\n      }\n      return dfd;\n    },\n\n    _initButtonBarEventHandlers: function () {\n      var fileUploadButtonBar = this.element.find('.fileupload-buttonbar'),\n        filesList = this.options.filesContainer;\n      this._on(fileUploadButtonBar.find('.start'), {\n        click: function (e) {\n          e.preventDefault();\n          filesList.find('.start').trigger('click');\n        }\n      });\n      this._on(fileUploadButtonBar.find('.cancel'), {\n        click: function (e) {\n          e.preventDefault();\n          filesList.find('.cancel').trigger('click');\n        }\n      });\n      this._on(fileUploadButtonBar.find('.delete'), {\n        click: function (e) {\n          e.preventDefault();\n          filesList\n            .find('.toggle:checked')\n            .closest('.template-download')\n            .find('.delete')\n            .trigger('click');\n          fileUploadButtonBar.find('.toggle').prop('checked', false);\n        }\n      });\n      this._on(fileUploadButtonBar.find('.toggle'), {\n        change: function (e) {\n          filesList\n            .find('.toggle')\n            .prop('checked', $(e.currentTarget).is(':checked'));\n        }\n      });\n    },\n\n    _destroyButtonBarEventHandlers: function () {\n      this._off(\n        this.element\n          .find('.fileupload-buttonbar')\n          .find('.start, .cancel, .delete'),\n        'click'\n      );\n      this._off(this.element.find('.fileupload-buttonbar .toggle'), 'change.');\n    },\n\n    _initEventHandlers: function () {\n      this._super();\n      this._on(this.options.filesContainer, {\n        'click .edit': this._editHandler,\n        'click .start': this._startHandler,\n        'click .cancel': this._cancelHandler,\n        'click .delete': this._deleteHandler\n      });\n      this._initButtonBarEventHandlers();\n    },\n\n    _destroyEventHandlers: function () {\n      this._destroyButtonBarEventHandlers();\n      this._off(this.options.filesContainer, 'click');\n      this._super();\n    },\n\n    _enableFileInputButton: function () {\n      this.element\n        .find('.fileinput-button input')\n        .prop('disabled', false)\n        .parent()\n        .removeClass('disabled');\n    },\n\n    _disableFileInputButton: function () {\n      this.element\n        .find('.fileinput-button input')\n        .prop('disabled', true)\n        .parent()\n        .addClass('disabled');\n    },\n\n    _initTemplates: function () {\n      var options = this.options;\n      options.templatesContainer = this.document[0].createElement(\n        options.filesContainer.prop('nodeName')\n      );\n      if (tmpl) {\n        if (options.uploadTemplateId) {\n          options.uploadTemplate = tmpl(options.uploadTemplateId);\n        }\n        if (options.downloadTemplateId) {\n          options.downloadTemplate = tmpl(options.downloadTemplateId);\n        }\n      }\n    },\n\n    _initFilesContainer: function () {\n      var options = this.options;\n      if (options.filesContainer === undefined) {\n        options.filesContainer = this.element.find('.files');\n      } else if (!(options.filesContainer instanceof $)) {\n        options.filesContainer = $(options.filesContainer);\n      }\n    },\n\n    _initSpecialOptions: function () {\n      this._super();\n      this._initFilesContainer();\n      this._initTemplates();\n    },\n\n    _create: function () {\n      this._super();\n      this._resetFinishedDeferreds();\n      if (!$.support.fileInput) {\n        this._disableFileInputButton();\n      }\n    },\n\n    enable: function () {\n      var wasDisabled = false;\n      if (this.options.disabled) {\n        wasDisabled = true;\n      }\n      this._super();\n      if (wasDisabled) {\n        this.element.find('input, button').prop('disabled', false);\n        this._enableFileInputButton();\n      }\n    },\n\n    disable: function () {\n      if (!this.options.disabled) {\n        this.element.find('input, button').prop('disabled', true);\n        this._disableFileInputButton();\n      }\n      this._super();\n    }\n  });\n});\n","(function (factory) {\r\n  'use strict';\r\n  factory(window.jQuery, window.loadImage, window.Sortable, window.Cropper);\r\n})(function ($, loadImage, Sortable, Cropper) {\r\n  'use strict';\r\n\r\n  $.blueimp.fileupload.prototype._specialOptions.push(\r\n    'hiddenFileInput',\r\n    'editModalId',\r\n    'editModalImgId',\r\n    'sortableOptions',\r\n    'cropperResultMessageBoxSelector',\r\n    'cropperButtonDivSelector',\r\n    'cropperButtonSelector',\r\n    'statusDataName',\r\n    'filesDataToInputDataFunction',\r\n    'csrfCookieFunction',\r\n  );\r\n\r\n  $.widget(\r\n    'blueimp.fileupload', $.blueimp.fileupload, {\r\n\r\n      options: {\r\n        hiddenFileInput: undefined,\r\n        editModalId: undefined,\r\n        editModalImgId: undefined,\r\n        cropperResultMessageBoxSelector: undefined,\r\n        cropperButtonDivSelector: undefined,\r\n        cropperStatusBtnSelector: undefined,\r\n        cropperRotateBtnSelector: undefined,\r\n        sortableOptions: undefined,\r\n        statusDataName: undefined,\r\n        csrfCookieFunction: undefined,\r\n\r\n        getNumberOfUploadedFiles: function () {\r\n          return this.filesContainer.children('.template-download')\r\n            .not('.processing').length;\r\n        },\r\n\r\n        added: function (e, data) {\r\n          if (e.isDefaultPrevented()) {\r\n            return false;\r\n          }\r\n\r\n          const $this = $(this),\r\n            that = $this.data('blueimp-fileupload') ||\r\n              $this.data('fileupload');\r\n\r\n          if (!data.files) return false;\r\n          if (data.replaceChild && data.replaceChild.length) {\r\n            if (that._trigger('replace', e, data) !== false) {\r\n              delete data.replaceChild;\r\n            }\r\n          }\r\n\r\n          // todo: check if edit is allowed, for example, gif is not allowed in chrome.\r\n          $(data.context).find('.edit').prop('disabled', false);\r\n          that._toggleFileuploadButtonBarButtonDisplay();\r\n        },\r\n\r\n        replace: function (e, data) {\r\n          if (e.isDefaultPrevented()) {\r\n            return false;\r\n          }\r\n          const $this = $(this),\r\n            that = $this.data('blueimp-fileupload') ||\r\n              $this.data('fileupload');\r\n          $(data.context).replaceAll(data.replaceChild);\r\n          that._trigger('replaced', e, data);\r\n        },\r\n\r\n        submit: function (e, data) {\r\n          const $this = $(this),\r\n            that = $this.data('blueimp-fileupload') ||\r\n              $this.data('fileupload'),\r\n            options = that.options;\r\n\r\n          data.formData = {\r\n            \"thumbnail_size\": options.previewMaxWidth.toString() + \"x\" + options.previewMaxHeight.toString(),\r\n          };\r\n          if (options.csrfCookieFunction !== undefined) {\r\n            data.formData.csrfmiddlewaretoken = options.csrfCookieFunction()\r\n          }\r\n        },\r\n\r\n        failed: function (e, data) {\r\n          if (e.isDefaultPrevented()) {\r\n            return false;\r\n          }\r\n          $(data.context).find('.edit').prop('disabled', false).addClass(\"hidden\").end();\r\n\r\n          const that = $(this).data('blueimp-fileupload') || $(this).data('fileupload');\r\n          that._toggleFileuploadButtonBarButtonDisplay()._toggleFileuploadButtonBarDelete();\r\n        },\r\n\r\n        completed: function (e, data) {\r\n          if (e.isDefaultPrevented()) {\r\n            return false;\r\n          }\r\n          const that = $(this).data('blueimp-fileupload') || $(this).data('fileupload');\r\n          that._toggleFileuploadButtonBarButtonDisplay()._toggleFileuploadButtonBarDelete();\r\n          that._trigger(\"post_completed\", e, data);\r\n          that._fillInHiddenInputs();\r\n        },\r\n\r\n        destroyed: function (e, data) {\r\n          if (e.isDefaultPrevented()) {\r\n            return false;\r\n          }\r\n          const that = $(this).data('blueimp-fileupload') ||\r\n            $(this).data('fileupload');\r\n          that._trigger('completed', e, data);\r\n          that._trigger('finished', e, data);\r\n          that._trigger('post-destroy', e, data);\r\n\r\n          that._toggleFileuploadButtonBarButtonDisplay()._toggleFileuploadButtonBarDelete();\r\n        },\r\n\r\n        sortableUpdate: function (e, data) {\r\n          const that = $(this).data('blueimp-fileupload') ||\r\n            $(this).data('fileupload');\r\n          data.context = $(this);\r\n          that._trigger('completed', e, data);\r\n          that._trigger('finished', e, data);\r\n        },\r\n      },\r\n\r\n      _fillIn: function (input, files) {\r\n        const input_data = files.length ? JSON.stringify(files) : \"\";\r\n        input.val(this.options.filesDataToInputDataFunction(input_data));\r\n        if (input.hasClass(\"initializing\")) {\r\n          // prevent initialization from trigger inputChanged events.\r\n          input.removeClass(\"initializing\")\r\n        } else {\r\n          this._trigger(\"inputChanged\");\r\n        }\r\n      },\r\n      _fillInHiddenInputs: function () {\r\n        const filesInput = this.options.hiddenFileInput,\r\n          files_data = [];\r\n\r\n        // get input files_data\r\n        this.options.filesContainer.children('.template-download')\r\n          .not('.processing').find('.preview').each(function () {\r\n          files_data.push($(this).data(\"pk\"));\r\n        });\r\n\r\n        this._fillIn(filesInput, files_data);\r\n      },\r\n\r\n      _initEventHandlers: function () {\r\n        this._super();\r\n        const filesContainer = this.options.filesContainer;\r\n        this._on(filesContainer, {\r\n          'click .edit': this._editHandler\r\n        });\r\n        this._on(this.element, {\r\n          'change .toggle': this._toggleFileuploadButtonBarDeleteDisable\r\n        });\r\n      },\r\n\r\n      _toggleFileuploadButtonBarDeleteDisable: function () {\r\n        this.element.find('.fileupload-buttonbar')\r\n          .find('.delete')\r\n          .prop(\r\n            'disabled',\r\n            !(this.element.find('.toggle').is(':checked'))\r\n          );\r\n      },\r\n\r\n      _toggleFileuploadButtonBarButtonDisplay: function () {\r\n        const filesContainer = this.options.filesContainer,\r\n          bool = filesContainer.find('.template-upload').length === 0;\r\n        this.element.find('.fileupload-buttonbar')\r\n          .find('.start, .cancel')\r\n          .css(\"display\", bool ? \"none\" : \"\")\r\n          .prop(\"disabled\", bool)\r\n          .end();\r\n        return this;\r\n      },\r\n\r\n      _toggleFileuploadButtonBarDelete: function () {\r\n        const that = this.element,\r\n          disabledBool = that.find(\".toggle:checked\").length === 0,\r\n          displayBool = !(this.options.getNumberOfUploadedFiles());\r\n        that.find('.fileupload-buttonbar')\r\n          .find('.delete')\r\n          .css(\"display\", displayBool ? \"none\" : \"\").prop(\"disabled\", disabledBool).end()\r\n          .find(\".toggle\")\r\n          .css(\"display\", displayBool ? \"none\" : \"\")\r\n          .end();\r\n        return this;\r\n      },\r\n\r\n      _editHandler: function (e) {\r\n        e.preventDefault();\r\n\r\n        const $button = $(e.currentTarget),\r\n          options = this.options,\r\n          $fileupload = this.element,\r\n          template = $button.closest('.template-upload,.template-download'),\r\n          editType = template.hasClass(\"template-download\") ? \"download\" : \"upload\",\r\n          $editModal = options.editModalId,\r\n          $editImg = options.editModalImgId;\r\n\r\n        if (editType === \"upload\") {\r\n          const data = template.data(\"data\");\r\n          if (!data) {\r\n            $button.prop(\"disabled\", true);\r\n            return;\r\n          }\r\n          const mod = data.files[0];\r\n          let orig;\r\n          $.each(data.originalFiles, function (i, v) {\r\n            if (v.name === mod.name) {\r\n              orig = v;\r\n              return true;\r\n            }\r\n          });\r\n          if (!orig) {\r\n            return;\r\n          }\r\n\r\n          $editImg.prop('src', loadImage.createObjectURL(orig));\r\n          $editImg.processCroppedCanvas = function (result) {\r\n            $editModal.modal('hide');\r\n            options.cropperButtonSelector.prop(\"disabled\", true);\r\n            template.find(\".btn\").prop(\"disabled\", true);\r\n\r\n            // cheat maxNumberOfFiles count minus 1\r\n            data.context.addClass('processing');\r\n            result.toBlob(function (blob) {\r\n              blob.name = mod.name;\r\n              $fileupload.fileupload(\r\n                'add', {\r\n                  files: [blob],\r\n                  replaceChild: $(data.context)\r\n                }\r\n              );\r\n            }, orig.type);\r\n          };\r\n        }\r\n\r\n        if (editType === \"download\") {\r\n          $editImg.attr('src', $button.closest(\".template-download\").find(\".preview\").find(\"a\").attr(\"href\"));\r\n          $editImg.submitData = function (result) {\r\n            const messageBox = options.cropperResultMessageBoxSelector,\r\n              formData = {\r\n                \"cropped_result\": JSON.stringify(result),\r\n                \"thumbnail_size\": options.previewMaxWidth.toString() + \"x\" + options.previewMaxHeight.toString(),\r\n              };\r\n\r\n            if (options.csrfCookieFunction !== undefined) {\r\n              formData.csrfmiddlewaretoken = options.csrfCookieFunction()\r\n            }\r\n\r\n            options.cropperButtonSelector.prop(\"disabled\", true);\r\n            $editImg.cropper.disable();\r\n            $.ajax({\r\n              method: \"POST\",\r\n              url: $button.data(\"action\"),\r\n              data: formData,\r\n            })\r\n              .always(function () {\r\n              })\r\n              .done(function (data) {\r\n                options.done.call($fileupload,\r\n                  $.Event('done'),\r\n                  {\r\n                    result: data,\r\n                    context: $button.closest(\".template-download\")\r\n                  });\r\n                if (data.message) {\r\n                  messageBox.html(\"<span class='alert alert-success'>\" + data.message + \"</span>\")\r\n                }\r\n                $editModal.data(\"new\", false);\r\n                setTimeout(function () {\r\n                  if (!$editModal.data(\"new\")) {\r\n                    $editModal.modal('hide')\r\n                  }\r\n                }, 1000);\r\n              })\r\n              .fail(function (response) {\r\n                if (response.message) {\r\n                  messageBox.html(\"<span class='alert alert-danger'>\" + response.message + \"</span>\");\r\n                }\r\n              });\r\n            return false;\r\n          };\r\n        }\r\n\r\n        $editImg.rotateCanvas = function () {\r\n          const contData = $editImg.cropper.getContainerData(),\r\n            canvData = $editImg.cropper.getCanvasData(),\r\n            newWidth = canvData.width * (contData.height / canvData.height);\r\n          let newCanvData;\r\n\r\n          if (newWidth >= contData.width) {\r\n            const newHeight = canvData.height * (contData.width / canvData.width);\r\n            newCanvData = {\r\n              height: newHeight,\r\n              width: contData.width,\r\n              top: (contData.height - newHeight) / 2,\r\n              left: 0\r\n            };\r\n          } else {\r\n            newCanvData = {\r\n              height: contData.height,\r\n              width: newWidth,\r\n              top: 0,\r\n              left: (contData.width - newWidth) / 2\r\n            };\r\n          }\r\n          $editImg.cropper.setCanvasData(newCanvData).setCropBoxData(newCanvData);\r\n          options.cropperButtonSelector.prop(\"disabled\", false);\r\n        };\r\n\r\n        $editModal.modal('show', [$editImg, editType]);\r\n      },\r\n\r\n      _initEditModalId: function () {\r\n        const options = this.options;\r\n        if (options.editModalId === undefined) {\r\n          options.editModalId = this.element.find(\".edit-modal\");\r\n        } else if (!(options.editModalId instanceof $)) {\r\n          options.editModalId = $(options.editModalId);\r\n        }\r\n      },\r\n\r\n      _initEditModalImgId: function () {\r\n        const options = this.options;\r\n        if (options.editModalImgId === undefined) {\r\n          options.editModalImgId = this.element.find(\".modal-image\");\r\n        } else if (!(options.editModalImgId instanceof $)) {\r\n          options.editModalImgId = $(options.editModalImgId);\r\n        }\r\n      },\r\n\r\n      _initCropperResultMessageBoxSelector: function () {\r\n        const options = this.options;\r\n        if (options.cropperResultMessageBoxSelector === undefined) {\r\n          options.cropperResultMessageBoxSelector = this.element.find(\".cropper-message\");\r\n        } else if (!(options.cropperResultMessageBoxSelector instanceof $)) {\r\n          options.cropperResultMessageBoxSelector = $(options.cropperResultMessageBoxSelector);\r\n        }\r\n      },\r\n\r\n      _initCropperButtonDivSelector: function () {\r\n        const options = this.options;\r\n        if (options.cropperButtonDivSelector === undefined) {\r\n          options.cropperButtonDivSelector = this.element.find(\".cropper-btns\");\r\n        } else if (!(options.cropperButtonDivSelector instanceof $)) {\r\n          options.cropperButtonDivSelector = $(options.cropperButtonDivSelector);\r\n        }\r\n      },\r\n\r\n      _initCropperButtonSelector: function () {\r\n        const options = this.options;\r\n        options.cropperButtonSelector = options.cropperButtonDivSelector.find(\".btn\")\r\n      },\r\n\r\n      _initCropperStatusBtnSelector: function () {\r\n        const options = this.options;\r\n        if (options.cropperStatusBtnSelector === undefined) {\r\n          options.cropperStatusBtnSelector = this.element.find('.cropper-status-btns .btn');\r\n        } else if (!(options.cropperStatusBtnSelector instanceof $)) {\r\n          options.cropperStatusBtnSelector = $(options.cropperStatusBtnSelector);\r\n        }\r\n      },\r\n\r\n      _initCropperRotateBtnSelector: function () {\r\n        const options = this.options;\r\n        if (options.cropperRotateBtnSelector === undefined) {\r\n          options.cropperRotateBtnSelector = this.element.find(\".cropper-rotate-btns .btn\");\r\n        } else if (!(options.cropperRotateBtnSelector instanceof $)) {\r\n          options.cropperRotateBtnSelector = $(options.cropperRotateBtnSelector);\r\n        }\r\n      },\r\n\r\n      _initEditModalEventHandler: function () {\r\n        const $editModal = this.options.editModalId,\r\n          that = this,\r\n          options = that.options;\r\n        let $image, editType, croppStartingData, cropperElement;\r\n        $editModal.on('show.bs.modal', function (e) {\r\n          $image = e.relatedTarget[0];\r\n          cropperElement = $image[0];\r\n          editType = e.relatedTarget[1];\r\n        })\r\n          .on('shown.bs.modal', function (e) {\r\n            $(this).data('new', true);\r\n            that._trigger(\"modalshownevent\", e, true);\r\n            $image.cropper = new Cropper(cropperElement, {\r\n              viewMode: 1,\r\n              checkOrientation: false,\r\n              autoCrop: true,\r\n              autoCropArea: 1,\r\n              strict: true,\r\n              movable: false,\r\n              zoomable: false,\r\n              restore: false,\r\n              ready: function (e) {\r\n                croppStartingData = $image.cropper.getData(true);\r\n                options.cropperRotateBtnSelector.prop(\"disabled\", false);\r\n              },\r\n              cropstart: function (e) {\r\n                that._trigger('modalinprogessstatus', e, true);\r\n              },\r\n              crop: function (e) {\r\n              },\r\n              cropend: function (e) {\r\n                const currentData = $image.cropper.getData(true),\r\n                  cropNotChanged = JSON.stringify(croppStartingData) === JSON.stringify(currentData);\r\n                options.cropperStatusBtnSelector.prop(\"disabled\", cropNotChanged);\r\n                that._trigger('modalinprogessstatus', e, !cropNotChanged);\r\n              }\r\n            });\r\n\r\n          })\r\n          .on('hidden.bs.modal', function (e) {\r\n            that._trigger('modalinprogessstatus', e, false);\r\n            that._trigger(\"modalhiddenevent\", e, true);\r\n            $image.cropper.destroy();\r\n            $(this).attr(\"data-new\", false);\r\n            options.cropperButtonSelector.prop(\"disabled\", false);\r\n            options.cropperStatusBtnSelector\r\n              .prop(\"disabled\", true);\r\n            options.cropperResultMessageBoxSelector\r\n              .empty()\r\n              .end()\r\n              .active = false;\r\n          })\r\n          .on('show.bs.modal', function (e) {\r\n            that._trigger(\"modalshowevent\", e, true);\r\n          })\r\n          .on('hide.bs.modal', function (e) {\r\n            that._trigger(\"modalhideevent\", e, true);\r\n          });\r\n\r\n        options.cropperButtonDivSelector.on(\r\n          'click',\r\n          '[data-method]',\r\n          function (e) {\r\n            const data = $.extend({}, $(this).data()); // Clone\r\n            if (data.method === \"rotate\") {\r\n              const contData = $image.cropper.getContainerData();\r\n              $image.cropper.setCropBoxData({\r\n                width: 2,\r\n                height: 2,\r\n                top: (contData.height / 2) - 1,\r\n                left: (contData.width / 2) - 1\r\n              });\r\n            } else if (data.method === \"commit\") {\r\n              if (editType === \"download\") {\r\n                data.method = \"getData\";\r\n                data.option = true;\r\n              } else if (editType === \"upload\") {\r\n                data.method = \"getCroppedCanvas\";\r\n              }\r\n            }\r\n\r\n            that._trigger('modalinprogessstatus', e, true);\r\n\r\n            const result = $image.cropper[data.method](data.option);\r\n\r\n            switch (data.method) {\r\n              case 'scaleX':\r\n              case 'scaleY':\r\n                $(this).data('option', -data.option);\r\n                break;\r\n              case 'reset':\r\n                options.cropperButtonSelector.prop(\"disabled\", false);\r\n                options.cropperStatusBtnSelector.prop(\"disabled\", true);\r\n                break;\r\n              case 'getData':\r\n                if (result && $image.submitData) {\r\n                  $image.submitData(result);\r\n                }\r\n                break;\r\n              case 'getCroppedCanvas':\r\n                if (result && $image.processCroppedCanvas) {\r\n                  $image.processCroppedCanvas(result);\r\n                }\r\n                break;\r\n              case 'rotate':\r\n                if (result && $image.rotateCanvas) {\r\n                  $image.rotateCanvas();\r\n                }\r\n                break;\r\n            }\r\n\r\n            const currentData = $image.cropper.getData(true);\r\n\r\n            if (JSON.stringify(croppStartingData) === JSON.stringify(currentData)) {\r\n              options.cropperStatusBtnSelector.prop(\"disabled\", true);\r\n              that._trigger('modalinprogessstatus', e, false);\r\n            }\r\n\r\n          });\r\n      },\r\n\r\n      _initEditModal: function () {\r\n        this._initEditModalId();\r\n        this._initEditModalImgId();\r\n        this._initCropperResultMessageBoxSelector();\r\n        this._initCropperButtonDivSelector();\r\n        this._initCropperButtonSelector();\r\n        this._initCropperStatusBtnSelector();\r\n        this._initCropperRotateBtnSelector();\r\n        this._initEditModalEventHandler();\r\n      },\r\n\r\n      _initStatusDataName: function () {\r\n        const options = this.options;\r\n        if (options.statusDataName === undefined) {\r\n          options.statusDataName = \"file-pk\";\r\n        }\r\n      },\r\n\r\n      _initSortable: function () {\r\n        const options = this.options,\r\n          that = this,\r\n          defaultSortableOptions = {\r\n            disabled: false,\r\n            delay: 300,\r\n            animation: 200,\r\n            touchStartThreshold: 5,\r\n            ghostClass: \"galleryWidget-sortable-ghost\",\r\n            chosenClass: \"galleryWidget-sortable-chosen\",\r\n            filter: \".btn, .toggle, img, a, span, progress\",\r\n          };\r\n\r\n        const sortableOptions = $.extend(defaultSortableOptions, options.sortableOptions || {});\r\n        delete sortableOptions.handle;\r\n\r\n        sortableOptions.onUpdate = function (evt) {\r\n          that._trigger(\"sortableUpdate\", evt.item);\r\n        }\r\n\r\n        Sortable.create(options.filesContainer.get(0), sortableOptions)\r\n      },\r\n\r\n      _initFilesDataToInputDataFunction: function () {\r\n        const options = this.options;\r\n        if (options.filesDataToInputDataFunction === undefined) {\r\n          options.filesDataToInputDataFunction = function (filesData) {\r\n            return filesData\r\n          };\r\n        }\r\n      },\r\n\r\n      _initSpecialOptions: function () {\r\n        this._super();\r\n        this._initStatusDataName();\r\n        this._initSortable();\r\n        this._initEditModal();\r\n        this._initWidgetHiddenInput();\r\n        this._initFilesDataToInputDataFunction();\r\n      },\r\n\r\n      _initWidgetHiddenInput: function () {\r\n        const options = this.options;\r\n        if (options.hiddenFileInput === undefined) {\r\n          // todo: how to find the input?\r\n        } else if (!(options.hiddenFileInput instanceof $)) {\r\n          options.hiddenFileInput = $(options.hiddenFileInput);\r\n        }\r\n      },\r\n\r\n    }\r\n  );\r\n});\r\n","var e=[],t=[];function n(n,r){if(n&&\"undefined\"!=typeof document){var a,s=!0===r.prepend?\"prepend\":\"append\",d=!0===r.singleTag,i=\"string\"==typeof r.container?document.querySelector(r.container):document.getElementsByTagName(\"head\")[0];if(d){var u=e.indexOf(i);-1===u&&(u=e.push(i)-1,t[u]={}),a=t[u]&&t[u][s]?t[u][s]:t[u][s]=c()}else a=c();65279===n.charCodeAt(0)&&(n=n.substring(1)),a.styleSheet?a.styleSheet.cssText+=n:a.appendChild(document.createTextNode(n))}function c(){var e=document.createElement(\"style\");if(e.setAttribute(\"type\",\"text/css\"),r.attributes)for(var t=Object.keys(r.attributes),n=0;n<t.length;n++)e.setAttribute(t[n],r.attributes[t[n]]);var a=\"prepend\"===s?\"afterbegin\":\"beforeend\";return i.insertAdjacentElement(a,e),e}}export{n as default};\n"],"names":["$","urlAPI","URL","webkitURL","createObjectURL","blob","revokeObjectURL","url","revokeHelper","options","slice","noRevoke","readFile","file","onload","onerror","method","FileReader","reader","call","this","result","onabort","error","readerMethod","isInstanceOf","type","obj","Object","prototype","toString","loadImage","callback","executor","resolve","reject","img","document","createElement","resolveWrapper","data","Error","image","fetchBlobCallback","err","console","log","crossOrigin","src","event","originalWidth","naturalWidth","width","originalHeight","naturalHeight","height","transform","requiresMetaData","fetchBlob","Promise","meta","global","module","exports","window","factory","originalTransform","createCanvas","offscreen","OffscreenCanvas","canvas","scale","transformCoordinates","getTransformedOptions","newOptions","i","aspectRatio","hasOwnProperty","crop","maxWidth","maxHeight","drawImage","sourceX","sourceY","sourceWidth","sourceHeight","destWidth","destHeight","ctx","getContext","imageSmoothingEnabled","msImageSmoothingEnabled","imageSmoothingQuality","requiresCanvas","minWidth","minHeight","pixelRatio","downsamplingRatio","tmp","useCanvas","HTMLCanvasElement","scaleUp","Math","max","scaleDown","min","left","top","undefined","right","bottom","contain","cover","style","floor","parseFloat","orientationCropBug","setTransform","require$$0","blobSlice","Blob","webkitSlice","mozSlice","bufferSlice","ArrayBuffer","begin","end","byteLength","arr1","Uint8Array","arr2","set","buffer","metaDataParsers","jpeg","parseMetaData","that","DataView","size","maxMetaDataSize","dataView","getUint16","markerBytes","markerLength","parsers","offset","maxOffset","headLength","disableMetaDataParsers","length","disableImageHead","imageHead","replaceJPEGHead","oldHead","newHead","apply","arguments","replaceHead","head","then","fetch","Request","Response","responseHandler","response","XMLHttpRequest","responseType","req","open","headers","keys","forEach","key","setRequestHeader","withCredentials","credentials","ontimeout","send","body","ExifMap","tagCode","defineProperty","value","ifds","map","tags","Orientation","Thumbnail","Exif","GPSInfo","Interoperability","ifd1","name","get","id","ExifTagTypes","getValue","dataOffset","getUint8","String","fromCharCode","ascii","littleEndian","getUint32","getInt32","getExifValue","tiffOffset","tagSize","values","str","c","tagType","shouldIncludeTag","includeTags","excludeTags","parseExifTags","dirOffset","tagOffsets","tagsNumber","dirEndOffset","tagOffset","tagNumber","tagValue","parseExifData","disableExif","thumbnailIFD","includeExifTags","excludeExifTags","exif","disableExifOffsets","exifOffsets","exifTiffOffset","exifLittleEndian","parseExifIFD","getExifThumbnail","push","exifWriters","orientationOffset","setUint16","writeExifData","ExifMapProto","stringValues","ExposureProgram","MeteringMode","LightSource","Flash","SensingMethod","SceneCaptureType","SceneType","CustomRendered","WhiteBalance","GainControl","Contrast","Saturation","Sharpness","SubjectDistanceRange","FileSource","ComponentsConfiguration","getText","getAll","prop","getName","ifd","subTags","Number","IptcMap","getTagValue","types","outstr","n","getStringValue","combineTagValues","newValue","Array","parseIptcTags","segmentOffset","segmentLength","segmentEnd","getInt16","iptc","iptcOffsets","isSegmentStart","getHeaderLength","ObjectName","parseIptcData","disableIptc","headerLength","disableIptcOffsets","includeIptcTags","excludeIptcTags","IptcMapProto","a","b","p","L","P","S","stringValue","originalRequiresCanvas","originalRequiresMetaData","originalTransformCoordinates","originalGetTransformedOptions","requiresCanvasOrientation","withMetaData","orientation","requiresOrientationChange","autoOrientation","requiresRot180","getImageData","opts","exifOrientation","tmpTop","tmpRight","translate","rotate","PI","js","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread2","target","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","_typeof","Symbol","iterator","constructor","configurable","writable","_extends","assign","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","userAgent","pattern","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","el","fn","addEventListener","off","removeEventListener","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","_","getParentOrHost","host","nodeType","parentNode","closest","includeCTX","_throttleTimeout","R_SPACE","toggleClass","state","classList","className","replace","css","val","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","find","tagName","list","getElementsByTagName","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","scaleY","d","isScrolledPast","elSide","parentSide","parent","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","includeDragEl","currentChild","children","display","Sortable","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","index","nodeName","toUpperCase","clone","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","isRectEqual","rect1","rect2","round","throttle","ms","args","_this","setTimeout","scrollBy","x","y","Polymer","jQuery","Zepto","dom","cloneNode","expando","Date","getTime","AnimationStateManager","animationCallbackId","animationStates","captureAnimationState","animation","child","rect","fromRect","thisAnimationDuration","childMatrix","f","e","addAnimationState","removeAnimationState","splice","arr","indexOfObject","animateAll","clearTimeout","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","offsetWidth","repaint","easing","animated","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","option","pluginName","concat","pluginEvent","eventName","sortable","evt","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","_excluded","_ref","originalEvent","bind","dragEl","parentEl","ghostEl","rootEl","nextEl","lastDownEl","cloneEl","cloneHidden","dragStarted","moved","putSortable","activeSortable","active","oldIndex","oldDraggableIndex","newIndex","newDraggableIndex","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","targetEl","toEl","fromEl","extraEventProperties","onName","charAt","substr","CustomEvent","createEvent","initEvent","bubbles","cancelable","to","from","item","pullMode","lastPutMode","allEventProperties","dispatchEvent","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","join","originalGroup","checkPull","checkPut","put","revertClone","preventDefault","stopPropagation","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","clientX","clientY","some","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","ret","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","sort","disabled","store","handle","test","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","_onMove","dragRect","targetRect","willInsertAfter","retVal","onMoveFn","onMove","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","href","sum","charCodeAt","_nextTick","_cancelNextTick","contains","_getDirection","touch","pointerType","originalTarget","shadowRoot","path","composedPath","root","inputs","idx","checked","_saveInputCheckedState","button","isContentEditable","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","ghostMatrix","relativeScrollOffset","dx","dy","cssMatrix","appendChild","removeAttribute","_hideClone","cloneId","insertBefore","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","spacer","_ghostIsLast","changed","_ghostIsFirst","firstChild","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","removeChild","save","handleEvent","dropEffect","_globalDragOver","toArray","order","getAttribute","useAnimation","items","destroy","querySelectorAll","utils","is","extend","dst","nextTick","cancelNextTick","detectDirection","element","_len","_key","create","version","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","changedTouches","onSpill","Revert","Remove","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_toConsumableArray","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","o","minLen","_unsupportedIterableToArray","_nonIterableSpread","len","startIndex","dragStart","_ref2","_ref3","_ref4","parentSortable","AutoScroll","forceAutoScrollFallback","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","dragOverBubble","nulling","ogElemScroller","newElem","IS_BROWSER","WINDOW","IS_TOUCH_DEVICE","HAS_POINTER_EVENT","NAMESPACE","ACTION_ALL","ACTION_CROP","ACTION_MOVE","ACTION_ZOOM","ACTION_EAST","ACTION_WEST","ACTION_SOUTH","ACTION_NORTH","ACTION_NORTH_EAST","ACTION_NORTH_WEST","ACTION_SOUTH_EAST","ACTION_SOUTH_WEST","CLASS_CROP","CLASS_DISABLED","CLASS_HIDDEN","CLASS_HIDE","CLASS_INVISIBLE","CLASS_MODAL","CLASS_MOVE","DATA_ACTION","DATA_PREVIEW","DRAG_MODE_CROP","DRAG_MODE_MOVE","DRAG_MODE_NONE","EVENT_CROP","EVENT_CROP_END","EVENT_CROP_MOVE","EVENT_CROP_START","EVENT_DBLCLICK","EVENT_POINTER_DOWN","EVENT_POINTER_MOVE","EVENT_POINTER_UP","EVENT_READY","EVENT_RESIZE","EVENT_WHEEL","EVENT_ZOOM","MIME_TYPE_JPEG","REGEXP_ACTIONS","REGEXP_DATA_URL","REGEXP_DATA_URL_JPEG","REGEXP_TAG_NAME","DEFAULTS","viewMode","dragMode","initialAspectRatio","NaN","preview","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","center","highlight","background","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRatio","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","minContainerWidth","minContainerHeight","ready","cropstart","cropmove","cropend","zoom","isNaN","isNumber","isPositiveNumber","Infinity","isUndefined","isObject","isPlainObject","_constructor","isFunction","arg","REGEXP_DECIMALS","normalizeDecimalNumber","times","REGEXP_SUFFIX","setStyle","styles","property","addClass","add","removeClass","remove","added","REGEXP_CAMEL_CASE","toParamCase","toLowerCase","getData","dataset","setAttribute","REGEXP_SPACES","onceSupported","supported","once","listener","removeListener","handler","listeners","addListener","_handler","_element$listeners","_len2","_key2","Event","detail","initCustomEvent","getOffset","box","pageXOffset","clientLeft","pageYOffset","clientTop","location","REGEXP_ORIGINS","isCrossOriginURL","parts","protocol","hostname","port","addTimestamp","timestamp","getTransforms","WebkitTransform","msTransform","getPointer","endOnly","pageX","pageY","endX","endY","startX","startY","getAdjustedSizes","isValidWidth","isValidHeight","adjustedWidth","getSourceCanvas","_ref6","_ref7","_ref8","imageAspectRatio","imageNaturalWidth","imageNaturalHeight","_ref6$rotate","_ref6$scaleX","_ref6$scaleY","_ref8$fillColor","fillColor","_ref8$imageSmoothingE","_ref8$imageSmoothingQ","_ref8$maxWidth","_ref8$maxHeight","_ref8$minWidth","_ref8$minHeight","context","maxSizes","minSizes","destMaxSizes","destMinSizes","params","fillStyle","fillRect","param","REGEXP_DATA_URL_HEAD","resetAndGetOrientation","arrayBuffer","app1Start","ifdStart","start","getStringFromCharCode","endianness","firstIFDOffset","_offset","_length","render","initContainer","initCanvas","initCropBox","renderCanvas","cropped","renderCropBox","cropper","containerData","offsetHeight","imageData","rotated","canvasWidth","canvasHeight","canvasData","limited","limitCanvas","oldLeft","oldTop","initialCanvasData","sizeLimited","positionLimited","cropBoxData","_getAdjustedSizes","newCanvasLeft","newCanvasTop","minLeft","minTop","maxLeft","maxTop","transformed","_getRotatedSizes","_ref5","degree","arc","sinArc","sin","cosArc","cos","newWidth","newHeight","getRotatedSizes","renderImage","limitCropBox","output","initialCropBoxData","maxCropBoxWidth","maxCropBoxHeight","face","cropBox","initPreview","crossOriginUrl","alt","viewBox","viewBoxImage","previews","querySelector","html","innerHTML","resetPreview","removeData","cropBoxWidth","cropBoxHeight","ratio","events","onCropStart","cropStart","onWheel","wheel","onDblclick","dblclick","onCropMove","cropMove","onCropEnd","cropEnd","onResize","resize","unbind","handlers","ratioX","ratioY","getCanvasData","getCropBoxData","setCanvasData","setCropBoxData","setDragMode","dragBox","delta","wheeling","deltaY","wheelDelta","buttons","ctrlKey","action","pointers","identifier","pointerId","cropping","change","renderable","shiftKey","pointer","range","check","side","move","pointers2","maxRatio","pointer2","x1","y1","x2","y2","z1","getMaxZoomRatio","methods","reset","initialImageData","hasSameSize","isImg","replaced","uncreate","load","enable","disable","originalUrl","offsetX","offsetY","_this$canvasData","moveTo","_originalEvent","zoomTo","pivot","oldRatio","count","getPointersCenter","rotateTo","_scaleX","_scaleY","rounded","getContainerData","sized","widthChanged","heightChanged","getCroppedCanvas","_this$getData","initialX","initialY","initialWidth","initialHeight","_options$imageSmoothi","srcWidth","srcHeight","dstX","dstY","dstWidth","dstHeight","srcX","srcY","setAspectRatio","mode","croppable","AnotherCropper","Cropper","reloading","sizing","init","protoProps","staticProps","toDataURL","read","base64","binary","atob","uint8","xhr","onprogress","getResponseHeader","abort","onloadend","mimeType","chunks","subarray","btoa","arrayBufferToDataURL","_parseOrientation","parseOrientation","stop","_this2","isIOSWebKit","done","build","sizingImage","template","getElementsByClassName","unbuild","t","define","amd","blueimp","Gallery","helper","num","initOptions","initialize","slidesContainer","titleElement","displayClass","controlsClass","singleClass","leftEdgeClass","rightEdgeClass","playingClass","svgasimgClass","smilClass","slideClass","slideActiveClass","slidePrevClass","slideNextClass","slideLoadingClass","slideErrorClass","slideContentClass","prevClass","nextClass","closeClass","playPauseClass","typeProperty","titleProperty","altTextProperty","urlProperty","srcsetProperty","sizesProperty","sourcesProperty","displayTransition","clearSlides","toggleControlsOnEnter","toggleControlsOnSlideClick","toggleSlideshowOnSpace","enableKeyboardNavigation","closeOnEscape","closeOnSlideClick","closeOnSwipeUpOrDown","closeOnHashChange","emulateTouchEvents","stopTouchEventsPropagation","hidePageScrollbars","disableScroll","carousel","continuous","unloadElements","startSlideshow","slideshowInterval","slideshowDirection","preloadRange","transitionDuration","slideshowTransitionDuration","onopen","onopened","onslide","onslideend","onslidecomplete","onclose","onclosed","carouselOptions","support","s","HTMLSourceElement","picture","HTMLPictureElement","svgasimg","implementation","hasFeature","smil","createElementNS","ontouchstart","DocumentTouch","webkitTransition","prefix","MozTransition","OTransition","transition","getPropertyValue","translateZ","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","webkitCancelRequestAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","initStartIndex","initWidget","initEventListeners","ontransitionend","play","slide","timeout","circle","positions","slideWidth","getIndex","getNumber","prev","next","interval","elements","animationFrameId","playPauseElement","pause","addSlide","positionSlide","initSlides","resetSlides","unloadAllSlides","slides","handleClose","destroyEventListeners","overflow","bodyOverflowStyle","close","returnValue","cancelBubble","onresize","onhashchange","onmousedown","which","onmousemove","touchStart","ontouchmove","onmouseup","ontouchend","onmouseout","relatedTarget","now","isScrolling","touchDelta","unshift","pop","l","r","h","ceil","u","ontouchcancel","oncomplete","srcElement","getNodeIndex","onkeydown","keyCode","toggleControls","toggleSlideshow","handleClick","hasClass","onclick","updateEdgeClasses","updateActiveSlide","hidden","handleSlide","loadElements","setTitle","title","createTextNode","imageFactory","imagePrototype","getItemProperty","m","picturePrototype","sourcePrototype","sizes","srcset","elementPrototype","iteratePreloadRange","loadElement","proxyListener","unloadSlide","slidePrototype","slideHeight","getNestedProperty","getDataProperty","parseJSON","handleOpen","first","fullscreen","getFullScreenElement","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","requestFullScreen","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","exitFullScreen","exitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","indicatorContainer","activeIndicatorClass","thumbnailProperty","thumbnailIndicators","createIndicator","indicatorPrototype","backgroundImage","addIndicator","indicators","setActiveIndicator","activeIndicator","C","videoContentClass","videoLoadingClass","videoPlayingClass","videoIframeClass","videoCoverClass","videoPlayClass","videoPlaysInline","videoPreloadProperty","videoPosterProperty","activeVideo","videoFactory","g","v","preload","seeking","controls","postMessage","vimeoVideoIdProperty","vimeoPlayerUrl","vimeoPlayerIdPrefix","vimeoClickToPlay","textFactory","videoId","playerId","clickToPlay","loadAPI","playOnReady","readyState","onReady","player","addEvent","hasPlayed","onPlaying","onPause","playStatus","playing","insertIframe","allow","replaceChild","platform","api","$f","VimeoPlayer","youTubeVideoIdProperty","youTubePlayerVars","wmode","youTubeClickToPlay","playerVars","onYouTubeIframeAPIReady","onStateChange","pauseTimeout","YT","PlayerState","PLAYING","UNSTARTED","PAUSED","ENDED","onError","playVideo","Player","pauseVideo","YouTubePlayer","trigger","tmpl","Function","regexp","func","cache","getElementById","p1","p2","p3","p4","p5","encReg","encMap","encode","CanvasPrototype","hasBlobConstructor","Boolean","hasArrayBufferViewSupport","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","dataURIPattern","dataURLtoBlob","dataURI","mediaType","isBase64","dataString","byteString","intArray","bb","decodeURIComponent","append","getBlob","toBlob","mozGetAsFile","quality","self","msToBlob","ui","expr","pseudos","uniqueSort","unique","orig","widgetUuid","widgetHasOwnProperty","widgetSlice","cleanData","elems","_data","triggerHandler","widget","base","existingConstructor","basePrototype","proxiedPrototype","namespace","fullName","Widget","_createWidget","_proto","_childConstructors","each","_super","_superApply","__super","__superApply","widgetEventPrefix","widgetName","widgetFullName","childPrototype","bridge","input","inputIndex","inputLength","isMethodCall","methodValue","jquery","pushStack","_init","defaultElement","classes","uuid","eventNamespace","bindings","hoverable","focusable","classesElementLookup","_on","parentWindow","_getCreateOptions","_create","_setOptionDisabled","_trigger","_getCreateEventData","noop","_destroy","_removeClass","removeAttr","curOption","shift","_setOptions","_setOption","_setOptionClasses","classKey","currentElements","_classes","_toggleClass","full","bindRemoveEvent","processClassString","checkOption","current","not","_untrackClassesElement","inArray","_off","_addClass","suppressDisabledCheck","delegateElement","handlerProxy","guid","_delay","_hoverable","mouseenter","currentTarget","mouseleave","_focusable","focusin","focusout","isDefaultPrevented","show","hide","defaultEffect","hasOptions","effect","effectName","isEmptyObject","complete","effects","queue","getDragHandler","isDragOver","delegatedEvent","fileInput","RegExp","xhrFileUpload","ProgressEvent","xhrFormDataFileUpload","FormData","dropZone","pasteZone","replaceFileInput","paramName","singleFileUploads","limitMultiFileUploads","limitMultiFileUploadSize","limitMultiFileUploadSizeOverhead","sequentialUploads","limitConcurrentUploads","forceIframeTransport","redirect","redirectParamName","multipart","maxChunkSize","uploadedBytes","recalculateProgress","progressInterval","bitrateInterval","autoUpload","uniqueFilenames","messages","i18n","message","formData","form","serializeArray","fileupload","process","submit","processData","contentType","_promisePipe","_specialOptions","_blobSlice","_BitrateTimer","loaded","bitrate","getBitrate","timeDiff","_isXHRUpload","_getFormData","_getTotal","files","total","_initProgressObject","progress","_progress","_initResponseObject","_response","_onProgress","lengthComputable","_time","chunkSize","_bitrateTimer","_initProgressListener","ajaxSettings","upload","oe","_deinitProgressListener","_isInstanceOf","_getUniqueFilename","_initXHRData","contentRange","encodeURI","uploadName","field","fileName","_initIframeSettings","targetHost","dataType","_initDataSettings","_chunkedUpload","_getParamName","_initFormSettings","formAcceptCharset","attr","_getAJAXSettings","_getDeferredState","deferred","isResolved","isRejected","_enhancePromise","promise","success","fail","always","_getXHRPromise","resolveOrReject","dfd","Deferred","resolveWith","rejectWith","_addConvenienceMethods","getPromise","resolveFunc","rejectFunc","_processQueue","errorThrown","jqXHR","_onSend","processing","_getUploadedBytes","upperBytesPos","testOnly","fs","ub","mcs","currentLoaded","ajax","textStatus","_beforeSend","_active","_onDone","_onFail","_onAlways","jqXHRorResult","jqXHRorError","aborted","slot","pipe","_sending","nextSlot","_slots","_sequence","_onAdd","paramNameSet","paramNameSlice","fileSet","filesLength","limit","limitSize","overhead","batchSize","j","originalFiles","newData","_replaceFileInput","inputClone","restoreFocus","activeElement","fileInputClone","detach","_handleFileTreeEntry","entry","dirReader","entries","errorHandler","successHandler","_handleFileTreeEntries","readEntries","results","isFile","_file","relativePath","isDirectory","createReader","when","_getDroppedFiles","webkitGetAsEntry","getAsEntry","getAsFile","makeArray","_getSingleFileInputFiles","fileSize","_getFileInputFiles","_onChange","_onPaste","clipboardData","_onDragEnter","_onDragLeave","_initEventHandlers","dragover","dragenter","dragleave","paste","_destroyEventHandlers","reinit","_initSpecialOptions","_getRegExp","modifiers","_isRegExpOption","_initDataAttributes","attributes","originalAdd","processQueue","$this","processActions","_processFile","originalData","chain","settings","_transformProcessQueue","_processing","_processingQueue","fileTypes","maxFileSize","forceResize","thumbnail","loadImageFileTypes","loadImageMaxFileSize","imageMaxWidth","imageMaxHeight","imageOrientation","imageCrop","disableImageResize","previewMaxWidth","previewMaxHeight","previewOrientation","previewThumbnail","previewCrop","previewCanvas","resizeImage","thumbnailBlob","newImg","saveImage","loadImageMetaData","saveImageMetaData","setImage","deleteImageReferences","require$$1","loadAudioFileTypes","_audioElement","loadAudio","audio","canPlayType","setAudio","loadVideoFileTypes","_videoElement","loadVideo","video","setVideo","acceptFileTypes","minFileSize","maxNumberOfFiles","getNumberOfFiles","validate","showElementClass","uploadTemplateId","downloadTemplateId","filesContainer","prependFiles","unknownError","getFilesFromResponse","_renderUpload","_forceReflow","_transition","text","_formatFileSize","_renderPreviews","_addFinishedDeferreds","node","_renderDownload","replaceAll","progressall","globalProgressNode","extendedProgressNode","_renderExtendedProgress","_resetFinishedDeferreds","_getFinishedDeferreds","processstart","processstop","removeNode","_finishedUploads","_enableDragToDesktop","link","bytes","toFixed","_formatBitrate","bits","_formatTime","seconds","date","days","getUTCHours","getUTCMinutes","getUTCSeconds","_formatPercentage","floatValue","_renderTemplate","formatFileSize","templatesContainer","elm","uploadTemplate","downloadTemplate","_editHandler","edit","_startHandler","_cancelHandler","_deleteHandler","transitionEndHandler","_initButtonBarEventHandlers","fileUploadButtonBar","filesList","click","_destroyButtonBarEventHandlers","_enableFileInputButton","_disableFileInputButton","_initTemplates","_initFilesContainer","wasDisabled","hiddenFileInput","editModalId","editModalImgId","cropperResultMessageBoxSelector","cropperButtonDivSelector","cropperStatusBtnSelector","cropperRotateBtnSelector","sortableOptions","statusDataName","csrfCookieFunction","getNumberOfUploadedFiles","_toggleFileuploadButtonBarButtonDisplay","thumbnail_size","csrfmiddlewaretoken","failed","_toggleFileuploadButtonBarDelete","_fillInHiddenInputs","destroyed","sortableUpdate","_fillIn","input_data","JSON","stringify","filesDataToInputDataFunction","filesInput","files_data","_toggleFileuploadButtonBarDeleteDisable","bool","disabledBool","displayBool","$button","$fileupload","editType","$editModal","$editImg","mod","processCroppedCanvas","cropperButtonSelector","submitData","messageBox","cropped_result","rotateCanvas","contData","canvData","newCanvData","_initEditModalId","_initEditModalImgId","_initCropperResultMessageBoxSelector","_initCropperButtonDivSelector","_initCropperButtonSelector","_initCropperStatusBtnSelector","_initCropperRotateBtnSelector","_initEditModalEventHandler","$image","croppStartingData","cropperElement","strict","currentData","cropNotChanged","_initEditModal","_initStatusDataName","_initSortable","defaultSortableOptions","onUpdate","_initFilesDataToInputDataFunction","filesData","_initWidgetHiddenInput","prepend","singleTag","styleSheet","insertAdjacentElement"],"mappings":"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"}